"use strict";(self.webpackChunkconsultoring_app=self.webpackChunkconsultoring_app||[]).push([[179],{2011:(He,ge,D)=>{D.d(ge,{Dh:()=>he,GT:()=>W,cc:()=>De,hO:()=>Re,on:()=>z,pX:()=>ee,xv:()=>de});var f=D(4650),d=D(9260),k=D(8405);He=D.hmd(He);const re=["ngOnDestroy"],ee=(Fe,It,Et,Be={})=>new Proxy(Fe,{get:(fe,Pe)=>Et.runOutsideAngular(()=>{var Ge;if(Fe[Pe])return!(null===(Ge=Be?.spy)||void 0===Ge)&&Ge.get&&Be.spy.get(Pe,Fe[Pe]),Fe[Pe];if(re.indexOf(Pe)>-1)return()=>{};const qe=It.toPromise().then(Ve=>{const wt=Ve&&Ve[Pe];return"function"==typeof wt?wt.bind(Ve):wt&&wt.then?wt.then(Zt=>Et.run(()=>Zt)):Et.run(()=>wt)});return new Proxy(()=>{},{get:(Ve,wt)=>qe[wt],apply:(Ve,wt,Zt)=>qe.then(Ht=>{var on;const Gt=Ht&&Ht(...Zt);return!(null===(on=Be?.spy)||void 0===on)&&on.apply&&Be.spy.apply(Pe,Zt,Gt),Gt})})})}),W=(Fe,It)=>{It.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(Be=>{Object.defineProperty(Fe.prototype,Be,Object.getOwnPropertyDescriptor(Et.prototype||Et,Be))})})};class Ee{constructor(It){return It}}const he=new f.OlP("angularfire2.app.options"),de=new f.OlP("angularfire2.app.name");function z(Fe,It,Et){const fe="object"==typeof Et&&Et||{};fe.name=fe.name||"string"==typeof Et&&Et||"[DEFAULT]";const Ge=d.Z.apps.filter(qe=>qe&&qe.name===fe.name)[0]||It.runOutsideAngular(()=>d.Z.initializeApp(Fe,fe));try{JSON.stringify(Fe)!==JSON.stringify(Ge.options)&&ce("error",`${Ge.name} Firebase App already initialized with different options${He.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(Ge)}const ce=(Fe,...It)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Fe](...It)},U={provide:Ee,useFactory:z,deps:[he,f.R0b,[new f.FiY,de]]};let Re=(()=>{class Fe{constructor(Et){d.Z.registerVersion("angularfire",k.q4.full,"core"),d.Z.registerVersion("angularfire",k.q4.full,"app-compat"),d.Z.registerVersion("angular",f.q4F.full,Et.toString())}static initializeApp(Et,Be){return{ngModule:Fe,providers:[{provide:he,useValue:Et},{provide:de,useValue:Be}]}}}return Fe.\u0275fac=function(Et){return new(Et||Fe)(f.LFG(f.Lbi))},Fe.\u0275mod=f.oAB({type:Fe}),Fe.\u0275inj=f.cJS({providers:[U]}),Fe})();function De(Fe,It,Et,Be,fe){const[,Pe,Ge]=globalThis.\u0275AngularfireInstanceCache.find(qe=>qe[0]===Fe)||[];if(Pe)return function Te(Fe,It){try{return Fe.toString()===It.toString()}catch{return Fe===It}}(fe,Ge)||(Ze("error",`${It} was already initialized on the ${Et} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:fe,was:Ge})),Pe;{const qe=Be();return globalThis.\u0275AngularfireInstanceCache.push([Fe,qe,fe]),qe}}const nt=!!He.hot,Ze=(Fe,...It)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Fe](...It)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(He,ge,D)=>{D.d(ge,{q4:()=>Ih,iC:()=>Mh,fc:()=>Bf,HU:()=>Ll,vb:()=>ku,JM:()=>xh,u3:()=>Lu});var f=D(4650),d=D(259),k=D(5861),re=D(6881),ee=D(2090),W=D(3475),Ee=D(1877);let de,z;const Re=new WeakMap,De=new WeakMap,Te=new WeakMap,nt=new WeakMap,Ze=new WeakMap;let Et={get(I,O,H){if(I instanceof IDBTransaction){if("done"===O)return De.get(I);if("objectStoreNames"===O)return I.objectStoreNames||Te.get(I);if("store"===O)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Ge(I[O])},set:(I,O,H)=>(I[O]=H,!0),has:(I,O)=>I instanceof IDBTransaction&&("done"===O||"store"===O)||O in I};function Pe(I){return"function"==typeof I?function fe(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function U(){return z||(z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...O){return I.apply(qe(this),O),Ge(Re.get(this))}:function(...O){return Ge(I.apply(qe(this),O))}:function(O,...H){const we=I.call(qe(this),O,...H);return Te.set(we,O.sort?O.sort():[O]),Ge(we)}}(I):(I instanceof IDBTransaction&&function It(I){if(De.has(I))return;const O=new Promise((H,we)=>{const Qe=()=>{I.removeEventListener("complete",at),I.removeEventListener("error",St),I.removeEventListener("abort",St)},at=()=>{H(),Qe()},St=()=>{we(I.error||new DOMException("AbortError","AbortError")),Qe()};I.addEventListener("complete",at),I.addEventListener("error",St),I.addEventListener("abort",St)});De.set(I,O)}(I),((I,O)=>O.some(H=>I instanceof H))(I,function ce(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Et):I)}function Ge(I){if(I instanceof IDBRequest)return function Fe(I){const O=new Promise((H,we)=>{const Qe=()=>{I.removeEventListener("success",at),I.removeEventListener("error",St)},at=()=>{H(Ge(I.result)),Qe()},St=()=>{we(I.error),Qe()};I.addEventListener("success",at),I.addEventListener("error",St)});return O.then(H=>{H instanceof IDBCursor&&Re.set(H,I)}).catch(()=>{}),Ze.set(O,I),O}(I);if(nt.has(I))return nt.get(I);const O=Pe(I);return O!==I&&(nt.set(I,O),Ze.set(O,I)),O}const qe=I=>Ze.get(I),Zt=["get","getKey","getAll","getAllKeys","count"],Ht=["put","add","delete","clear"],on=new Map;function Gt(I,O){if(!(I instanceof IDBDatabase)||O in I||"string"!=typeof O)return;if(on.get(O))return on.get(O);const H=O.replace(/FromIndex$/,""),we=O!==H,Qe=Ht.includes(H);if(!(H in(we?IDBIndex:IDBObjectStore).prototype)||!Qe&&!Zt.includes(H))return;const at=function(){var St=(0,k.Z)(function*(_n,...mn){const Fn=this.transaction(_n,Qe?"readwrite":"readonly");let ni=Fn.store;return we&&(ni=ni.index(mn.shift())),(yield Promise.all([ni[H](...mn),Qe&&Fn.done]))[0]});return function(mn){return St.apply(this,arguments)}}();return on.set(O,at),at}!function Be(I){Et=I(Et)}(I=>({...I,get:(O,H,we)=>Gt(O,H)||I.get(O,H,we),has:(O,H)=>!!Gt(O,H)||I.has(O,H)}));const fi="@firebase/installations",di="w:0.6.4",ht="FIS_v2",Yt=new ee.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ze(I){return I instanceof ee.ZR&&I.code.includes("request-failed")}function et({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function xt(I){return{token:I.token,requestStatus:2,expiresIn:Un(I.expiresIn),creationTime:Date.now()}}function Wt(I,O){return nn.apply(this,arguments)}function nn(){return(nn=(0,k.Z)(function*(I,O){const we=(yield O.json()).error;return Yt.create("request-failed",{requestName:I,serverCode:we.code,serverMessage:we.message,serverStatus:we.status})})).apply(this,arguments)}function pn({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function xn(I,{refreshToken:O}){const H=pn(I);return H.append("Authorization",function pi(I){return`${ht} ${I}`}(O)),H}function Tn(I){return $n.apply(this,arguments)}function $n(){return($n=(0,k.Z)(function*(I){const O=yield I();return O.status>=500&&O.status<600?I():O})).apply(this,arguments)}function Un(I){return Number(I.replace("s","000"))}function it(I,O){return J.apply(this,arguments)}function J(){return(J=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:O},{fid:H}){const we=et(I),Qe=pn(I),at=O.getImmediate({optional:!0});if(at){const Fn=yield at.getHeartbeatsHeader();Fn&&Qe.append("x-firebase-client",Fn)}const _n={method:"POST",headers:Qe,body:JSON.stringify({fid:H,authVersion:ht,appId:I.appId,sdkVersion:di})},mn=yield Tn(()=>fetch(we,_n));if(mn.ok){const Fn=yield mn.json();return{fid:Fn.fid||H,registrationStatus:2,refreshToken:Fn.refreshToken,authToken:xt(Fn.authToken)}}throw yield Wt("Create Installation",mn)})).apply(this,arguments)}function te(I){return new Promise(O=>{setTimeout(O,I)})}const ne=/^[cdef][\w-]{21}$/;function ot(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const H=function Ne(I){return function ve(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return ne.test(H)?H:""}catch{return""}}function pe(I){return`${I.appName}!${I.appId}`}const le=new Map;function ye(I,O){const H=pe(I);tt(H,O),function Mt(I,O){const H=function sn(){return!rt&&"BroadcastChannel"in self&&(rt=new BroadcastChannel("[Firebase] FID Change"),rt.onmessage=I=>{tt(I.data.key,I.data.fid)}),rt}();H&&H.postMessage({key:I,fid:O}),function pt(){0===le.size&&rt&&(rt.close(),rt=null)}()}(H,O)}function tt(I,O){const H=le.get(I);if(H)for(const we of H)we(O)}let rt=null;const Dt="firebase-installations-store";let Xt=null;function Pn(){return Xt||(Xt=function Ve(I,O,{blocked:H,upgrade:we,blocking:Qe,terminated:at}={}){const St=indexedDB.open(I,O),_n=Ge(St);return we&&St.addEventListener("upgradeneeded",mn=>{we(Ge(St.result),mn.oldVersion,mn.newVersion,Ge(St.transaction))}),H&&St.addEventListener("blocked",()=>H()),_n.then(mn=>{at&&mn.addEventListener("close",()=>at()),Qe&&mn.addEventListener("versionchange",()=>Qe())}).catch(()=>{}),_n}("firebase-installations-database",1,{upgrade:(I,O)=>{0===O&&I.createObjectStore(Dt)}})),Xt}function mt(I,O){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(I,O){const H=pe(I),Qe=(yield Pn()).transaction(Dt,"readwrite"),at=Qe.objectStore(Dt),St=yield at.get(H);return yield at.put(O,H),yield Qe.done,(!St||St.fid!==O.fid)&&ye(I,O.fid),O})).apply(this,arguments)}function Me(I){return dt.apply(this,arguments)}function dt(){return(dt=(0,k.Z)(function*(I){const O=pe(I),we=(yield Pn()).transaction(Dt,"readwrite");yield we.objectStore(Dt).delete(O),yield we.done})).apply(this,arguments)}function yt(I,O){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(I,O){const H=pe(I),Qe=(yield Pn()).transaction(Dt,"readwrite"),at=Qe.objectStore(Dt),St=yield at.get(H),_n=O(St);return void 0===_n?yield at.delete(H):yield at.put(_n,H),yield Qe.done,_n&&(!St||St.fid!==_n.fid)&&ye(I,_n.fid),_n})).apply(this,arguments)}function Ae(I){return xe.apply(this,arguments)}function xe(){return(xe=(0,k.Z)(function*(I){let O;const H=yield yt(I.appConfig,we=>{const Qe=ie(we),at=q(I,Qe);return O=at.registrationPromise,at.installationEntry});return""===H.fid?{installationEntry:yield O}:{installationEntry:H,registrationPromise:O}})).apply(this,arguments)}function ie(I){return _e(I||{fid:ot(),registrationStatus:0})}function q(I,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Yt.create("app-offline"))};const H={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},we=function K(I,O){return Je.apply(this,arguments)}(I,H);return{installationEntry:H,registrationPromise:we}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:Lt(I)}:{installationEntry:O}}function Je(){return(Je=(0,k.Z)(function*(I,O){try{const H=yield it(I,O);return mt(I.appConfig,H)}catch(H){throw ze(H)&&409===H.customData.serverCode?yield Me(I.appConfig):yield mt(I.appConfig,{fid:O.fid,registrationStatus:0}),H}})).apply(this,arguments)}function Lt(I){return un.apply(this,arguments)}function un(){return(un=(0,k.Z)(function*(I){let O=yield Cn(I.appConfig);for(;1===O.registrationStatus;)yield te(100),O=yield Cn(I.appConfig);if(0===O.registrationStatus){const{installationEntry:H,registrationPromise:we}=yield Ae(I);return we||H}return O})).apply(this,arguments)}function Cn(I){return yt(I,O=>{if(!O)throw Yt.create("installation-not-found");return _e(O)})}function _e(I){return function Ce(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function ue(I,O){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:O},H){const we=bt(I,H),Qe=xn(I,H),at=O.getImmediate({optional:!0});if(at){const Fn=yield at.getHeartbeatsHeader();Fn&&Qe.append("x-firebase-client",Fn)}const _n={method:"POST",headers:Qe,body:JSON.stringify({installation:{sdkVersion:di,appId:I.appId}})},mn=yield Tn(()=>fetch(we,_n));if(mn.ok)return xt(yield mn.json());throw yield Wt("Generate Auth Token",mn)})).apply(this,arguments)}function bt(I,{fid:O}){return`${et(I)}/${O}/authTokens:generate`}function cn(I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(I,O=!1){let H;const we=yield yt(I.appConfig,at=>{if(!Bn(at))throw Yt.create("not-registered");const St=at.authToken;if(!O&&oi(St))return at;if(1===St.requestStatus)return H=ft(I,O),at;{if(!navigator.onLine)throw Yt.create("app-offline");const _n=Yn(at);return H=Qt(I,_n),_n}});return H?yield H:we.authToken})).apply(this,arguments)}function ft(I,O){return lt.apply(this,arguments)}function lt(){return(lt=(0,k.Z)(function*(I,O){let H=yield zt(I.appConfig);for(;1===H.authToken.requestStatus;)yield te(100),H=yield zt(I.appConfig);const we=H.authToken;return 0===we.requestStatus?cn(I,O):we})).apply(this,arguments)}function zt(I){return yt(I,O=>{if(!Bn(O))throw Yt.create("not-registered");return function er(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function Qt(I,O){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,k.Z)(function*(I,O){try{const H=yield ue(I,O),we=Object.assign(Object.assign({},O),{authToken:H});return yield mt(I.appConfig,we),H}catch(H){if(!ze(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const we=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield mt(I.appConfig,we)}else yield Me(I.appConfig);throw H}})).apply(this,arguments)}function Bn(I){return void 0!==I&&2===I.registrationStatus}function oi(I){return 2===I.requestStatus&&!function Mi(I){const O=Date.now();return O<I.creationTime||I.creationTime+I.expiresIn<O+36e5}(I)}function Yn(I){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:O})}function ir(){return(ir=(0,k.Z)(function*(I){const O=I,{installationEntry:H,registrationPromise:we}=yield Ae(O);return we?we.catch(console.error):cn(O).catch(console.error),H.fid})).apply(this,arguments)}function ms(){return(ms=(0,k.Z)(function*(I,O=!1){const H=I;return yield Xn(H),(yield cn(H,O)).token})).apply(this,arguments)}function Xn(I){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,k.Z)(function*(I){const{registrationPromise:O}=yield Ae(I);O&&(yield O)})).apply(this,arguments)}function Gi(I){return Yt.create("missing-app-config-values",{valueName:I})}const Dr="installations",rs=I=>{const O=I.getProvider("app").getImmediate(),H=function Vi(I){if(!I||!I.options)throw Gi("App Configuration");if(!I.name)throw Gi("App Name");const O=["projectId","apiKey","appId"];for(const H of O)if(!I.options[H])throw Gi(H);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(O);return{app:O,appConfig:H,heartbeatServiceProvider:(0,re._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},fo=I=>{const O=I.getProvider("app").getImmediate(),H=(0,re._getProvider)(O,Dr).getImmediate();return{getId:()=>function Sr(I){return ir.apply(this,arguments)}(H),getToken:Qe=>function gs(I){return ms.apply(this,arguments)}(H,Qe)}};(function Rr(){(0,re._registerComponent)(new W.wA(Dr,rs,"PUBLIC")),(0,re._registerComponent)(new W.wA("installations-internal",fo,"PRIVATE"))})(),(0,re.registerVersion)(fi,"0.6.4"),(0,re.registerVersion)(fi,"0.6.4","esm2017");const ke="@firebase/remote-config",Jt=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xo{constructor(O,H,we,Qe){this.client=O,this.storage=H,this.storageCache=we,this.logger=Qe}isCachedDataFresh(O,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const we=Date.now()-H,Qe=we<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${we}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Qe}.`),Qe}fetch(O){var H=this;return(0,k.Z)(function*(){const[we,Qe]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Qe&&H.isCachedDataFresh(O.cacheMaxAgeMillis,we))return Qe;O.eTag=Qe&&Qe.eTag;const at=yield H.client.fetch(O),St=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===at.status&&St.push(H.storage.setLastSuccessfulFetchResponse(at)),yield Promise.all(St),at})()}}function Ps(I=navigator){return I.languages&&I.languages[0]||I.language}class Oo{constructor(O,H,we,Qe,at,St){this.firebaseInstallations=O,this.sdkVersion=H,this.namespace=we,this.projectId=Qe,this.apiKey=at,this.appId=St}fetch(O){var H=this;return(0,k.Z)(function*(){const[we,Qe]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),St=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},mn={sdk_version:H.sdkVersion,app_instance_id:we,app_instance_id_token:Qe,app_id:H.appId,language_code:Ps()},Fn={method:"POST",headers:_n,body:JSON.stringify(mn)},ni=fetch(St,Fn),ci=new Promise((zr,lr)=>{O.signal.addEventListener(()=>{const Ua=new Error("The operation was aborted.");Ua.name="AbortError",lr(Ua)})});let oo;try{yield Promise.race([ni,ci]),oo=yield ni}catch(zr){let lr="fetch-client-network";throw"AbortError"===zr?.name&&(lr="fetch-timeout"),Jt.create(lr,{originalErrorMessage:zr?.message})}let ls=oo.status;const Zr=oo.headers.get("ETag")||void 0;let Gc,Ao;if(200===oo.status){let zr;try{zr=yield oo.json()}catch(lr){throw Jt.create("fetch-client-parse",{originalErrorMessage:lr?.message})}Gc=zr.entries,Ao=zr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ao?ls=500:"NO_CHANGE"===Ao?ls=304:("NO_TEMPLATE"===Ao||"EMPTY_CONFIG"===Ao)&&(Gc={}),304!==ls&&200!==ls)throw Jt.create("fetch-status",{httpStatus:ls});return{status:ls,eTag:Zr,config:Gc}})()}}class ko{constructor(O,H){this.client=O,this.storage=H}fetch(O){var H=this;return(0,k.Z)(function*(){const we=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(O,we)})()}attemptFetch(O,{throttleEndTimeMillis:H,backoffCount:we}){var Qe=this;return(0,k.Z)(function*(){yield function Ks(I,O){return new Promise((H,we)=>{const Qe=Math.max(O-Date.now(),0),at=setTimeout(H,Qe);I.addEventListener(()=>{clearTimeout(at),we(Jt.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,H);try{const at=yield Qe.client.fetch(O);return yield Qe.storage.deleteThrottleMetadata(),at}catch(at){if(!function Po(I){if(!(I instanceof ee.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}(at))throw at;const St={throttleEndTimeMillis:Date.now()+(0,ee.$s)(we),backoffCount:we+1};return yield Qe.storage.setThrottleMetadata(St),Qe.attemptFetch(O,St)}})()}}class Ka{constructor(O,H,we,Qe,at){this.app=O,this._client=H,this._storageCache=we,this._storage=Qe,this._logger=at,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $i(I,O){const H=I.target.error||void 0;return Jt.create(O,{originalErrorMessage:H&&H?.message})}const Vr="app_namespace_store";class El{constructor(O,H,we,Qe=function Lo(){return new Promise((I,O)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=we=>{O($i(we,"storage-open"))},H.onsuccess=we=>{I(we.target.result)},H.onupgradeneeded=we=>{0===we.oldVersion&&we.target.result.createObjectStore(Vr,{keyPath:"compositeKey"})}}catch(H){O(Jt.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=O,this.appName=H,this.namespace=we,this.openDbPromise=Qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var H=this;return(0,k.Z)(function*(){const we=yield H.openDbPromise;return new Promise((Qe,at)=>{const _n=we.transaction([Vr],"readonly").objectStore(Vr),mn=H.createCompositeKey(O);try{const Fn=_n.get(mn);Fn.onerror=ni=>{at($i(ni,"storage-get"))},Fn.onsuccess=ni=>{const ci=ni.target.result;Qe(ci?ci.value:void 0)}}catch(Fn){at(Jt.create("storage-get",{originalErrorMessage:Fn?.message}))}})})()}set(O,H){var we=this;return(0,k.Z)(function*(){const Qe=yield we.openDbPromise;return new Promise((at,St)=>{const mn=Qe.transaction([Vr],"readwrite").objectStore(Vr),Fn=we.createCompositeKey(O);try{const ni=mn.put({compositeKey:Fn,value:H});ni.onerror=ci=>{St($i(ci,"storage-set"))},ni.onsuccess=()=>{at()}}catch(ni){St(Jt.create("storage-set",{originalErrorMessage:ni?.message}))}})})()}delete(O){var H=this;return(0,k.Z)(function*(){const we=yield H.openDbPromise;return new Promise((Qe,at)=>{const _n=we.transaction([Vr],"readwrite").objectStore(Vr),mn=H.createCompositeKey(O);try{const Fn=_n.delete(mn);Fn.onerror=ni=>{at($i(ni,"storage-delete"))},Fn.onsuccess=()=>{Qe()}}catch(Fn){at(Jt.create("storage-delete",{originalErrorMessage:Fn?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class Si{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,k.Z)(function*(){const H=O.storage.getLastFetchStatus(),we=O.storage.getLastSuccessfulFetchTimestampMillis(),Qe=O.storage.getActiveConfig(),at=yield H;at&&(O.lastFetchStatus=at);const St=yield we;St&&(O.lastSuccessfulFetchTimestampMillis=St);const _n=yield Qe;_n&&(O.activeConfig=_n)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Ur(){return ga.apply(this,arguments)}function ga(){return(ga=(0,k.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}let os,dr;!function qs(){(0,re._registerComponent)(new W.wA("remote-config",function I(O,{instanceIdentifier:H}){const we=O.getProvider("app").getImmediate(),Qe=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jt.create("registration-window");if(!(0,ee.hl)())throw Jt.create("indexed-db-unavailable");const{projectId:at,apiKey:St,appId:_n}=we.options;if(!at)throw Jt.create("registration-project-id");if(!St)throw Jt.create("registration-api-key");if(!_n)throw Jt.create("registration-app-id");const mn=new El(_n,we.name,H=H||"firebase"),Fn=new Si(mn),ni=new Ee.Yd(ke);ni.logLevel=Ee.in.ERROR;const ci=new Oo(Qe,re.SDK_VERSION,H,at,St,_n),oo=new ko(ci,mn),ls=new Xo(oo,mn,Fn,ni),Zr=new Ka(we,ls,Fn,mn,ni);return function Qo(I){const O=(0,ee.m9)(I);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Zr),Zr},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(ke,"0.4.4"),(0,re.registerVersion)(ke,"0.4.4","esm2017")}();const hr=new WeakMap,Zi=new WeakMap,Qi=new WeakMap,Zs=new WeakMap,zn=new WeakMap;let ma={get(I,O,H){if(I instanceof IDBTransaction){if("done"===O)return Zi.get(I);if("objectStoreNames"===O)return I.objectStoreNames||Qi.get(I);if("store"===O)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return Gr(I[O])},set:(I,O,H)=>(I[O]=H,!0),has:(I,O)=>I instanceof IDBTransaction&&("done"===O||"store"===O)||O in I};function Or(I){return"function"==typeof I?function jr(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ys(){return dr||(dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...O){return I.apply(Ya(this),O),Gr(hr.get(this))}:function(...O){return Gr(I.apply(Ya(this),O))}:function(O,...H){const we=I.call(Ya(this),O,...H);return Qi.set(we,O.sort?O.sort():[O]),Gr(we)}}(I):(I instanceof IDBTransaction&&function Bo(I){if(Zi.has(I))return;const O=new Promise((H,we)=>{const Qe=()=>{I.removeEventListener("complete",at),I.removeEventListener("error",St),I.removeEventListener("abort",St)},at=()=>{H(),Qe()},St=()=>{we(I.error||new DOMException("AbortError","AbortError")),Qe()};I.addEventListener("complete",at),I.addEventListener("error",St),I.addEventListener("abort",St)});Zi.set(I,O)}(I),((I,O)=>O.some(H=>I instanceof H))(I,function mo(){return os||(os=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ma):I)}function Gr(I){if(I instanceof IDBRequest)return function ea(I){const O=new Promise((H,we)=>{const Qe=()=>{I.removeEventListener("success",at),I.removeEventListener("error",St)},at=()=>{H(Gr(I.result)),Qe()},St=()=>{we(I.error),Qe()};I.addEventListener("success",at),I.addEventListener("error",St)});return O.then(H=>{H instanceof IDBCursor&&hr.set(H,I)}).catch(()=>{}),zn.set(O,I),O}(I);if(Zs.has(I))return Zs.get(I);const O=Or(I);return O!==I&&(Zs.set(I,O),zn.set(O,I)),O}const Ya=I=>zn.get(I);function Kt(I,O,{blocked:H,upgrade:we,blocking:Qe,terminated:at}={}){const St=indexedDB.open(I,O),_n=Gr(St);return we&&St.addEventListener("upgradeneeded",mn=>{we(Gr(St.result),mn.oldVersion,mn.newVersion,Gr(St.transaction))}),H&&St.addEventListener("blocked",()=>H()),_n.then(mn=>{at&&mn.addEventListener("close",()=>at()),Qe&&mn.addEventListener("versionchange",()=>Qe())}).catch(()=>{}),_n}function Qn(I,{blocked:O}={}){const H=indexedDB.deleteDatabase(I);return O&&H.addEventListener("blocked",()=>O()),Gr(H).then(()=>{})}const Za=["get","getKey","getAll","getAllKeys","count"],_a=["put","add","delete","clear"],sr=new Map;function V(I,O){if(!(I instanceof IDBDatabase)||O in I||"string"!=typeof O)return;if(sr.get(O))return sr.get(O);const H=O.replace(/FromIndex$/,""),we=O!==H,Qe=_a.includes(H);if(!(H in(we?IDBIndex:IDBObjectStore).prototype)||!Qe&&!Za.includes(H))return;const at=function(){var St=(0,k.Z)(function*(_n,...mn){const Fn=this.transaction(_n,Qe?"readwrite":"readonly");let ni=Fn.store;return we&&(ni=ni.index(mn.shift())),(yield Promise.all([ni[H](...mn),Qe&&Fn.done]))[0]});return function(mn){return St.apply(this,arguments)}}();return sr.set(O,at),at}!function qa(I){ma=I(ma)}(I=>({...I,get:(O,H,we)=>V(O,H)||I.get(O,H,we),has:(O,H)=>!!V(O,H)||I.has(O,H)}));const L="/firebase-messaging-sw.js",F="/firebase-cloud-messaging-push-scope",oe="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",kn="google.c.a.c_id",ai="google.c.a.c_l",ks="google.c.a.ts",Vo="google.c.a.e";var Cr=(()=>{return(I=Cr||(Cr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Cr;var I})();function Yr(I){const O=new Uint8Array(I);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Uo(I){const H=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),we=atob(H),Qe=new Uint8Array(we.length);for(let at=0;at<we.length;++at)Qe[at]=we.charCodeAt(at);return Qe}const Ci="fcm_token_details_db",va="fcm_token_object_Store";function Qa(I){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(at=>at.name).includes(Ci))return null;let O=null;return(yield Kt(Ci,5,{upgrade:(we=(0,k.Z)(function*(Qe,at,St,_n){var mn;if(at<2||!Qe.objectStoreNames.contains(va))return;const Fn=_n.objectStore(va),ni=yield Fn.index("fcmSenderId").get(I);if(yield Fn.clear(),ni)if(2===at){const ci=ni;if(!ci.auth||!ci.p256dh||!ci.endpoint)return;O={token:ci.fcmToken,createTime:null!==(mn=ci.createTime)&&void 0!==mn?mn:Date.now(),subscriptionOptions:{auth:ci.auth,p256dh:ci.p256dh,endpoint:ci.endpoint,swScope:ci.swScope,vapidKey:"string"==typeof ci.vapidKey?ci.vapidKey:Yr(ci.vapidKey)}}}else if(3===at){const ci=ni;O={token:ci.fcmToken,createTime:ci.createTime,subscriptionOptions:{auth:Yr(ci.auth),p256dh:Yr(ci.p256dh),endpoint:ci.endpoint,swScope:ci.swScope,vapidKey:Yr(ci.vapidKey)}}}else if(4===at){const ci=ni;O={token:ci.fcmToken,createTime:ci.createTime,subscriptionOptions:{auth:Yr(ci.auth),p256dh:Yr(ci.p256dh),endpoint:ci.endpoint,swScope:ci.swScope,vapidKey:Yr(ci.vapidKey)}}}}),function(at,St,_n,mn){return we.apply(this,arguments)})})).close(),yield Qn(Ci),yield Qn("fcm_vapid_details_db"),yield Qn("undefined"),ba(O)?O:null;var we}),Ea.apply(this,arguments)}function ba(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:O}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const Pr="firebase-messaging-store";let jo=null;function bl(){return jo||(jo=Kt("firebase-messaging-database",1,{upgrade:(I,O)=>{0===O&&I.createObjectStore(Pr)}})),jo}function Go(I){return ar.apply(this,arguments)}function ar(){return(ar=(0,k.Z)(function*(I){const O=Eo(I),we=yield(yield bl()).transaction(Pr).objectStore(Pr).get(O);if(we)return we;{const Qe=yield Qa(I.appConfig.senderId);if(Qe)return yield yo(I,Qe),Qe}})).apply(this,arguments)}function yo(I,O){return vo.apply(this,arguments)}function vo(){return(vo=(0,k.Z)(function*(I,O){const H=Eo(I),Qe=(yield bl()).transaction(Pr,"readwrite");return yield Qe.objectStore(Pr).put(O,H),yield Qe.done,O})).apply(this,arguments)}function Da(I){return bs.apply(this,arguments)}function bs(){return(bs=(0,k.Z)(function*(I){const O=Eo(I),we=(yield bl()).transaction(Pr,"readwrite");yield we.objectStore(Pr).delete(O),yield we.done})).apply(this,arguments)}function Eo({appConfig:I}){return I.appId}const xi=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fs(I,O){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,k.Z)(function*(I,O){const H=yield ro(I),we=Ho(O),Qe={method:"POST",headers:H,body:JSON.stringify(we)};let at;try{at=yield(yield fetch(xa(I.appConfig),Qe)).json()}catch(St){throw xi.create("token-subscribe-failed",{errorInfo:St?.toString()})}if(at.error)throw xi.create("token-subscribe-failed",{errorInfo:at.error.message});if(!at.token)throw xi.create("token-subscribe-no-token");return at.token})).apply(this,arguments)}function xc(I,O){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,k.Z)(function*(I,O){const H=yield ro(I),we=Ho(O.subscriptionOptions),Qe={method:"PATCH",headers:H,body:JSON.stringify(we)};let at;try{at=yield(yield fetch(`${xa(I.appConfig)}/${O.token}`,Qe)).json()}catch(St){throw xi.create("token-update-failed",{errorInfo:St?.toString()})}if(at.error)throw xi.create("token-update-failed",{errorInfo:at.error.message});if(!at.token)throw xi.create("token-update-no-token");return at.token})).apply(this,arguments)}function Aa(I,O){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,k.Z)(function*(I,O){const we={method:"DELETE",headers:yield ro(I)};try{const at=yield(yield fetch(`${xa(I.appConfig)}/${O}`,we)).json();if(at.error)throw xi.create("token-unsubscribe-failed",{errorInfo:at.error.message})}catch(Qe){throw xi.create("token-unsubscribe-failed",{errorInfo:Qe?.toString()})}})).apply(this,arguments)}function xa({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function ro(I){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,k.Z)(function*({appConfig:I,installations:O}){const H=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Ho({p256dh:I,auth:O,endpoint:H,vapidKey:we}){const Qe={web:{endpoint:H,auth:O,p256dh:I}};return we!==oe&&(Qe.web.applicationPubKey=we),Qe}const Ja=6048e5;function el(I){return tl.apply(this,arguments)}function tl(){return(tl=(0,k.Z)(function*(I){const O=yield Ta(I.swRegistration,I.vapidKey),H={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:O.endpoint,auth:Yr(O.getKey("auth")),p256dh:Yr(O.getKey("p256dh"))},we=yield Go(I.firebaseDependencies);if(we){if(T(we.subscriptionOptions,H))return Date.now()>=we.createTime+Ja?so(I,{token:we.token,createTime:Date.now(),subscriptionOptions:H}):we.token;try{yield Aa(I.firebaseDependencies,we.token)}catch(Qe){console.warn(Qe)}return Ns(I.firebaseDependencies,H)}return Ns(I.firebaseDependencies,H)})).apply(this,arguments)}function wl(I){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,k.Z)(function*(I){const O=yield Go(I.firebaseDependencies);O&&(yield Aa(I.firebaseDependencies,O.token),yield Da(I.firebaseDependencies));const H=yield I.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function so(I,O){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,k.Z)(function*(I,O){try{const H=yield xc(I.firebaseDependencies,O),we=Object.assign(Object.assign({},O),{token:H,createTime:Date.now()});return yield yo(I.firebaseDependencies,we),H}catch(H){throw yield wl(I),H}})).apply(this,arguments)}function Ns(I,O){return bo.apply(this,arguments)}function bo(){return(bo=(0,k.Z)(function*(I,O){const we={token:yield Fs(I,O),createTime:Date.now(),subscriptionOptions:O};return yield yo(I,we),we.token})).apply(this,arguments)}function Ta(I,O){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,k.Z)(function*(I,O){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Uo(O)})})).apply(this,arguments)}function T(I,O){return O.vapidKey===I.vapidKey&&O.endpoint===I.endpoint&&O.auth===I.auth&&O.p256dh===I.p256dh}function G(I){const O={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function P(I,O){if(!O.notification)return;I.notification={};const H=O.notification.title;H&&(I.notification.title=H);const we=O.notification.body;we&&(I.notification.body=we);const Qe=O.notification.image;Qe&&(I.notification.image=Qe);const at=O.notification.icon;at&&(I.notification.icon=at)}(O,I),function Y(I,O){!O.data||(I.data=O.data)}(O,I),function je(I,O){var H,we,Qe,at,St;if(!(O.fcmOptions||null!==(H=O.notification)&&void 0!==H&&H.click_action))return;I.fcmOptions={};const _n=null!==(Qe=null===(we=O.fcmOptions)||void 0===we?void 0:we.link)&&void 0!==Qe?Qe:null===(at=O.notification)||void 0===at?void 0:at.click_action;_n&&(I.fcmOptions.link=_n);const mn=null===(St=O.fcmOptions)||void 0===St?void 0:St.analytics_label;mn&&(I.fcmOptions.analyticsLabel=mn)}(O,I),O}function Ot(I){return"object"==typeof I&&!!I&&kn in I}function $t(I,O){const H=[];for(let we=0;we<I.length;we++)H.push(I.charAt(we)),we<O.length&&H.push(O.charAt(we));return H.join("")}function vi(I){return xi.create("missing-app-config-values",{valueName:I})}$t("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$t("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ei{constructor(O,H,we){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Qe=function Rn(I){if(!I||!I.options)throw vi("App Configuration Object");if(!I.name)throw vi("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:H}=I;for(const we of O)if(!H[we])throw vi(we);return{appName:I.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Qe,installations:H,analyticsProvider:we}}_delete(){return Promise.resolve()}}function Ti(I){return li.apply(this,arguments)}function li(){return(li=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(L,{scope:F}),I.swRegistration.update().catch(()=>{})}catch(O){throw xi.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function zi(I,O){return gi.apply(this,arguments)}function gi(){return(gi=(0,k.Z)(function*(I,O){if(!O&&!I.swRegistration&&(yield Ti(I)),O||!I.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw xi.create("invalid-sw-registration");I.swRegistration=O}})).apply(this,arguments)}function fr(I,O){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,k.Z)(function*(I,O){O?I.vapidKey=O:I.vapidKey||(I.vapidKey=oe)})).apply(this,arguments)}function Hr(){return(Hr=(0,k.Z)(function*(I,O){if(!navigator)throw xi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xi.create("permission-blocked");return yield fr(I,O?.vapidKey),yield zi(I,O?.serviceWorkerRegistration),el(I)})).apply(this,arguments)}function pr(I,O,H){return wo.apply(this,arguments)}function wo(){return(wo=(0,k.Z)(function*(I,O,H){const we=$o(O);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(we,{message_id:H[kn],message_name:H[ai],message_time:H[ks],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $o(I){switch(I){case Cr.NOTIFICATION_CLICKED:return"notification_open";case Cr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Do(){return(Do=(0,k.Z)(function*(I,O){const H=O.data;if(!H.isFirebaseMessaging)return;I.onMessageHandler&&H.messageType===Cr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(G(H)):I.onMessageHandler.next(G(H)));const we=H.data;Ot(we)&&"1"===we[Vo]&&(yield pr(I,H.messageType,we))})).apply(this,arguments)}const Cl="@firebase/messaging",Au=I=>{const O=new Ei(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function ta(I,O){return Do.apply(this,arguments)}(O,H)),O},Iu=I=>{const O=I.getProvider("messaging").getImmediate();return{getToken:we=>function kr(I,O){return Hr.apply(this,arguments)}(O,we)}};function Ra(){return gr.apply(this,arguments)}function gr(){return(gr=(0,k.Z)(function*(){try{yield(0,ee.eu)()}catch{return!1}return typeof window<"u"&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function xu(){(0,re._registerComponent)(new W.wA("messaging",Au,"PUBLIC")),(0,re._registerComponent)(new W.wA("messaging-internal",Iu,"PRIVATE")),(0,re.registerVersion)(Cl,"0.12.4"),(0,re.registerVersion)(Cl,"0.12.4","esm2017")}();const Al="analytics",nl="firebase_id",xl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",il="https://www.googletagmanager.com/gtag/js",Wi=new Ee.Yd("@firebase/analytics"),Er=new ee.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Tc(I){if(!I.startsWith(il)){const O=Er.create("invalid-gtag-resource",{gtagURL:I});return Wi.warn(O.message),""}return I}function Bs(I){return Promise.all(I.map(O=>O.catch(H=>H)))}function ec(I,O){const H=function Jl(I,O){let H;return window.trustedTypes&&(H=window.trustedTypes.createPolicy(I,O)),H}("firebase-js-sdk-policy",{createScriptURL:Tc}),we=document.createElement("script"),Qe=`${il}?l=${I}&id=${O}`;we.src=H?H?.createScriptURL(Qe):Qe,we.async=!0,document.head.appendChild(we)}function Pa(I,O,H,we,Qe,at){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,k.Z)(function*(I,O,H,we,Qe,at){const St=we[Qe];try{if(St)yield O[St];else{const mn=(yield Bs(H)).find(Fn=>Fn.measurementId===Qe);mn&&(yield O[mn.appId])}}catch(_n){Wi.error(_n)}I("config",Qe,at)})).apply(this,arguments)}function Rc(I,O,H,we,Qe){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,k.Z)(function*(I,O,H,we,Qe){try{let at=[];if(Qe&&Qe.send_to){let St=Qe.send_to;Array.isArray(St)||(St=[St]);const _n=yield Bs(H);for(const mn of St){const Fn=_n.find(ci=>ci.measurementId===mn),ni=Fn&&O[Fn.appId];if(!ni){at=[];break}at.push(ni)}}0===at.length&&(at=Object.values(O)),yield Promise.all(at),I("event",we,Qe||{})}catch(at){Wi.error(at)}})).apply(this,arguments)}function kf(I){const O=window.document.getElementsByTagName("script");for(const H of Object.values(O))if(H.src&&H.src.includes(il)&&H.src.includes(I))return H;return null}const br=new class Ff{constructor(O={},H=1e3){this.throttleMetadata=O,this.intervalMillis=H}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,H){this.throttleMetadata[O]=H}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Ru(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function tc(I){return vd.apply(this,arguments)}function vd(){return(vd=(0,k.Z)(function*(I){var O;const{appId:H,apiKey:we}=I,Qe={method:"GET",headers:Ru(we)},at=xl.replace("{app-id}",H),St=yield fetch(at,Qe);if(200!==St.status&&304!==St.status){let _n="";try{const mn=yield St.json();null!==(O=mn.error)&&void 0!==O&&O.message&&(_n=mn.error.message)}catch{}throw Er.create("config-fetch-failed",{httpStatus:St.status,responseMessage:_n})}return St.json()})).apply(this,arguments)}function Pc(I){return ws.apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(I,O=br,H){const{appId:we,apiKey:Qe,measurementId:at}=I.options;if(!we)throw Er.create("no-app-id");if(!Qe){if(at)return{measurementId:at,appId:we};throw Er.create("no-api-key")}const St=O.getThrottleMetadata(we)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_n=new C;return setTimeout((0,k.Z)(function*(){_n.abort()}),void 0!==H?H:6e4),Vs({appId:we,apiKey:Qe,measurementId:at},St,_n,O)})).apply(this,arguments)}function Vs(I,O,H){return nc.apply(this,arguments)}function nc(){return(nc=(0,k.Z)(function*(I,{throttleEndTimeMillis:O,backoffCount:H},we,Qe=br){var at;const{appId:St,measurementId:_n}=I;try{yield rl(we,O)}catch(mn){if(_n)return Wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${mn?.message}]`),{appId:St,measurementId:_n};throw mn}try{const mn=yield tc(I);return Qe.deleteThrottleMetadata(St),mn}catch(mn){const Fn=mn;if(!w(Fn)){if(Qe.deleteThrottleMetadata(St),_n)return Wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_n} provided in the "measurementId" field in the local Firebase config. [${Fn?.message}]`),{appId:St,measurementId:_n};throw mn}const ni=503===Number(null===(at=Fn?.customData)||void 0===at?void 0:at.httpStatus)?(0,ee.$s)(H,Qe.intervalMillis,30):(0,ee.$s)(H,Qe.intervalMillis),ci={throttleEndTimeMillis:Date.now()+ni,backoffCount:H+1};return Qe.setThrottleMetadata(St,ci),Wi.debug(`Calling attemptFetch again in ${ni} millis`),Vs(I,ci,we,Qe)}})).apply(this,arguments)}function rl(I,O){return new Promise((H,we)=>{const Qe=Math.max(O-Date.now(),0),at=setTimeout(H,Qe);I.addEventListener(()=>{clearTimeout(at),we(Er.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function w(I){if(!(I instanceof ee.ZR&&I.customData))return!1;const O=Number(I.customData.httpStatus);return 429===O||500===O||503===O||504===O}class C{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let v,Xs;function N(){return(N=(0,k.Z)(function*(I,O,H,we,Qe){if(Qe&&Qe.global)I("event",H,we);else{const at=yield O;I("event",H,Object.assign(Object.assign({},we),{send_to:at}))}})).apply(this,arguments)}function Ji(I){Xs=I}function ti(I){v=I}function sl(){return ra.apply(this,arguments)}function ra(){return(ra=(0,k.Z)(function*(){if(!(0,ee.hl)())return Wi.warn(Er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ee.eu)()}catch(I){return Wi.warn(Er.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function gn(){return(gn=(0,k.Z)(function*(I,O,H,we,Qe,at,St){var _n;const mn=Pc(I);mn.then(ls=>{H[ls.measurementId]=ls.appId,I.options.measurementId&&ls.measurementId!==I.options.measurementId&&Wi.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ls.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ls=>Wi.error(ls)),O.push(mn);const Fn=sl().then(ls=>{if(ls)return we.getId()}),[ni,ci]=yield Promise.all([mn,Fn]);kf(at)||ec(at,ni.measurementId),Xs&&(Qe("consent","default",Xs),Ji(void 0)),Qe("js",new Date);const oo=null!==(_n=St?.config)&&void 0!==_n?_n:{};return oo.origin="firebase",oo.update=!0,null!=ci&&(oo[nl]=ci),Qe("config",ni.measurementId,oo),v&&(Qe("set",v),ti(void 0)),ni.measurementId})).apply(this,arguments)}class Tl{constructor(O){this.app=O}_delete(){return delete jn[this.app.options.appId],Promise.resolve()}}let jn={},kc=[];const ic={};let oc,js,rc="dataLayer",Fc=!1;function $r(I,O,H){!function Ml(){const I=[];if((0,ee.ru)()&&I.push("This is a browser extension environment."),(0,ee.zI)()||I.push("Cookies are not available."),I.length>0){const O=I.map((we,Qe)=>`(${Qe+1}) ${we}`).join(" "),H=Er.create("invalid-analytics-context",{errorInfo:O});Wi.warn(H.message)}}();const we=I.options.appId;if(!we)throw Er.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw Er.create("no-api-key");Wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=jn[we])throw Er.create("already-exists",{id:we});if(!Fc){!function Pi(I){let O=[];Array.isArray(window[I])?O=window[I]:window[I]=O}(rc);const{wrappedGtag:at,gtagCore:St}=function Mu(I,O,H,we,Qe){let at=function(...St){window[we].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(at=window[Qe]),window[Qe]=function wh(I,O,H,we){function at(){return(at=(0,k.Z)(function*(St,..._n){try{if("event"===St){const[mn,Fn]=_n;yield Rc(I,O,H,mn,Fn)}else if("config"===St){const[mn,Fn]=_n;yield Pa(I,O,H,we,mn,Fn)}else if("consent"===St){const[mn]=_n;I("consent","update",mn)}else if("get"===St){const[mn,Fn,ni]=_n;I("get",mn,Fn,ni)}else if("set"===St){const[mn]=_n;I("set",mn)}else I(St,..._n)}catch(mn){Wi.error(mn)}})).apply(this,arguments)}return function Qe(St){return at.apply(this,arguments)}}(at,I,O,H),{gtagCore:at,wrappedGtag:window[Qe]}}(jn,kc,ic,rc,"gtag");js=at,oc=St,Fc=!0}return jn[we]=function sa(I,O,H,we,Qe,at,St){return gn.apply(this,arguments)}(I,kc,ic,O,oc,rc,H),new Tl(I)}function Ch(){return ka.apply(this,arguments)}function ka(){return(ka=(0,k.Z)(function*(){if((0,ee.ru)()||!(0,ee.zI)()||!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch{return!1}})).apply(this,arguments)}const ol="@firebase/analytics";!function Lc(){(0,re._registerComponent)(new W.wA(Al,(O,{options:H})=>$r(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,re._registerComponent)(new W.wA("analytics-internal",function I(O){try{const H=O.getProvider(Al).getImmediate();return{logEvent:(we,Qe,at)=>function ac(I,O,H,we){I=(0,ee.m9)(I),function R(I,O,H,we,Qe){return N.apply(this,arguments)}(js,jn[I.app.options.appId],O,H,we).catch(Qe=>Wi.error(Qe))}(H,we,Qe,at)}}catch(H){throw Er.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,re.registerVersion)(ol,"0.10.0"),(0,re.registerVersion)(ol,"0.10.0","esm2017")}();var Pl=D(233),Nc=D(4986),Bc=D(9751),Ah=D(8505),lc=D(5363),cc=D(9468);const Ih=new f.GfV("7.6.1"),kl="__angularfire_symbol__analyticsIsSupportedValue",uc="__angularfire_symbol__analyticsIsSupported",Vc="__angularfire_symbol__remoteConfigIsSupportedValue",qo="__angularfire_symbol__remoteConfigIsSupported",dc="__angularfire_symbol__messagingIsSupportedValue",Fl="__angularfire_symbol__messagingIsSupported";function xh(I,O,H){if(O){if(1===O.length)return O[0];const at=O.filter(St=>St.app===H);if(1===at.length)return at[0]}return H.container.getProvider(I).getImmediate({optional:!0})}globalThis[uc]||(globalThis[uc]=Ch().then(I=>globalThis[kl]=I).catch(()=>globalThis[kl]=!1)),globalThis[Fl]||(globalThis[Fl]=Ra().then(I=>globalThis[dc]=I).catch(()=>globalThis[dc]=!1)),globalThis[qo]||(globalThis[qo]=Ur().then(I=>globalThis[Vc]=I).catch(()=>globalThis[Vc]=!1));const ku=(I,O)=>{const H=O?[O]:(0,d.C6)(),we=[];return H.forEach(Qe=>{Qe.container.getProvider(I).instances.forEach(St=>{we.includes(St)||we.push(St)})}),we};function Ba(){}class Sh{constructor(O,H=Pl.N){this.zone=O,this.delegate=H}now(){return this.delegate.now()}schedule(O,H,we){const Qe=this.zone;return this.delegate.schedule(function(St){Qe.runGuarded(()=>{O.apply(this,[St])})},H,we)}}class bd{constructor(O){this.zone=O,this.task=null}call(O,H){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ba,{},Ba,Ba)),H.pipe((0,Ah.b)({next:we,complete:we,error:we})).subscribe(O).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ll=(()=>{class I{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new Sh(Zone.current)),this.insideAngular=H.run(()=>new Sh(Zone.current,Nc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(H){return new(H||I)(f.LFG(f.R0b))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function al(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Th(I){return al().ngZone.runOutsideAngular(()=>I())}function Va(I){return al().ngZone.run(()=>I())}function Bf(I){return I.pipe((0,lc.Q)(al().outsideAngular))}function Mh(I){return al(),function Dd(I){return function(H){return(H=H.lift(new bd(I.ngZone))).pipe((0,cc.R)(I.outsideAngular),(0,lc.Q)(I.insideAngular))}}(al())(I)}const Fu=(I,O)=>function(){const we=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),Va(()=>I.apply(void 0,we))},Lu=(I,O)=>function(){let H;const we=arguments;for(let at=0;at<arguments.length;at++)"function"==typeof we[at]&&(O&&(H||(H=Va(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ba,{},Ba,Ba)))),we[at]=Fu(we[at],H));const Qe=Th(()=>I.apply(this,we));if(!O){if(Qe instanceof Bc.y){const at=al();return Qe.pipe((0,cc.R)(at.outsideAngular),(0,lc.Q)(at.insideAngular))}return Va(()=>Qe)}return Qe instanceof Bc.y?Qe.pipe(Mh):Qe instanceof Promise?Va(()=>new Promise((at,St)=>Qe.then(_n=>Va(()=>at(_n)),_n=>Va(()=>St(_n))))):"function"==typeof Qe&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),Qe.apply(this,arguments)}:Va(()=>Qe)}},1389:(He,ge,D)=>{D.d(ge,{$:()=>L,A:()=>ce,D:()=>De,I:()=>Ai,J:()=>rs,L:()=>Br,N:()=>yt,P:()=>sa,Q:()=>El,R:()=>Le,U:()=>go,V:()=>Ur,W:()=>ga,X:()=>pa,Y:()=>mo,Z:()=>Ys,_:()=>zn,a:()=>zo,a0:()=>oe,a1:()=>kn,a2:()=>Xi,a3:()=>va,a4:()=>Ea,a5:()=>wa,a6:()=>Pr,a7:()=>bl,a8:()=>ar,a9:()=>vo,aA:()=>Ve,aB:()=>Uc,aC:()=>Me,aD:()=>an,aE:()=>uc,aF:()=>Ou,aG:()=>Na,aH:()=>Oi,aL:()=>Wo,aO:()=>os,aa:()=>Da,ab:()=>Eo,ac:()=>Ca,ad:()=>xc,ae:()=>Aa,af:()=>xa,ai:()=>Ja,aj:()=>tl,ak:()=>wl,an:()=>jr,ao:()=>P,aq:()=>Qs,ar:()=>Cl,as:()=>Zt,at:()=>_e,au:()=>Lt,av:()=>Be,aw:()=>Ao,ax:()=>xh,ay:()=>Ce,az:()=>fe,b:()=>Sc,c:()=>js,d:()=>$r,e:()=>Ri,f:()=>ol,g:()=>Ah,h:()=>Pl,i:()=>Dh,j:()=>Ih,k:()=>Cd,l:()=>ki,m:()=>Rg,o:()=>Bu,p:()=>he,r:()=>Us,s:()=>ei,u:()=>sl});var f=D(5861),d=D(2090),k=D(6881),re=D(7582),ee=D(1877),W=D(3475);const he={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ce={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const De=function U(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Te=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},nt=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new ee.Yd("@firebase/auth");function Et(b,...p){Fe.logLevel<=ee.in.ERROR&&Fe.error(`Auth (${k.SDK_VERSION}): ${b}`,...p)}function Be(b,...p){throw qe(b,...p)}function fe(b,...p){return qe(b,...p)}function Pe(b,p,_){const A=Object.assign(Object.assign({},Te()),{[p]:_});return new d.LL("auth","Firebase",A).create(p,{appName:b.name})}function Ge(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Be(b,"argument-error"),Pe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function qe(b,...p){if("string"!=typeof b){const _=p[0],A=[...p.slice(1)];return A[0]&&(A[0].appName=b.name),b._errorFactory.create(_,...A)}return nt.create(b,...p)}function Ve(b,p,..._){if(!b)throw qe(p,..._)}function wt(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Et(p),new Error(p)}function Zt(b,p){b||wt(p)}function Ht(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function on(){return"http:"===Gt()||"https:"===Gt()}function Gt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class yi{constructor(p,_){this.shortDelay=p,this.longDelay=_,Zt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function fi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(on()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function di(b,p){Zt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class ht{static initialize(p,_,A){this.fetchImpl=p,_&&(this.headersImpl=_),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void wt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void wt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void wt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Rt=new yi(3e4,6e4);function gt(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ut(b,p,_,A){return We.apply(this,arguments)}function We(){return(We=(0,f.Z)(function*(b,p,_,A,$={}){return Yt(b,$,(0,f.Z)(function*(){let se={},ct={};A&&("GET"===p?ct=A:se={body:JSON.stringify(A)});const Pt=(0,d.xO)(Object.assign({key:b.config.apiKey},ct)).slice(1),fn=yield b._getAdditionalHeaders();return fn["Content-Type"]="application/json",b.languageCode&&(fn["X-Firebase-Locale"]=b.languageCode),ht.fetch()(Wt(b,b.config.apiHost,_,Pt),Object.assign({method:p,headers:fn,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function Yt(b,p,_){return ze.apply(this,arguments)}function ze(){return(ze=(0,f.Z)(function*(b,p,_){b._canInitEmulator=!1;const A=Object.assign(Object.assign({},ut),p);try{const $=new nn(b),se=yield Promise.race([_(),$.promise]);$.clearNetworkTimeout();const ct=yield se.json();if("needConfirmation"in ct)throw pn(b,"account-exists-with-different-credential",ct);if(se.ok&&!("errorMessage"in ct))return ct;{const Pt=se.ok?ct.errorMessage:ct.error.message,[fn,Dn]=Pt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===fn)throw pn(b,"credential-already-in-use",ct);if("EMAIL_EXISTS"===fn)throw pn(b,"email-already-in-use",ct);if("USER_DISABLED"===fn)throw pn(b,"user-disabled",ct);const Vn=A[fn]||fn.toLowerCase().replace(/[_\s]+/g,"-");if(Dn)throw Pe(b,Vn,Dn);Be(b,Vn)}}catch($){if($ instanceof d.ZR)throw $;Be(b,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function et(b,p,_,A){return xt.apply(this,arguments)}function xt(){return(xt=(0,f.Z)(function*(b,p,_,A,$={}){const se=yield Ut(b,p,_,A,$);return"mfaPendingCredential"in se&&Be(b,"multi-factor-auth-required",{_serverResponse:se}),se})).apply(this,arguments)}function Wt(b,p,_,A){const $=`${p}${_}?${A}`;return b.config.emulator?di(b.config,$):`${b.config.apiScheme}://${$}`}class nn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,A)=>{this.timer=setTimeout(()=>A(fe(this.auth,"network-request-failed")),Rt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pn(b,p,_){const A={appName:b.name};_.email&&(A.email=_.email),_.phoneNumber&&(A.phoneNumber=_.phoneNumber);const $=fe(b,p,A);return $.customData._tokenResponse=_,$}function Tn(){return(Tn=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function $n(b,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function pi(b,p){return it.apply(this,arguments)}function it(){return(it=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function J(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function ne(){return(ne=(0,f.Z)(function*(b,p=!1){const _=(0,d.m9)(b),A=yield _.getIdToken(p),$=ot(A);Ve($&&$.exp&&$.auth_time&&$.iat,_.auth,"internal-error");const se="object"==typeof $.firebase?$.firebase:void 0,ct=se?.sign_in_provider;return{claims:$,token:A,authTime:J(Ie($.auth_time)),issuedAtTime:J(Ie($.iat)),expirationTime:J(Ie($.exp)),signInProvider:ct||null,signInSecondFactor:se?.sign_in_second_factor||null}})).apply(this,arguments)}function Ie(b){return 1e3*Number(b)}function ot(b){const[p,_,A]=b.split(".");if(void 0===p||void 0===_||void 0===A)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,d.tV)(_);return $?JSON.parse($):(Et("Failed to decode base64 JWT payload"),null)}catch($){return Et("Caught error parsing JWT payload as JSON",$?.toString()),null}}function pe(b,p){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(A){throw A instanceof d.ZR&&ye(A)&&b.auth.currentUser===b&&(yield b.auth.signOut()),A}})).apply(this,arguments)}function ye({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class me{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const $=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const A=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield _.iteration()}),A)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class ae{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=J(this.lastLoginAt),this.creationTime=J(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tt(b){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(b){var p;const _=b.auth,A=yield b.getIdToken(),$=yield pe(b,pi(_,{idToken:A}));Ve($?.users.length,_,"internal-error");const se=$.users[0];b._notifyReloadListener(se);const ct=null!==(p=se.providerUserInfo)&&void 0!==p&&p.length?Ue(se.providerUserInfo):[],Pt=pt(b.providerData,ct),Vn=!!b.isAnonymous&&!(b.email&&se.passwordHash||Pt?.length),wi={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:Pt,metadata:new ae(se.createdAt,se.lastLoginAt),isAnonymous:Vn};Object.assign(b,wi)})).apply(this,arguments)}function sn(){return(sn=(0,f.Z)(function*(b){const p=(0,d.m9)(b);yield tt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function pt(b,p){return[...b.filter(A=>!p.some($=>$.providerId===A.providerId)),...p]}function Ue(b){return b.map(p=>{var{providerId:_}=p,A=(0,re._T)(p,["providerId"]);return{providerId:_,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Dt(){return(Dt=(0,f.Z)(function*(b,p){const _=yield Yt(b,{},(0,f.Z)(function*(){const A=(0,d.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:$,apiKey:se}=b.config,ct=Wt(b,$,"/v1/token",`key=${se}`),Pt=yield b._getAdditionalHeaders();return Pt["Content-Type"]="application/x-www-form-urlencoded",ht.fetch()(ct,{method:"POST",headers:Pt,body:A})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class Xt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ve(p.idToken,"internal-error"),Ve(typeof p.idToken<"u","internal-error"),Ve(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Ne(b){const p=ot(b);return Ve(p,"internal-error"),Ve(typeof p.exp<"u","internal-error"),Ve(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var A=this;return(0,f.Z)(function*(){return Ve(!A.accessToken||A.refreshToken,p,"user-token-expired"),_||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(p,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var A=this;return(0,f.Z)(function*(){const{accessToken:$,refreshToken:se,expiresIn:ct}=yield function Oe(b,p){return Dt.apply(this,arguments)}(p,_);A.updateTokensAndExpiration($,se,Number(ct))})()}updateTokensAndExpiration(p,_,A){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(p,_){const{refreshToken:A,accessToken:$,expirationTime:se}=_,ct=new Xt;return A&&(Ve("string"==typeof A,"internal-error",{appName:p}),ct.refreshToken=A),$&&(Ve("string"==typeof $,"internal-error",{appName:p}),ct.accessToken=$),se&&(Ve("number"==typeof se,"internal-error",{appName:p}),ct.expirationTime=se),ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Xt,this.toJSON())}_performRefresh(){return wt("not implemented")}}function Pn(b,p){Ve("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class mt{constructor(p){var{uid:_,auth:A,stsTokenManager:$}=p,se=(0,re._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new me(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=A,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new ae(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,f.Z)(function*(){const A=yield pe(_,_.stsTokenManager.getToken(_.auth,p));return Ve(A,_.auth,"internal-error"),_.accessToken!==A&&(_.accessToken=A,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),A})()}getIdTokenResult(p){return function ve(b){return ne.apply(this,arguments)}(this,p)}reload(){return function rt(b){return sn.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ve(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new mt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var A=this;return(0,f.Z)(function*(){let $=!1;p.idToken&&p.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(p),$=!0),_&&(yield tt(A)),yield A.auth._persistUserIfCurrent(A),$&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var p=this;return(0,f.Z)(function*(){const _=yield p.getIdToken();return yield pe(p,function xn(b,p){return Tn.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var A,$,se,ct,Pt,fn,Dn,Vn;const wi=null!==(A=_.displayName)&&void 0!==A?A:void 0,Js=null!==($=_.email)&&void 0!==$?$:void 0,ll=null!==(se=_.phoneNumber)&&void 0!==se?se:void 0,Wc=null!==(ct=_.photoURL)&&void 0!==ct?ct:void 0,Kc=null!==(Pt=_.tenantId)&&void 0!==Pt?Pt:void 0,fc=null!==(fn=_._redirectEventId)&&void 0!==fn?fn:void 0,xd=null!==(Dn=_.createdAt)&&void 0!==Dn?Dn:void 0,Pg=null!==(Vn=_.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:Sd,emailVerified:Vu,isAnonymous:Td,providerData:cl,stsTokenManager:Oh}=_;Ve(Sd&&Oh,p,"internal-error");const Gf=Xt.fromJSON(this.name,Oh);Ve("string"==typeof Sd,p,"internal-error"),Pn(wi,p.name),Pn(Js,p.name),Ve("boolean"==typeof Vu,p,"internal-error"),Ve("boolean"==typeof Td,p,"internal-error"),Pn(ll,p.name),Pn(Wc,p.name),Pn(Kc,p.name),Pn(fc,p.name),Pn(xd,p.name),Pn(Pg,p.name);const Hf=new mt({uid:Sd,auth:p,email:Js,emailVerified:Vu,displayName:wi,isAnonymous:Td,photoURL:Wc,phoneNumber:ll,tenantId:Kc,stsTokenManager:Gf,createdAt:xd,lastLoginAt:Pg});return cl&&Array.isArray(cl)&&(Hf.providerData=cl.map(Ph=>Object.assign({},Ph))),fc&&(Hf._redirectEventId=fc),Hf}static _fromIdTokenResponse(p,_,A=!1){return(0,f.Z)(function*(){const $=new Xt;$.updateFromServerResponse(_);const se=new mt({uid:_.localId,auth:p,stsTokenManager:$,isAnonymous:A});return yield tt(se),se})()}}const Ke=new Map;function Me(b){Zt(b instanceof Function,"Expected a class definition");let p=Ke.get(b);return p?(Zt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Ke.set(b,p),p)}const yt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(_,A){var $=this;return(0,f.Z)(function*(){$.storage[_]=A})()}_get(_){var A=this;return(0,f.Z)(function*(){const $=A.storage[_];return void 0===$?null:$})()}_remove(_){var A=this;return(0,f.Z)(function*(){delete A.storage[_]})()}_addListener(_,A){}_removeListener(_,A){}}return b.type="NONE",b})();function an(b,p,_){return`firebase:${b}:${p}:${_}`}class Ae{constructor(p,_,A){this.persistence=p,this.auth=_,this.userKey=A;const{config:$,name:se}=this.auth;this.fullUserKey=an(this.userKey,$.apiKey,se),this.fullPersistenceKey=an("persistence",$.apiKey,se),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?mt._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,f.Z)(function*(){if(_.persistence===p)return;const A=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,A?_.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,A="authUser"){return(0,f.Z)(function*(){if(!_.length)return new Ae(Me(yt),p,A);const $=(yield Promise.all(_.map(function(){var Dn=(0,f.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return Dn.apply(this,arguments)}}()))).filter(Dn=>Dn);let se=$[0]||Me(yt);const ct=an(A,p.config.apiKey,p.name);let Pt=null;for(const Dn of _)try{const Vn=yield Dn._get(ct);if(Vn){const wi=mt._fromJSON(p,Vn);Dn!==se&&(Pt=wi),se=Dn;break}}catch{}const fn=$.filter(Dn=>Dn._shouldAllowMigration);return se._shouldAllowMigration&&fn.length?(se=fn[0],Pt&&(yield se._set(ct,Pt.toJSON())),yield Promise.all(_.map(function(){var Dn=(0,f.Z)(function*(Vn){if(Vn!==se)try{yield Vn._remove(ct)}catch{}});return function(Vn){return Dn.apply(this,arguments)}}())),new Ae(se,p,A)):new Ae(se,p,A)})()}}function xe(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Je(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ie(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(un(p))return"Blackberry";if(Cn(p))return"Webos";if(q(p))return"Safari";if((p.includes("chrome/")||K(p))&&!p.includes("edge/"))return"Chrome";if(Lt(p))return"Android";{const A=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function ie(b=(0,d.z$)()){return/firefox\//i.test(b)}function q(b=(0,d.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function K(b=(0,d.z$)()){return/crios\//i.test(b)}function Je(b=(0,d.z$)()){return/iemobile/i.test(b)}function Lt(b=(0,d.z$)()){return/android/i.test(b)}function un(b=(0,d.z$)()){return/blackberry/i.test(b)}function Cn(b=(0,d.z$)()){return/webos/i.test(b)}function _e(b=(0,d.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Ce(b=(0,d.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function bt(b=(0,d.z$)()){return _e(b)||Lt(b)||Cn(b)||un(b)||/windows phone/i.test(b)||Je(b)}function Nn(b,p=[]){let _;switch(b){case"Browser":_=xe((0,d.z$)());break;case"Worker":_=`${xe((0,d.z$)())}-${b}`;break;default:_=b}const A=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${A}`}function lt(){return(lt=(0,f.Z)(function*(b){return(yield Ut(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function zt(b,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,f.Z)(function*(b,p){return Ut(b,"GET","/v2/recaptchaConfig",gt(b,p))})).apply(this,arguments)}function Mn(b){return void 0!==b&&void 0!==b.getResponse}function Bn(b){return void 0!==b&&void 0!==b.enterprise}class oi{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function Yn(b){return new Promise((p,_)=>{const A=document.createElement("script");A.setAttribute("src",b),A.onload=p,A.onerror=$=>{const se=fe("internal-error");se.customData=$,_(se)},A.type="text/javascript",A.charset="UTF-8",function Mi(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(A)})}function er(b){return`__${b}${Math.floor(1e6*Math.random())}`}class ms{constructor(p){this.type="recaptcha-enterprise",this.auth=Oi(p)}verify(p="verify",_=!1){var A=this;return(0,f.Z)(function*(){function se(){return se=(0,f.Z)(function*(Pt){if(!_){if(null==Pt.tenantId&&null!=Pt._agentRecaptchaConfig)return Pt._agentRecaptchaConfig.siteKey;if(null!=Pt.tenantId&&void 0!==Pt._tenantRecaptchaConfigs[Pt.tenantId])return Pt._tenantRecaptchaConfigs[Pt.tenantId].siteKey}return new Promise(function(){var fn=(0,f.Z)(function*(Dn,Vn){zt(Pt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wi=>{if(void 0!==wi.recaptchaKey){const Js=new oi(wi);return null==Pt.tenantId?Pt._agentRecaptchaConfig=Js:Pt._tenantRecaptchaConfigs[Pt.tenantId]=Js,Dn(Js.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(wi=>{Vn(wi)})});return function(Dn,Vn){return fn.apply(this,arguments)}}())}),se.apply(this,arguments)}function ct(Pt,fn,Dn){const Vn=window.grecaptcha;Bn(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(Pt,{action:p}).then(wi=>{fn(wi)}).catch(()=>{fn("NO_RECAPTCHA")})}):Dn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Pt,fn)=>{(function $(Pt){return se.apply(this,arguments)})(A.auth).then(Dn=>{if(!_&&Bn(window.grecaptcha))ct(Dn,Pt,fn);else{if(typeof window>"u")return void fn(new Error("RecaptchaVerifier is only supported in browser"));Yn("https://www.google.com/recaptcha/enterprise.js?render="+Dn).then(()=>{ct(Dn,Pt,fn)}).catch(Vn=>{fn(Vn)})}}).catch(Dn=>{fn(Dn)})})})()}}function Xn(b,p,_){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(b,p,_,A=!1){const $=new ms(b);let se;try{se=yield $.verify(_)}catch{se=yield $.verify(_,!0)}const ct=Object.assign({},p);return Object.assign(ct,A?{captchaResp:se}:{captchaResponse:se}),Object.assign(ct,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ct,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ct})).apply(this,arguments)}class Tr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const A=se=>new Promise((ct,Pt)=>{try{ct(p(se))}catch(fn){Pt(fn)}});A.onAbort=_,this.queue.push(A);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,f.Z)(function*(){if(_.auth.currentUser===p)return;const A=[];try{for(const $ of _.queue)yield $(p),$.onAbort&&A.push($.onAbort)}catch($){A.reverse();for(const se of A)try{se()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}class Mr{constructor(p,_,A,$){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=A,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.beforeStateQueue=new Tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(p,_){var A=this;return _&&(this._popupRedirectResolver=Me(_)),this._initializationPromise=this.queue((0,f.Z)(function*(){var $,se;if(!A._deleted&&(A.persistenceManager=yield Ae.create(A,p),!A._deleted)){if(null!==($=A._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(_),A.lastNotifiedUid=(null===(se=A.currentUser)||void 0===se?void 0:se.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,f.Z)(function*(){var A;const $=yield _.assertedPersistence.getCurrentUser();let se=$,ct=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Pt=null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId,fn=se?._redirectEventId,Dn=yield _.tryRedirectSignIn(p);(!Pt||Pt===fn)&&Dn?.user&&(se=Dn.user,ct=!0)}if(!se)return _.directlySetCurrentUser(null);if(!se._redirectEventId){if(ct)try{yield _.beforeStateQueue.runMiddleware(se)}catch(Pt){se=$,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Pt))}return se?_.reloadAndSetCurrentUserOrClear(se):_.directlySetCurrentUser(null)}return Ve(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===se._redirectEventId?_.directlySetCurrentUser(se):_.reloadAndSetCurrentUserOrClear(se)})()}tryRedirectSignIn(p){var _=this;return(0,f.Z)(function*(){let A=null;try{A=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,f.Z)(function*(){try{yield tt(p)}catch(A){if("auth/network-request-failed"!==A?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Kn(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,f.Z)(function*(){const A=p?(0,d.m9)(p):null;return A&&Ve(A.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(A&&A._clone(_))})()}_updateCurrentUser(p,_=!1){var A=this;return(0,f.Z)(function*(){if(!A._deleted)return p&&Ve(A.tenantId===p.tenantId,A,"tenant-id-mismatch"),_||(yield A.beforeStateQueue.runMiddleware(p)),A.queue((0,f.Z)(function*(){yield A.directlySetCurrentUser(p),A.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,f.Z)(function*(){yield _.assertedPersistence.setPersistence(Me(p))}))}initializeRecaptchaConfig(){var p=this;return(0,f.Z)(function*(){const _=yield zt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),A=new oi(_);null==p.tenantId?p._agentRecaptchaConfig=A:p._tenantRecaptchaConfigs[p.tenantId]=A,A.emailPasswordEnabled&&new ms(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new d.LL("auth","Firebase",p())}onAuthStateChanged(p,_,A){return this.registerStateListener(this.authStateSubscription,p,_,A)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,A){return this.registerStateListener(this.idTokenSubscription,p,_,A)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var A=this;return(0,f.Z)(function*(){const $=yield A.getOrInitRedirectPersistenceManager(_);return null===p?$.removeCurrentUser():$.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,f.Z)(function*(){if(!_.redirectPersistenceManager){const A=p&&Me(p)||_._popupRedirectResolver;Ve(A,_,"argument-error"),_.redirectPersistenceManager=yield Ae.create(_,[Me(A._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,f.Z)(function*(){var A,$;return _._isInitialized&&(yield _.queue((0,f.Z)(function*(){}))),(null===(A=_._currentUser)||void 0===A?void 0:A._redirectEventId)===p?_._currentUser:(null===($=_.redirectUser)||void 0===$?void 0:$._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,f.Z)(function*(){if(p===_.currentUser)return _.queue((0,f.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,A,$){if(this._deleted)return()=>{};const se="function"==typeof _?_:_.next.bind(_),ct=this._isInitialized?Promise.resolve():this._initializationPromise;return Ve(ct,this,"internal-error"),ct.then(()=>se(this.currentUser)),"function"==typeof _?p.addObserver(_,A,$):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,f.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Nn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,f.Z)(function*(){var _;const A={"X-Client-Version":p.clientVersion};p.app.options.appId&&(A["X-Firebase-gmpid"]=p.app.options.appId);const $=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();$&&(A["X-Firebase-Client"]=$);const se=yield p._getAppCheckToken();return se&&(A["X-Firebase-AppCheck"]=se),A})()}_getAppCheckToken(){var p=this;return(0,f.Z)(function*(){var _;const A=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return A?.error&&function It(b,...p){Fe.logLevel<=ee.in.WARN&&Fe.warn(`Auth (${k.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${A.error}`),A?.token})()}}function Oi(b){return(0,d.m9)(b)}class _s{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,d.ne)(_=>this.observer=_)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ai(b,p,_){const A=Oi(b);Ve(A._canInitEmulator,A,"emulator-config-failed"),Ve(/^https?:\/\//.test(p),A,"invalid-emulator-scheme");const $=!!_?.disableWarnings,se=Vi(p),{host:ct,port:Pt}=function Gi(b){const p=Vi(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const A=_[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(A);if($){const se=$[1];return{host:se,port:Dr(A.substr(se.length+1))}}{const[se,ct]=A.split(":");return{host:se,port:Dr(ct)}}}(p);A.config.emulator={url:`${se}//${ct}${null===Pt?"":`:${Pt}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ct,port:Pt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function is(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Vi(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Dr(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class rs{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return wt("not implemented")}_getIdTokenResponse(p){return wt("not implemented")}_linkToIdToken(p,_){return wt("not implemented")}_getReauthenticationResolver(p){return wt("not implemented")}}function fo(b,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:resetPassword",gt(b,p))})).apply(this,arguments)}function ke(b,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _t(b,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",gt(b,p))})).apply(this,arguments)}function yn(b,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithPassword",gt(b,p))})).apply(this,arguments)}function Jn(b,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:sendOobCode",gt(b,p))})).apply(this,arguments)}function Yi(b,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,f.Z)(function*(b,p){return Jn(b,p)})).apply(this,arguments)}function Ii(b,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,f.Z)(function*(b,p){return Jn(b,p)})).apply(this,arguments)}function Rs(b,p){return $s.apply(this,arguments)}function $s(){return($s=(0,f.Z)(function*(b,p){return Jn(b,p)})).apply(this,arguments)}function zs(b,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(b,p){return Jn(b,p)})).apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithEmailLink",gt(b,p))})).apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithEmailLink",gt(b,p))})).apply(this,arguments)}class Ro extends rs{constructor(p,_,A,$=null){super("password",A),this._email=p,this._password=_,this._tenantId=$}static _fromEmailAndPassword(p,_){return new Ro(p,_,"password")}static _fromEmailAndCode(p,_,A=null){return new Ro(p,_,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,f.Z)(function*(){var A;switch(_.signInMethod){case"password":const $={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=p._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const se=yield Xn(p,$,"signInWithPassword");return yn(p,se)}return yn(p,$).catch(function(){var se=(0,f.Z)(function*(ct){if("auth/missing-recaptcha-token"===ct.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Pt=yield Xn(p,$,"signInWithPassword");return yn(p,Pt)}return Promise.reject(ct)});return function(ct){return se.apply(this,arguments)}}());case"emailLink":return function po(b,p){return Ws.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Be(p,"internal-error")}})()}_linkToIdToken(p,_){var A=this;return(0,f.Z)(function*(){switch(A.signInMethod){case"password":return ke(p,{idToken:_,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function vl(b,p){return Os.apply(this,arguments)}(p,{idToken:_,email:A._email,oobCode:A._password});default:Be(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function ss(b,p){return io.apply(this,arguments)}function io(){return(io=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithIdp",gt(b,p))})).apply(this,arguments)}class Br extends rs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new Br(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Be("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:$}=_,se=(0,re._T)(_,["providerId","signInMethod"]);if(!A||!$)return null;const ct=new Br(A,$);return ct.idToken=se.idToken||void 0,ct.accessToken=se.accessToken||void 0,ct.secret=se.secret,ct.nonce=se.nonce,ct.pendingToken=se.pendingToken||null,ct}_getIdTokenResponse(p){return ss(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,ss(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ss(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,d.xO)(_)}return p}}function Xo(b,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:sendVerificationCode",gt(b,p))})).apply(this,arguments)}function Ks(){return(Ks=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithPhoneNumber",gt(b,p))})).apply(this,arguments)}function ko(){return(ko=(0,f.Z)(function*(b,p){const _=yield et(b,"POST","/v1/accounts:signInWithPhoneNumber",gt(b,p));if(_.temporaryProof)throw pn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Wa={USER_NOT_FOUND:"user-not-found"};function Ka(){return(Ka=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithPhoneNumber",gt(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Wa)})).apply(this,arguments)}class $i extends rs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new $i({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new $i({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function Oo(b,p){return Ks.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Po(b,p){return ko.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Jo(b,p){return Ka.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:A,verificationCode:$}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:A,code:$}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:A,phoneNumber:$,temporaryProof:se}=p;return A||_||$||se?new $i({verificationId:_,verificationCode:A,phoneNumber:$,temporaryProof:se}):null}}class Es{constructor(p){var _,A,$,se,ct,Pt;const fn=(0,d.zd)((0,d.pd)(p)),Dn=null!==(_=fn.apiKey)&&void 0!==_?_:null,Vn=null!==(A=fn.oobCode)&&void 0!==A?A:null,wi=function Vr(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=fn.mode)&&void 0!==$?$:null);Ve(Dn&&Vn&&wi,"argument-error"),this.apiKey=Dn,this.operation=wi,this.code=Vn,this.continueUrl=null!==(se=fn.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(ct=fn.languageCode)&&void 0!==ct?ct:null,this.tenantId=null!==(Pt=fn.tenantId)&&void 0!==Pt?Pt:null}static parseLink(p){const _=function Fo(b){const p=(0,d.zd)((0,d.pd)(b)).link,_=p?(0,d.zd)((0,d.pd)(p)).deep_link_id:null,A=(0,d.zd)((0,d.pd)(b)).deep_link_id;return(A?(0,d.zd)((0,d.pd)(A)).link:null)||A||_||p||b}(p);try{return new Es(_)}catch{return null}}}let El=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,A){return Ro._fromEmailAndPassword(_,A)}static credentialWithLink(_,A){const $=Es.parseLink(A);return Ve($,"argument-error"),Ro._fromEmailAndCode(_,$.code,$.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Si{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class qs extends Si{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class pa extends qs{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return Ve("providerId"in _&&"signInMethod"in _,"argument-error"),Br._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ve(p.idToken||p.accessToken,"argument-error"),Br._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return pa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return pa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:A,oauthTokenSecret:$,pendingToken:se,nonce:ct,providerId:Pt}=p;if(!A&&!$&&!_&&!se||!Pt)return null;try{return new pa(Pt)._credential({idToken:_,accessToken:A,nonce:ct,pendingToken:se})}catch{return null}}}let go=(()=>{class b extends qs{constructor(){super("facebook.com")}static credential(_){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ur=(()=>{class b extends qs{constructor(){super("google.com"),this.addScope("profile")}static credential(_,A){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:A,oauthAccessToken:$}=_;if(!A&&!$)return null;try{return b.credential(A,$)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),ga=(()=>{class b extends qs{constructor(){super("github.com")}static credential(_){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class os extends rs{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return ss(p,this.buildRequest())}_linkToIdToken(p,_){const A=this.buildRequest();return A.idToken=_,ss(p,A)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,ss(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:A,signInMethod:$,pendingToken:se}=_;return A&&$&&se&&A===$?new os(A,se):null}static _create(p,_){return new os(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mo extends Si{constructor(p){Ve(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return mo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return mo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=os.fromJSON(p);return Ve(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:A}=p;if(!_||!A)return null;try{return os._create(A,_)}catch{return null}}}let Ys=(()=>{class b extends qs{constructor(){super("twitter.com")}static credential(_,A){return Br._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:A})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:A,oauthTokenSecret:$}=_;if(!A||!$)return null;try{return b.credential(A,$)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function hr(b,p){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signUp",gt(b,p))})).apply(this,arguments)}class Qi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,A,$=!1){return(0,f.Z)(function*(){const se=yield mt._fromIdTokenResponse(p,A,$),ct=Zs(A);return new Qi({user:se,providerId:ct,_tokenResponse:A,operationType:_})})()}static _forOperation(p,_,A){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(A,!0);const $=Zs(A);return new Qi({user:p,providerId:$,_tokenResponse:A,operationType:_})})()}}function Zs(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function zn(b){return ea.apply(this,arguments)}function ea(){return(ea=(0,f.Z)(function*(b){var p;const _=Oi(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Qi({user:_.currentUser,providerId:null,operationType:"signIn"});const A=yield hr(_,{returnSecureToken:!0}),$=yield Qi._fromIdTokenResponse(_,"signIn",A,!0);return yield _._updateCurrentUser($.user),$})).apply(this,arguments)}class Bo extends d.ZR{constructor(p,_,A,$){var se;super(_.code,_.message),this.operationType=A,this.user=$,Object.setPrototypeOf(this,Bo.prototype),this.customData={appName:p.name,tenantId:null!==(se=p.tenantId)&&void 0!==se?se:void 0,_serverResponse:_.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(p,_,A,$){return new Bo(p,_,A,$)}}function ma(b,p,_,A){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Bo._fromErrorAndOperation(b,se,p,A):se})}function qa(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function jr(b,p){return Or.apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(b,p){const _=(0,d.m9)(b);yield Kt(!0,_,p);const{providerUserInfo:A}=yield $n(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),$=qa(A||[]);return _.providerData=_.providerData.filter(se=>$.has(se.providerId)),$.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Gr(b,p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,f.Z)(function*(b,p,_=!1){const A=yield pe(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Qi._forOperation(b,"link",A)})).apply(this,arguments)}function Kt(b,p,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(b,p,_){yield tt(p);const $=!1===b?"provider-already-linked":"no-such-provider";Ve(qa(p.providerData).has(_)===b,p.auth,$)})).apply(this,arguments)}function Za(b,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,f.Z)(function*(b,p,_=!1){const{auth:A}=b,$="reauthenticate";try{const se=yield pe(b,ma(A,$,p,b),_);Ve(se.idToken,A,"internal-error");const ct=ot(se.idToken);Ve(ct,A,"internal-error");const{sub:Pt}=ct;return Ve(b.uid===Pt,A,"user-mismatch"),Qi._forOperation(b,$,se)}catch(se){throw"auth/user-not-found"===se?.code&&Be(A,"user-mismatch"),se}})).apply(this,arguments)}function sr(b,p){return V.apply(this,arguments)}function V(){return(V=(0,f.Z)(function*(b,p,_=!1){const A="signIn",$=yield ma(b,A,p),se=yield Qi._fromIdTokenResponse(b,A,$);return _||(yield b._updateCurrentUser(se.user)),se})).apply(this,arguments)}function L(b,p){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(b,p){return sr(Oi(b),p)})).apply(this,arguments)}function oe(b,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,f.Z)(function*(b,p){const _=(0,d.m9)(b);return yield Kt(!1,_,p.providerId),Gr(_,p)})).apply(this,arguments)}function kn(b,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(b,p){return Za((0,d.m9)(b),p)})).apply(this,arguments)}function ks(b,p){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,f.Z)(function*(b,p){return et(b,"POST","/v1/accounts:signInWithCustomToken",gt(b,p))})).apply(this,arguments)}function Xi(b,p){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(b,p){const _=Oi(b),A=yield ks(_,{token:p,returnSecureToken:!0}),$=yield Qi._fromIdTokenResponse(_,"signIn",A);return yield _._updateCurrentUser($.user),$})).apply(this,arguments)}class Yr{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Uo._fromServerResponse(p,_):"totpInfo"in _?Ci._fromServerResponse(p,_):Be(p,"internal-error")}}class Uo extends Yr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Uo(_)}}class Ci extends Yr{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Ci(_)}}function ya(b,p,_){var A;Ve((null===(A=_.url)||void 0===A?void 0:A.length)>0,b,"invalid-continue-uri"),Ve(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Ve(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(Ve(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function va(b,p,_){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,f.Z)(function*(b,p,_){var A;const $=Oi(b),se={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(A=$._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const ct=yield Xn($,se,"getOobCode",!0);_&&ya($,ct,_),yield Ii($,ct)}else _&&ya($,se,_),yield Ii($,se).catch(function(){var ct=(0,f.Z)(function*(Pt){if("auth/missing-recaptcha-token"!==Pt.code)return Promise.reject(Pt);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const fn=yield Xn($,se,"getOobCode",!0);_&&ya($,fn,_),yield Ii($,fn)}});return function(Pt){return ct.apply(this,arguments)}}())}),Qa.apply(this,arguments)}function Ea(b,p,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,f.Z)(function*(b,p,_){yield fo((0,d.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function wa(b,p){return _o.apply(this,arguments)}function _o(){return(_o=(0,f.Z)(function*(b,p){yield _t((0,d.m9)(b),{oobCode:p})})).apply(this,arguments)}function Pr(b,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(b,p){const _=(0,d.m9)(b),A=yield fo(_,{oobCode:p}),$=A.requestType;switch(Ve($,_,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ve(A.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ve(A.mfaInfo,_,"internal-error");default:Ve(A.email,_,"internal-error")}let se=null;return A.mfaInfo&&(se=Yr._fromServerResponse(Oi(_),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:se},operation:$}})).apply(this,arguments)}function bl(b,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(b,p){const{data:_}=yield Pr((0,d.m9)(b),p);return _.email})).apply(this,arguments)}function ar(b,p,_){return yo.apply(this,arguments)}function yo(){return yo=(0,f.Z)(function*(b,p,_){var A;const $=Oi(b),se={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let ct;if(null!==(A=$._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Dn=yield Xn($,se,"signUpPassword");ct=hr($,Dn)}else ct=hr($,se).catch(function(){var Dn=(0,f.Z)(function*(Vn){if("auth/missing-recaptcha-token"===Vn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wi=yield Xn($,se,"signUpPassword");return hr($,wi)}return Promise.reject(Vn)});return function(Vn){return Dn.apply(this,arguments)}}());const Pt=yield ct.catch(Dn=>Promise.reject(Dn)),fn=yield Qi._fromIdTokenResponse($,"signIn",Pt);return yield $._updateCurrentUser(fn.user),fn}),yo.apply(this,arguments)}function vo(b,p,_){return L((0,d.m9)(b),El.credential(p,_))}function Da(b,p,_){return bs.apply(this,arguments)}function bs(){return bs=(0,f.Z)(function*(b,p,_){var A;const $=Oi(b),se={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function ct(Pt,fn){Ve(fn.handleCodeInApp,$,"argument-error"),fn&&ya($,Pt,fn)}if(null!==(A=$._getRecaptchaConfig())&&void 0!==A&&A.emailPasswordEnabled){const Pt=yield Xn($,se,"getOobCode",!0);ct(Pt,_),yield Rs($,Pt)}else ct(se,_),yield Rs($,se).catch(function(){var Pt=(0,f.Z)(function*(fn){if("auth/missing-recaptcha-token"!==fn.code)return Promise.reject(fn);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Dn=yield Xn($,se,"getOobCode",!0);ct(Dn,_),yield Rs($,Dn)}});return function(fn){return Pt.apply(this,arguments)}}())}),bs.apply(this,arguments)}function Eo(b,p){return"EMAIL_SIGNIN"===Es.parseLink(p)?.operation}function Ca(b,p,_){return xi.apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b),$=El.credentialWithLink(p,_||Ht());return Ve($._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),L(A,$)})).apply(this,arguments)}function Fs(b,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:createAuthUri",gt(b,p))})).apply(this,arguments)}function xc(b,p){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(b,p){const A={identifier:p,continueUri:on()?Ht():"http://localhost"},{signinMethods:$}=yield Fs((0,d.m9)(b),A);return $||[]})).apply(this,arguments)}function Aa(b,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,f.Z)(function*(b,p){const _=(0,d.m9)(b),$={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&ya(_.auth,$,p);const{email:se}=yield Yi(_.auth,$);se!==b.email&&(yield b.reload())})).apply(this,arguments)}function xa(b,p,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&ya(A.auth,se,_);const{email:ct}=yield zs(A.auth,se);ct!==b.email&&(yield b.reload())})).apply(this,arguments)}function Sa(b,p){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,f.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ja(b,p){return el.apply(this,arguments)}function el(){return(el=(0,f.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const A=(0,d.m9)(b),se={idToken:yield A.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},ct=yield pe(A,Sa(A.auth,se));A.displayName=ct.displayName||null,A.photoURL=ct.photoUrl||null;const Pt=A.providerData.find(({providerId:fn})=>"password"===fn);Pt&&(Pt.displayName=A.displayName,Pt.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ct)})).apply(this,arguments)}function tl(b,p){return Ls((0,d.m9)(b),p,null)}function wl(b,p){return Ls((0,d.m9)(b),null,p)}function Ls(b,p,_){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(b,p,_){const{auth:A}=b,se={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(se.email=p),_&&(se.password=_);const ct=yield pe(b,ke(A,se));yield b._updateTokensIfNecessary(ct,!0)})).apply(this,arguments)}class Ns{constructor(p,_,A={}){this.isNewUser=p,this.providerId=_,this.profile=A}}class bo extends Ns{constructor(p,_,A,$){super(p,_,A),this.username=$}}class Ta extends Ns{constructor(p,_){super(p,"facebook.com",_)}}class Ma extends bo{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class T extends Ns{constructor(p,_){super(p,"google.com",_)}}class G extends bo{constructor(p,_,A){super(p,"twitter.com",_,A)}}function P(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Dl(b){var p,_;if(!b)return null;const{providerId:A}=b,$=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},se=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!A&&b?.idToken){const ct=null===(_=null===(p=ot(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(ct)return new Ns(se,"anonymous"!==ct&&"custom"!==ct?ct:null)}if(!A)return null;switch(A){case"facebook.com":return new Ta(se,$);case"github.com":return new Ma(se,$);case"google.com":return new T(se,$);case"twitter.com":return new G(se,$,b.screenName||null);case"custom":case"anonymous":return new Ns(se,null);default:return new Ns(se,A,$)}}(_)}class gi{constructor(p,_,A){this.type=p,this.credential=_,this.auth=A}static _fromIdtoken(p,_){return new gi("enroll",p,_)}static _fromMfaPendingCredential(p){return new gi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,A;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return gi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(A=p.multiFactorSession)&&void 0!==A&&A.idToken)return gi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class fr{constructor(p,_,A){this.session=p,this.hints=_,this.signInResolver=A}static _fromError(p,_){const A=Oi(p),$=_.customData._serverResponse,se=($.mfaInfo||[]).map(Pt=>Yr._fromServerResponse(A,Pt));Ve($.mfaPendingCredential,A,"internal-error");const ct=gi._fromMfaPendingCredential($.mfaPendingCredential);return new fr(ct,se,function(){var Pt=(0,f.Z)(function*(fn){const Dn=yield fn._process(A,ct);delete $.mfaInfo,delete $.mfaPendingCredential;const Vn=Object.assign(Object.assign({},$),{idToken:Dn.idToken,refreshToken:Dn.refreshToken});switch(_.operationType){case"signIn":const wi=yield Qi._fromIdTokenResponse(A,_.operationType,Vn);return yield A._updateCurrentUser(wi.user),wi;case"reauthenticate":return Ve(_.user,A,"internal-error"),Qi._forOperation(_.user,_.operationType,Vn);default:Be(A,"internal-error")}});return function(fn){return Pt.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,f.Z)(function*(){return _.signInResolver(p)})()}}function Qs(b,p){var _;const A=(0,d.m9)(b),$=p;return Ve(p.customData.operationType,A,"argument-error"),Ve(null===(_=$.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,A,"argument-error"),fr._fromError(A,$)}function kr(b,p){return Ut(b,"POST","/v2/accounts/mfaEnrollment:start",gt(b,p))}class ta{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(A=>Yr._fromServerResponse(p.auth,A)))})}static _fromUser(p){return new ta(p)}getSession(){var p=this;return(0,f.Z)(function*(){return gi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var A=this;return(0,f.Z)(function*(){const $=p,se=yield A.getSession(),ct=yield pe(A.user,$._process(A.user.auth,se,_));return yield A.user._updateTokensIfNecessary(ct),A.user.reload()})()}unenroll(p){var _=this;return(0,f.Z)(function*(){const A="string"==typeof p?p:p.uid,$=yield _.user.getIdToken();try{const se=yield pe(_.user,function $o(b,p){return Ut(b,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(b,p))}(_.user.auth,{idToken:$,mfaEnrollmentId:A}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ct})=>ct!==A),yield _.user._updateTokensIfNecessary(se),yield _.user.reload()}catch(se){throw se}})()}}const Do=new WeakMap;function Cl(b){const p=(0,d.m9)(b);return Do.has(p)||Do.set(p,ta._fromUser(p)),Do.get(p)}const na="__sak";class Au{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(na,"1"),this.storage.removeItem(na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sc=(()=>{class b extends Au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,A)=>this.onStorageEvent(_,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Iu(){const b=(0,d.z$)();return q(b)||_e(b)}()&&function cn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const A of Object.keys(this.listeners)){const $=this.storage.getItem(A),se=this.localCache[A];$!==se&&_(A,se,$)}}onStorageEvent(_,A=!1){if(!_.key)return void this.forAllChangedKeys((Pt,fn,Dn)=>{this.notifyListeners(Pt,Dn)});const $=_.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Pt=this.storage.getItem($);if(_.newValue!==Pt)null!==_.newValue?this.storage.setItem($,_.newValue):this.storage.removeItem($);else if(this.localCache[$]===_.newValue&&!A)return}const se=()=>{const Pt=this.storage.getItem($);!A&&this.localCache[$]===Pt||this.notifyListeners($,Pt)},ct=this.storage.getItem($);!function Ye(){return(0,d.w1)()&&10===document.documentMode}()||ct===_.newValue||_.newValue===_.oldValue?se():setTimeout(se,10)}notifyListeners(_,A){this.localCache[_]=A;const $=this.listeners[_];if($)for(const se of Array.from($))se(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,A,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:A,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,A){var $=()=>super._set,se=this;return(0,f.Z)(function*(){yield $().call(se,_,A),se.localCache[_]=JSON.stringify(A)})()}_get(_){var A=()=>super._get,$=this;return(0,f.Z)(function*(){const se=yield A().call($,_);return $.localCache[_]=JSON.stringify(se),se})()}_remove(_){var A=()=>super._remove,$=this;return(0,f.Z)(function*(){yield A().call($,_),delete $.localCache[_]})()}}return b.type="LOCAL",b})(),zo=(()=>{class b extends Au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,A){}_removeListener(_,A){}}return b.type="SESSION",b})();let yd=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const A=this.receivers.find(se=>se.isListeningto(_));if(A)return A;const $=new b(_);return this.receivers.push($),$}isListeningto(_){return this.eventTarget===_}handleEvent(_){var A=this;return(0,f.Z)(function*(){const $=_,{eventId:se,eventType:ct,data:Pt}=$.data,fn=A.handlersMap[ct];if(!fn?.size)return;$.ports[0].postMessage({status:"ack",eventId:se,eventType:ct});const Dn=Array.from(fn).map(function(){var wi=(0,f.Z)(function*(Js){return Js($.origin,Pt)});return function(Js){return wi.apply(this,arguments)}}()),Vn=yield function Su(b){return Promise.all(b.map(function(){var p=(0,f.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(A){return{fulfilled:!1,reason:A}}});return function(_){return p.apply(this,arguments)}}()))}(Dn);$.ports[0].postMessage({status:"done",eventId:se,eventType:ct,response:Vn})})()}_subscribe(_,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(A)}_unsubscribe(_,A){this.handlersMap[_]&&A&&this.handlersMap[_].delete(A),(!A||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Wo(b="",p=10){let _="";for(let A=0;A<p;A++)_+=Math.floor(10*Math.random());return b+_}class Oa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,A=50){var $=this;return(0,f.Z)(function*(){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let ct,Pt;return new Promise((fn,Dn)=>{const Vn=Wo("",20);se.port1.start();const wi=setTimeout(()=>{Dn(new Error("unsupported_event"))},A);Pt={messageChannel:se,onMessage(Js){const ll=Js;if(ll.data.eventId===Vn)switch(ll.data.status){case"ack":clearTimeout(wi),ct=setTimeout(()=>{Dn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),fn(ll.data.response);break;default:clearTimeout(wi),clearTimeout(ct),Dn(new Error("invalid_response"))}}},$.handlers.add(Pt),se.port1.addEventListener("message",Pt.onMessage),$.target.postMessage({eventType:p,eventId:Vn,data:_},[se.port2])}).finally(()=>{Pt&&$.removeMessageHandler(Pt)})})()}}function Ar(){return window}function nl(){return typeof Ar().WorkerGlobalScope<"u"&&"function"==typeof Ar().importScripts}function Il(){return(Il=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wi="firebaseLocalStorageDb",Er="firebaseLocalStorage",Tc="fbase_key";class Bs{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Jl(b,p){return b.transaction([Er],p?"readwrite":"readonly").objectStore(Er)}function Pi(){const b=indexedDB.open(Wi,1);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const A=b.result;try{A.createObjectStore(Er,{keyPath:Tc})}catch($){_($)}}),b.addEventListener("success",(0,f.Z)(function*(){const A=b.result;A.objectStoreNames.contains(Er)?p(A):(A.close(),yield function ec(){const b=indexedDB.deleteDatabase(Wi);return new Bs(b).toPromise()}(),p(yield Pi()))}))})}function Pa(b,p,_){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,f.Z)(function*(b,p,_){const A=Jl(b,!0).put({[Tc]:p,value:_});return new Bs(A).toPromise()})).apply(this,arguments)}function Oc(){return(Oc=(0,f.Z)(function*(b,p){const _=Jl(b,!1).get(p),A=yield new Bs(_).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function wh(b,p){const _=Jl(b,!0).delete(p);return new Bs(_).toPromise()}const Dh=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,f.Z)(function*(){return _.db||(_.db=yield Pi()),_.db})()}_withRetries(_){var A=this;return(0,f.Z)(function*(){let $=0;for(;;)try{const se=yield A._openDb();return yield _(se)}catch(se){if($++>3)throw se;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,f.Z)(function*(){return nl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,f.Z)(function*(){_.receiver=yd._getInstance(function il(){return nl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var A=(0,f.Z)(function*($,se){return{keyProcessed:(yield _._poll()).includes(se.key)}});return function($,se){return A.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var A=(0,f.Z)(function*($,se){return["keyChanged"]});return function($,se){return A.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,f.Z)(function*(){var A,$;if(_.activeServiceWorker=yield function Tu(){return Il.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Oa(_.activeServiceWorker);const se=yield _.sender._send("ping",{},800);!se||(null===(A=se[0])||void 0===A?void 0:A.fulfilled)&&(null===($=se[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var A=this;return(0,f.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function xl(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:_},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Pi();return yield Pa(_,na,"1"),yield wh(_,na),!0}catch{}return!1})()}_withPendingWrite(_){var A=this;return(0,f.Z)(function*(){A.pendingWrites++;try{yield _()}finally{A.pendingWrites--}})()}_set(_,A){var $=this;return(0,f.Z)(function*(){return $._withPendingWrite((0,f.Z)(function*(){return yield $._withRetries(se=>Pa(se,_,A)),$.localCache[_]=A,$.notifyServiceWorker(_)}))})()}_get(_){var A=this;return(0,f.Z)(function*(){const $=yield A._withRetries(se=>function Rc(b,p){return Oc.apply(this,arguments)}(se,_));return A.localCache[_]=$,$})()}_remove(_){var A=this;return(0,f.Z)(function*(){return A._withPendingWrite((0,f.Z)(function*(){return yield A._withRetries($=>wh($,_)),delete A.localCache[_],A.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,f.Z)(function*(){const A=yield _._withRetries(ct=>{const Pt=Jl(ct,!1).getAll();return new Bs(Pt).toPromise()});if(!A)return[];if(0!==_.pendingWrites)return[];const $=[],se=new Set;for(const{fbase_key:ct,value:Pt}of A)se.add(ct),JSON.stringify(_.localCache[ct])!==JSON.stringify(Pt)&&(_.notifyListeners(ct,Pt),$.push(ct));for(const ct of Object.keys(_.localCache))_.localCache[ct]&&!se.has(ct)&&(_.notifyListeners(ct,null),$.push(ct));return $})()}notifyListeners(_,A){this.localCache[_]=A;const $=this.listeners[_];if($)for(const se of Array.from($))se(A)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(A)}_removeListener(_,A){this.listeners[_]&&(this.listeners[_].delete(A),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ff(b,p){return Ut(b,"POST","/v2/accounts/mfaSignIn:start",gt(b,p))}const Pc=1e12;class ws{constructor(p){this.auth=p,this.counter=Pc,this._widgets=new Map}render(p,_){const A=this.counter;return this._widgets.set(A,new Vs(p,this.auth.name,_||{})),this.counter++,A}reset(p){var _;const A=p||Pc;null===(_=this._widgets.get(A))||void 0===_||_.delete(),this._widgets.delete(A)}getResponse(p){var _;return(null===(_=this._widgets.get(p||Pc))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,f.Z)(function*(){var A;return null===(A=_._widgets.get(p||Pc))||void 0===A||A.execute(),""})()}}class Vs{constructor(p,_,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof p?document.getElementById(p):p;Ve($,"argument-error",{appName:_}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nc(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<b;A++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const rl=er("rcb"),w=new yi(3e4,6e4);class v{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Ar().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return Ve(function R(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&Mn(Ar().grecaptcha)?Promise.resolve(Ar().grecaptcha):new Promise((A,$)=>{const se=Ar().setTimeout(()=>{$(fe(p,"network-request-failed"))},w.get());Ar()[rl]=()=>{Ar().clearTimeout(se),delete Ar()[rl];const Pt=Ar().grecaptcha;if(!Pt||!Mn(Pt))return void $(fe(p,"internal-error"));const fn=Pt.render;Pt.render=(Dn,Vn)=>{const wi=fn(Dn,Vn);return this.counter++,wi},this.hostLanguage=_,A(Pt)},Yn(`https://www.google.com/recaptcha/api.js??${(0,d.xO)({onload:rl,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(se),$(fe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=Ar().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class N{load(p){return(0,f.Z)(function*(){return new ws(p)})()}clearedOneInstance(){}}const Z="recaptcha",Se={theme:"light",type:"image"};class Le{constructor(p,_=Object.assign({},Se),A){this.parameters=_,this.type=Z,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oi(A),this.isInvisible="invisible"===this.parameters.size,Ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof p?document.getElementById(p):p;Ve($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new N:new v,this.validateStartingState()}verify(){var p=this;return(0,f.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),A=p.getAssertedRecaptcha();return A.getResponse(_)||new Promise(se=>{const ct=Pt=>{!Pt||(p.tokenChangeListeners.delete(ct),se(Pt))};p.tokenChangeListeners.add(ct),p.isInvisible&&A.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ve(!this.parameters.sitekey,this.auth,"argument-error"),Ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(A=>A(_)),"function"==typeof p)p(_);else if("string"==typeof p){const A=Ar()[p];"function"==typeof A&&A(_)}}}assertNotDestroyed(){Ve(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,f.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const A=document.createElement("div");_.appendChild(A),_=A}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,f.Z)(function*(){Ve(on()&&!nl(),p.auth,"internal-error"),yield function Nt(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function ft(b){return lt.apply(this,arguments)}(p.auth);Ve(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return Ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class hn{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=$i._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ei(b,p,_){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(b,p,_){const A=Oi(b),$=yield Ji(A,p,(0,d.m9)(_));return new hn($,se=>L(A,se))})).apply(this,arguments)}function ki(b,p,_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b);yield Kt(!1,A,"phone");const $=yield Ji(A.auth,p,(0,d.m9)(_));return new hn($,se=>oe(A,se))})).apply(this,arguments)}function Us(b,p,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b),$=yield Ji(A.auth,p,(0,d.m9)(_));return new hn($,se=>kn(A,se))})).apply(this,arguments)}function Ji(b,p,_){return ti.apply(this,arguments)}function ti(){return(ti=(0,f.Z)(function*(b,p,_){var A;const $=yield _.verify();try{let se;if(Ve("string"==typeof $,b,"argument-error"),Ve(_.type===Z,b,"argument-error"),se="string"==typeof p?{phoneNumber:p}:p,"session"in se){const ct=se.session;if("phoneNumber"in se)return Ve("enroll"===ct.type,b,"internal-error"),(yield kr(b,{idToken:ct.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{Ve("signin"===ct.type,b,"internal-error");const Pt=(null===(A=se.multiFactorHint)||void 0===A?void 0:A.uid)||se.multiFactorUid;return Ve(Pt,b,"missing-multi-factor-info"),(yield Ff(b,{mfaPendingCredential:ct.credential,mfaEnrollmentId:Pt,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ct}=yield Xo(b,{phoneNumber:se.phoneNumber,recaptchaToken:$});return ct}}finally{_._reset()}})).apply(this,arguments)}function sl(b,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,f.Z)(function*(b,p){yield Gr((0,d.m9)(b),p)})).apply(this,arguments)}let sa=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Oi(_)}verifyPhoneNumber(_,A){return Ji(this.auth,_,(0,d.m9)(A))}static credential(_,A){return $i._fromVerification(_,A)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:A,temporaryProof:$}=_;return A&&$?$i._fromTokenResponse(A,$):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function gn(b,p){return p?Me(p):(Ve(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Tl extends rs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return ss(p,this._buildIdpRequest())}_linkToIdToken(p,_){return ss(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return ss(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function jn(b){return sr(b.auth,new Tl(b),b.bypassAuthState)}function kc(b){const{auth:p,user:_}=b;return Ve(_,p,"internal-error"),Za(_,new Tl(b),b.bypassAuthState)}function ic(b){return rc.apply(this,arguments)}function rc(){return(rc=(0,f.Z)(function*(b){const{auth:p,user:_}=b;return Ve(_,p,"internal-error"),Gr(_,new Tl(b),b.bypassAuthState)})).apply(this,arguments)}class sc{constructor(p,_,A,$,se=!1){this.auth=p,this.resolver=A,this.user=$,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,f.Z)(function*(A,$){p.pendingPromise={resolve:A,reject:$};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(se){p.reject(se)}});return function(A,$){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,f.Z)(function*(){const{urlResponse:A,sessionId:$,postBody:se,tenantId:ct,error:Pt,type:fn}=p;if(Pt)return void _.reject(Pt);const Dn={auth:_.auth,requestUri:A,sessionId:$,tenantId:ct||void 0,postBody:se||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(fn)(Dn))}catch(Vn){_.reject(Vn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return jn;case"linkViaPopup":case"linkViaRedirect":return ic;case"reauthViaPopup":case"reauthViaRedirect":return kc;default:Be(this.auth,"internal-error")}}resolve(p){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const oc=new yi(2e3,1e4);function js(b,p,_){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,f.Z)(function*(b,p,_){const A=Oi(b);Ge(b,p,Si);const $=gn(A,_);return new Rl(A,"signInViaPopup",p,$).executeNotNull()})).apply(this,arguments)}function Ri(b,p,_){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b);Ge(A.auth,p,Si);const $=gn(A.auth,_);return new Rl(A.auth,"reauthViaPopup",p,$,A).executeNotNull()})).apply(this,arguments)}function $r(b,p,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b);Ge(A.auth,p,Si);const $=gn(A.auth,_);return new Rl(A.auth,"linkViaPopup",p,$,A).executeNotNull()})).apply(this,arguments)}let Rl=(()=>{class b extends sc{constructor(_,A,$,se,ct){super(_,A,se,ct),this.provider=$,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,f.Z)(function*(){const A=yield _.execute();return Ve(A,_.auth,"internal-error"),A})()}onExecution(){var _=this;return(0,f.Z)(function*(){Zt(1===_.filter.length,"Popup operations only handle one event");const A=Wo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],A),_.authWindow.associatedEvent=A,_.resolver._originValidation(_.auth).catch($=>{_.reject($)}),_.resolver._isIframeWebStorageSupported(_.auth,$=>{$||_.reject(fe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var A,$;this.pollId=null!==($=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,oc.get())};_()}}return b.currentPopupAction=null,b})();const ka=new Map;class Lf extends sc{constructor(p,_,A=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,A),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,f.Z)(function*(){let A=ka.get(_.auth._key());if(!A){try{const se=(yield function as(b,p){return Fa.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;A=()=>Promise.resolve(se)}catch($){A=()=>Promise.reject($)}ka.set(_.auth._key(),A)}return _.bypassAuthState||ka.set(_.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,A=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(A,p);if("unknown"!==p.type){if(p.eventId){const $=yield A.auth._redirectUserForId(p.eventId);if($)return A.user=$,_().call(A,p);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Fa(){return(Fa=(0,f.Z)(function*(b,p){const _=Pu(p),A=ac(b);if(!(yield A._isAvailable()))return!1;const $="true"===(yield A._get(_));return yield A._remove(_),$})).apply(this,arguments)}function Ol(b,p){return La.apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(b,p){return ac(b)._set(Pu(p),"true")})).apply(this,arguments)}function Na(){ka.clear()}function Ou(b,p){ka.set(b._key(),p)}function ac(b){return Me(b._redirectPersistence)}function Pu(b){return an("pendingRedirect",b.config.apiKey,b.name)}function ol(b,p,_){return function Ed(b,p,_){return Lc.apply(this,arguments)}(b,p,_)}function Lc(){return(Lc=(0,f.Z)(function*(b,p,_){const A=Oi(b);Ge(b,p,Si),yield A._initializationPromise;const $=gn(A,_);return yield Ol($,A),$._openRedirect(A,p,"signInViaRedirect")})).apply(this,arguments)}function Pl(b,p,_){return function Nc(b,p,_){return Bc.apply(this,arguments)}(b,p,_)}function Bc(){return(Bc=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b);Ge(A.auth,p,Si),yield A.auth._initializationPromise;const $=gn(A.auth,_);yield Ol($,A.auth);const se=yield qo(A);return $._openRedirect(A.auth,p,"reauthViaRedirect",se)})).apply(this,arguments)}function Ah(b,p,_){return function lc(b,p,_){return cc.apply(this,arguments)}(b,p,_)}function cc(){return(cc=(0,f.Z)(function*(b,p,_){const A=(0,d.m9)(b);Ge(A.auth,p,Si),yield A.auth._initializationPromise;const $=gn(A.auth,_);yield Kt(!1,A,p.providerId),yield Ol($,A.auth);const se=yield qo(A);return $._openRedirect(A.auth,p,"linkViaRedirect",se)})).apply(this,arguments)}function Ih(b,p){return kl.apply(this,arguments)}function kl(){return(kl=(0,f.Z)(function*(b,p){return yield Oi(b)._initializationPromise,uc(b,p,!1)})).apply(this,arguments)}function uc(b,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,f.Z)(function*(b,p,_=!1){const A=Oi(b),$=gn(A,p),ct=yield new Lf(A,$,_).execute();return ct&&!_&&(delete ct.user._redirectEventId,yield A._persistUserIfCurrent(ct.user),yield A._setRedirectUser(null,p)),ct})).apply(this,arguments)}function qo(b){return dc.apply(this,arguments)}function dc(){return(dc=(0,f.Z)(function*(b){const p=Wo(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Uc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(p,A)&&(_=!0,this.sendToConsumer(p,A),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Nf(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jc(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var A;if(p.error&&!jc(p)){const $=(null===(A=p.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";_.onError(fe(this.auth,$))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const A=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&A}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tg(p))}saveEventToCache(p){this.cachedEventUids.add(Tg(p)),this.lastProcessedEventTime=Date.now()}}function Tg(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function jc({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function xh(b){return ku.apply(this,arguments)}function ku(){return(ku=(0,f.Z)(function*(b,p={}){return Ut(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Ba=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sh=/^https?/;function Ll(){return(Ll=(0,f.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield xh(b);for(const _ of p)try{if(al(_))return}catch{}Be(b,"unauthorized-domain")})).apply(this,arguments)}function al(b){const p=Ht(),{protocol:_,hostname:A}=new URL(p);if(b.startsWith("chrome-extension://")){const ct=new URL(b);return""===ct.hostname&&""===A?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&ct.hostname===A}if(!Sh.test(_))return!1;if(Ba.test(b))return A===b;const $=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(A)}const Th=new yi(3e4,6e4);function Va(){const b=Ar().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let wd=null;function Mh(b){return wd=wd||function Bf(b){return new Promise((p,_)=>{var A,$,se;function ct(){Va(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Va(),_(fe(b,"network-request-failed"))},timeout:Th.get()})}if(null!==($=null===(A=Ar().gapi)||void 0===A?void 0:A.iframes)&&void 0!==$&&$.Iframe)p(gapi.iframes.getContext());else{if(null===(se=Ar().gapi)||void 0===se||!se.load){const Pt=er("iframefcb");return Ar()[Pt]=()=>{gapi.load?ct():_(fe(b,"network-request-failed"))},Yn(`https://apis.google.com/js/api.js?onload=${Pt}`).catch(fn=>_(fn))}ct()}}).catch(p=>{throw wd=null,p})}(b),wd}const Dd=new yi(5e3,15e3),I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function H(b){const p=b.config;Ve(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?di(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,A={apiKey:p.apiKey,appName:b.name,v:k.SDK_VERSION},$=O.get(b.config.apiHost);$&&(A.eid=$);const se=b._getFrameworks();return se.length&&(A.fw=se.join(",")),`${_}?${(0,d.xO)(A).slice(1)}`}function Qe(){return Qe=(0,f.Z)(function*(b){const p=yield Mh(b),_=Ar().gapi;return Ve(_,b,"internal-error"),p.open({where:document.body,url:H(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I,dontclear:!0},A=>new Promise(function(){var $=(0,f.Z)(function*(se,ct){yield A.restyle({setHideOnLeave:!1});const Pt=fe(b,"network-request-failed"),fn=Ar().setTimeout(()=>{ct(Pt)},Dd.get());function Dn(){Ar().clearTimeout(fn),se(A)}A.ping(Dn).then(Dn,()=>{ct(Pt)})});return function(se,ct){return $.apply(this,arguments)}}()))}),Qe.apply(this,arguments)}const at={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ni{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Gc=encodeURIComponent("fac");function Ao(b,p,_,A,$,se){return zr.apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(b,p,_,A,$,se){Ve(b.config.authDomain,b,"auth-domain-config-required"),Ve(b.config.apiKey,b,"invalid-api-key");const ct={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:A,v:k.SDK_VERSION,eventId:$};if(p instanceof Si){p.setDefaultLanguage(b.languageCode),ct.providerId=p.providerId||"",(0,d.xb)(p.getCustomParameters())||(ct.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Vn,wi]of Object.entries(se||{}))ct[Vn]=wi}if(p instanceof qs){const Vn=p.getScopes().filter(wi=>""!==wi);Vn.length>0&&(ct.scopes=Vn.join(","))}b.tenantId&&(ct.tid=b.tenantId);const Pt=ct;for(const Vn of Object.keys(Pt))void 0===Pt[Vn]&&delete Pt[Vn];const fn=yield b._getAppCheckToken(),Dn=fn?`#${Gc}=${encodeURIComponent(fn)}`:"";return`${lr(b)}?${(0,d.xO)(Pt).slice(1)}${Dn}`})).apply(this,arguments)}function lr({config:b}){return b.emulator?di(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}const Ua="webStorageSupport",Cd=class Mg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zo,this._completeRedirectFn=uc,this._overrideRedirectResult=Ou}_openPopup(p,_,A,$){var se=this;return(0,f.Z)(function*(){var ct;Zt(null===(ct=se.eventManagers[p._key()])||void 0===ct?void 0:ct.manager,"_initialize() not called before _openPopup()");const Pt=yield Ao(p,_,A,Ht(),$);return function ci(b,p,_,A=500,$=600){const se=Math.max((window.screen.availHeight-$)/2,0).toString(),ct=Math.max((window.screen.availWidth-A)/2,0).toString();let Pt="";const fn=Object.assign(Object.assign({},at),{width:A.toString(),height:$.toString(),top:se,left:ct}),Dn=(0,d.z$)().toLowerCase();_&&(Pt=K(Dn)?"_blank":_),ie(Dn)&&(p=p||"http://localhost",fn.scrollbars="yes");const Vn=Object.entries(fn).reduce((Js,[ll,Wc])=>`${Js}${ll}=${Wc},`,"");if(function ue(b=(0,d.z$)()){var p;return _e(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Dn)&&"_self"!==Pt)return function oo(b,p){const _=document.createElement("a");_.href=b,_.target=p;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(A)}(p||"",Pt),new ni(null);const wi=window.open(p||"",Pt,Vn);Ve(wi,b,"popup-blocked");try{wi.focus()}catch{}return new ni(wi)}(p,Pt,Wo())})()}_openRedirect(p,_,A,$){var se=this;return(0,f.Z)(function*(){return yield se._originValidation(p),function Al(b){Ar().location.href=b}(yield Ao(p,_,A,Ht(),$)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:$,promise:se}=this.eventManagers[_];return $?Promise.resolve($):(Zt(se,"If manager is not set, promise should be"),se)}const A=this.initAndGetManager(p);return this.eventManagers[_]={promise:A},A.catch(()=>{delete this.eventManagers[_]}),A}initAndGetManager(p){var _=this;return(0,f.Z)(function*(){const A=yield function we(b){return Qe.apply(this,arguments)}(p),$=new Uc(p);return A.register("authEvent",se=>(Ve(se?.authEvent,p,"invalid-auth-event"),{status:$.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:$},_.iframes[p._key()]=A,$})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(Ua,{type:Ua},$=>{var se;const ct=null===(se=$?.[0])||void 0===se?void 0:se[Ua];void 0!==ct&&_(!!ct),Be(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function bd(b){return Ll.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return bt()||q()||_e()}};class Nu extends class Vf{constructor(p){this.factorId=p}_process(p,_,A){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,A);case"signin":return this._finalizeSignIn(p,_.credential);default:return wt("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Nu(p)}_finalizeEnroll(p,_,A){return function Hr(b,p){return Ut(b,"POST","/v2/accounts/mfaEnrollment:finalize",gt(b,p))}(p,{idToken:_,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function br(b,p){return Ut(b,"POST","/v2/accounts/mfaSignIn:finalize",gt(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rg=(()=>{class b{constructor(){}static assertion(_){return Nu._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Uf="@firebase/auth";class jf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,f.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(A=>{p(A?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);!_||(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Id=(0,d.Pz)("authIdTokenMaxAge")||300;let hc=null;const Og=b=>function(){var p=(0,f.Z)(function*(_){const A=_&&(yield _.getIdTokenResult()),$=A&&((new Date).getTime()-Date.parse(A.issuedAtTime))/1e3;if($&&$>Id)return;const se=A?.token;hc!==se&&(hc=se,yield fetch(b,{method:se?"POST":"DELETE",headers:se?{Authorization:`Bearer ${se}`}:{}}))});return function(_){return p.apply(this,arguments)}}();function Bu(b=(0,k.getApp)()){const p=(0,k._getProvider)(b,"auth");if(p.isInitialized())return p.getImmediate();const _=function tr(b,p){const _=(0,k._getProvider)(b,"auth");if(_.isInitialized()){const $=_.getImmediate(),se=_.getOptions();if((0,d.vZ)(se,p??{}))return $;Be($,"already-initialized")}return _.initialize({options:p})}(b,{popupRedirectResolver:Cd,persistence:[Dh,Sc,zo]}),A=(0,d.Pz)("authTokenSyncURL");if(A){const se=Og(A);(function $t(b,p,_){(0,d.m9)(b).beforeAuthStateChanged(p,_)})(_,se,()=>se(_.currentUser)),function Ot(b,p,_,A){(0,d.m9)(b).onIdTokenChanged(p,_,A)}(_,ct=>se(ct))}const $=(0,d.q4)("auth");return $&&Ai(_,`http://${$}`),_}!function zc(b){(0,k._registerComponent)(new W.wA("auth",(p,{options:_})=>{const A=p.getProvider("app").getImmediate(),$=p.getProvider("heartbeat"),se=p.getProvider("app-check-internal"),{apiKey:ct,authDomain:Pt}=A.options;Ve(ct&&!ct.includes(":"),"invalid-api-key",{appName:A.name});const fn={apiKey:ct,authDomain:Pt,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nn(b)},Dn=new Mr(A,$,se,fn);return function ys(b,p){const _=p?.persistence||[],A=(Array.isArray(_)?_:[_]).map(Me);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(A,p?.popupRedirectResolver)}(Dn,_),Dn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,A)=>{p.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new W.wA("auth-internal",p=>{const _=Oi(p.getProvider("auth").getImmediate());return new jf(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Uf,"0.23.2",function L_(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(Uf,"0.23.2","esm2017")}("Browser")},2090:(He,ge,D)=>{D.d(ge,{$s:()=>Me,BH:()=>Pe,G6:()=>di,L:()=>de,LL:()=>We,P0:()=>Et,Pz:()=>fe,Sg:()=>Ge,UG:()=>wt,US:()=>W,ZB:()=>U,ZR:()=>Ut,aH:()=>Be,b$:()=>on,eu:()=>ut,hl:()=>ht,jU:()=>Zt,m9:()=>an,ne:()=>pe,pd:()=>ot,q4:()=>It,r3:()=>$n,ru:()=>Ht,tV:()=>z,uI:()=>Ve,vZ:()=>J,w1:()=>fi,xO:()=>ne,xb:()=>pi,z$:()=>qe,zI:()=>Rt,zd:()=>Ie});const re=function(Ae){const xe=[];let ie=0;for(let q=0;q<Ae.length;q++){let K=Ae.charCodeAt(q);K<128?xe[ie++]=K:K<2048?(xe[ie++]=K>>6|192,xe[ie++]=63&K|128):55296==(64512&K)&&q+1<Ae.length&&56320==(64512&Ae.charCodeAt(q+1))?(K=65536+((1023&K)<<10)+(1023&Ae.charCodeAt(++q)),xe[ie++]=K>>18|240,xe[ie++]=K>>12&63|128,xe[ie++]=K>>6&63|128,xe[ie++]=63&K|128):(xe[ie++]=K>>12|224,xe[ie++]=K>>6&63|128,xe[ie++]=63&K|128)}return xe},W={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ae,xe){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ie=xe?this.byteToCharMapWebSafe_:this.byteToCharMap_,q=[];for(let K=0;K<Ae.length;K+=3){const Je=Ae[K],Lt=K+1<Ae.length,un=Lt?Ae[K+1]:0,Cn=K+2<Ae.length,_e=Cn?Ae[K+2]:0;let Ye=(15&un)<<2|_e>>6,bt=63&_e;Cn||(bt=64,Lt||(Ye=64)),q.push(ie[Je>>2],ie[(3&Je)<<4|un>>4],ie[Ye],ie[bt])}return q.join("")},encodeString(Ae,xe){return this.HAS_NATIVE_SUPPORT&&!xe?btoa(Ae):this.encodeByteArray(re(Ae),xe)},decodeString(Ae,xe){return this.HAS_NATIVE_SUPPORT&&!xe?atob(Ae):function(Ae){const xe=[];let ie=0,q=0;for(;ie<Ae.length;){const K=Ae[ie++];if(K<128)xe[q++]=String.fromCharCode(K);else if(K>191&&K<224){const Je=Ae[ie++];xe[q++]=String.fromCharCode((31&K)<<6|63&Je)}else if(K>239&&K<365){const Cn=((7&K)<<18|(63&Ae[ie++])<<12|(63&Ae[ie++])<<6|63&Ae[ie++])-65536;xe[q++]=String.fromCharCode(55296+(Cn>>10)),xe[q++]=String.fromCharCode(56320+(1023&Cn))}else{const Je=Ae[ie++],Lt=Ae[ie++];xe[q++]=String.fromCharCode((15&K)<<12|(63&Je)<<6|63&Lt)}}return xe.join("")}(this.decodeStringToByteArray(Ae,xe))},decodeStringToByteArray(Ae,xe){this.init_();const ie=xe?this.charToByteMapWebSafe_:this.charToByteMap_,q=[];for(let K=0;K<Ae.length;){const Je=ie[Ae.charAt(K++)],un=K<Ae.length?ie[Ae.charAt(K)]:0;++K;const _e=K<Ae.length?ie[Ae.charAt(K)]:64;++K;const ue=K<Ae.length?ie[Ae.charAt(K)]:64;if(++K,null==Je||null==un||null==_e||null==ue)throw new Ee;q.push(Je<<2|un>>4),64!==_e&&(q.push(un<<4&240|_e>>2),64!==ue&&q.push(_e<<6&192|ue))}return q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(Ae){return function(Ae){const xe=re(Ae);return W.encodeByteArray(xe,!0)}(Ae).replace(/\./g,"")},z=function(Ae){try{return W.decodeString(Ae,!0)}catch(xe){console.error("base64Decode failed: ",xe)}return null};function U(Ae,xe){if(!(xe instanceof Object))return xe;switch(xe.constructor){case Date:return new Date(xe.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return xe}for(const ie in xe)!xe.hasOwnProperty(ie)||!Re(ie)||(Ae[ie]=U(Ae[ie],xe[ie]));return Ae}function Re(Ae){return"__proto__"!==Ae}const Fe=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ae=process.env.__FIREBASE_DEFAULTS__;return Ae?JSON.parse(Ae):void 0})()||(()=>{if(typeof document>"u")return;let Ae;try{Ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const xe=Ae&&z(Ae[1]);return xe&&JSON.parse(xe)})()}catch(Ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ae}`)}},It=Ae=>{var xe,ie;return null===(ie=null===(xe=Fe())||void 0===xe?void 0:xe.emulatorHosts)||void 0===ie?void 0:ie[Ae]},Et=Ae=>{const xe=It(Ae);if(!xe)return;const ie=xe.lastIndexOf(":");if(ie<=0||ie+1===xe.length)throw new Error(`Invalid host ${xe} with no separate hostname and port!`);const q=parseInt(xe.substring(ie+1),10);return"["===xe[0]?[xe.substring(1,ie-1),q]:[xe.substring(0,ie),q]},Be=()=>{var Ae;return null===(Ae=Fe())||void 0===Ae?void 0:Ae.config},fe=Ae=>{var xe;return null===(xe=Fe())||void 0===xe?void 0:xe[`_${Ae}`]};class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((xe,ie)=>{this.resolve=xe,this.reject=ie})}wrapCallback(xe){return(ie,q)=>{ie?this.reject(ie):this.resolve(q),"function"==typeof xe&&(this.promise.catch(()=>{}),1===xe.length?xe(ie):xe(ie,q))}}}function Ge(Ae,xe){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const q=xe||"demo-project",K=Ae.iat||0,Je=Ae.sub||Ae.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Lt=Object.assign({iss:`https://securetoken.google.com/${q}`,aud:q,iat:K,exp:K+3600,auth_time:K,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(Lt)),""].join(".")}function qe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function wt(){var Ae;const xe=null===(Ae=Fe())||void 0===Ae?void 0:Ae.forceEnvironment;if("node"===xe)return!0;if("browser"===xe)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Zt(){return"object"==typeof self&&self.self===self}function Ht(){const Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function on(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fi(){const Ae=qe();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function di(){return!wt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ht(){try{return"object"==typeof indexedDB}catch{return!1}}function ut(){return new Promise((Ae,xe)=>{try{let ie=!0;const q="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(q);K.onsuccess=()=>{K.result.close(),ie||self.indexedDB.deleteDatabase(q),Ae(!0)},K.onupgradeneeded=()=>{ie=!1},K.onerror=()=>{var Je;xe((null===(Je=K.error)||void 0===Je?void 0:Je.message)||"")}}catch(ie){xe(ie)}})}function Rt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ut extends Error{constructor(xe,ie,q){super(ie),this.code=xe,this.customData=q,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(xe,ie,q){this.service=xe,this.serviceName=ie,this.errors=q}create(xe,...ie){const q=ie[0]||{},K=`${this.service}/${xe}`,Je=this.errors[xe],Lt=Je?function Yt(Ae,xe){return Ae.replace(ze,(ie,q)=>{const K=xe[q];return null!=K?String(K):`<${q}?>`})}(Je,q):"Error";return new Ut(K,`${this.serviceName}: ${Lt} (${K}).`,q)}}const ze=/\{\$([^}]+)}/g;function $n(Ae,xe){return Object.prototype.hasOwnProperty.call(Ae,xe)}function pi(Ae){for(const xe in Ae)if(Object.prototype.hasOwnProperty.call(Ae,xe))return!1;return!0}function J(Ae,xe){if(Ae===xe)return!0;const ie=Object.keys(Ae),q=Object.keys(xe);for(const K of ie){if(!q.includes(K))return!1;const Je=Ae[K],Lt=xe[K];if(te(Je)&&te(Lt)){if(!J(Je,Lt))return!1}else if(Je!==Lt)return!1}for(const K of q)if(!ie.includes(K))return!1;return!0}function te(Ae){return null!==Ae&&"object"==typeof Ae}function ne(Ae){const xe=[];for(const[ie,q]of Object.entries(Ae))Array.isArray(q)?q.forEach(K=>{xe.push(encodeURIComponent(ie)+"="+encodeURIComponent(K))}):xe.push(encodeURIComponent(ie)+"="+encodeURIComponent(q));return xe.length?"&"+xe.join("&"):""}function Ie(Ae){const xe={};return Ae.replace(/^\?/,"").split("&").forEach(q=>{if(q){const[K,Je]=q.split("=");xe[decodeURIComponent(K)]=decodeURIComponent(Je)}}),xe}function ot(Ae){const xe=Ae.indexOf("?");if(!xe)return"";const ie=Ae.indexOf("#",xe);return Ae.substring(xe,ie>0?ie:void 0)}function pe(Ae,xe){const ie=new le(Ae,xe);return ie.subscribe.bind(ie)}class le{constructor(xe,ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ie,this.task.then(()=>{xe(this)}).catch(q=>{this.error(q)})}next(xe){this.forEachObserver(ie=>{ie.next(xe)})}error(xe){this.forEachObserver(ie=>{ie.error(xe)}),this.close(xe)}complete(){this.forEachObserver(xe=>{xe.complete()}),this.close()}subscribe(xe,ie,q){let K;if(void 0===xe&&void 0===ie&&void 0===q)throw new Error("Missing Observer.");K=function me(Ae,xe){if("object"!=typeof Ae||null===Ae)return!1;for(const ie of xe)if(ie in Ae&&"function"==typeof Ae[ie])return!0;return!1}(xe,["next","error","complete"])?xe:{next:xe,error:ie,complete:q},void 0===K.next&&(K.next=ae),void 0===K.error&&(K.error=ae),void 0===K.complete&&(K.complete=ae);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Je}unsubscribeOne(xe){void 0===this.observers||void 0===this.observers[xe]||(delete this.observers[xe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(xe){if(!this.finalized)for(let ie=0;ie<this.observers.length;ie++)this.sendOne(ie,xe)}sendOne(xe,ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[xe])try{ie(this.observers[xe])}catch(q){typeof console<"u"&&console.error&&console.error(q)}})}close(xe){this.finalized||(this.finalized=!0,void 0!==xe&&(this.finalError=xe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ae(){}function Me(Ae,xe=1e3,ie=2){const q=xe*Math.pow(ie,Ae),K=Math.round(.5*q*(Math.random()-.5)*2);return Math.min(144e5,q+K)}function an(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},7535:(He,ge,D)=>{var f=D(1481),d=D(4650),k=D(2011),re=D(9751),ee=D(9646),W=D(8996),Ee=D(8372),he=D(4004),de=D(3900),z=D(8405),ce=D(3942),U=D(5861),Re=D(6881),De=D(2090),Te=D(3475);const nt="firebasestorage.googleapis.com",Ze="storageBucket";class Be extends De.ZR{constructor(e,t,i=0){super(Pe(e),`Firebase Storage: ${t} (${Pe(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Be.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pe(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var fe=(()=>{return(n=fe||(fe={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",fe;var n})();function Pe(n){return"storage/"+n}function Ge(){return new Be(fe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function on(){return new Be(fe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Gt(){return new Be(fe.CANCELED,"User canceled the upload/download.")}function di(){return new Be(fe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function gt(n){return new Be(fe.INVALID_ARGUMENT,n)}function Ut(){return new Be(fe.APP_DELETED,"The Firebase app was deleted.")}function We(n){return new Be(fe.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yt(n,e){return new Be(fe.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ze(n){throw new Be(fe.INTERNAL_ERROR,"Internal error: "+n)}class et{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=et.makeFromUrl(e,t)}catch{return new et(e,"")}if(""===i.path)return i;throw function Kn(n){return new Be(fe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function S(An){An.path_=decodeURIComponent(An.path)}const Q=t.replace(/[.]/g,"\\."),vn=[{regex:m,indices:{bucket:1,path:3},postModify:function l(An){"/"===An.path.charAt(An.path.length-1)&&(An.path_=An.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Q}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp(`^https?://${t===nt?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:S}];for(let An=0;An<vn.length;An++){const hi=vn[An],ri=hi.regex.exec(e);if(ri){let fs=ri[hi.indices.path];fs||(fs=""),i=new et(ri[hi.indices.bucket],fs),hi.postModify(i);break}}if(null==i)throw function fi(n){return new Be(fe.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class xt{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function $n(n){return"string"==typeof n||n instanceof String}function Un(n){return pi()&&n instanceof Blob}function pi(){return typeof Blob<"u"&&!(0,De.UG)()}function it(n,e,t,i){if(i<e)throw gt(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw gt(`Invalid value for '${n}'. Expected ${t} or less.`)}function J(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function te(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var ve=(()=>{return(n=ve||(ve={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",ve;var n})();function ne(n,e){const t=n>=500&&n<600,s=-1!==[408,429].indexOf(n),l=-1!==e.indexOf(n);return t||s||l}class Ie{constructor(e,t,i,s,l,u,m,E,S,B,Q,$e=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=m,this.errorCallback_=E,this.timeout_=S,this.progressCallback_=B,this.connectionFactory_=Q,this.retry=$e,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((st,vt)=>{this.resolve_=st,this.reject_=vt,this.start_()})}start_(){const t=(i,s)=>{const l=this.resolve_,u=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const E=this.callback_(m,m.getResponse());!function pn(n){return void 0!==n}(E)?l():l(E)}catch(E){u(E)}else if(null!==m){const E=Ge();E.serverResponse=m.getErrorText(),u(this.errorCallback_?this.errorCallback_(m,E):E)}else u(s.canceled?this.appDelete_?Ut():Gt():on())};this.canceled_?t(0,new ot(!1,null,!0)):this.backoffId_=function Wt(n,e,t){let i=1,s=null,l=null,u=!1,m=0;function E(){return 2===m}let S=!1;function B(...jt){S||(S=!0,e.apply(null,jt))}function Q(jt){s=setTimeout(()=>{s=null,n(st,E())},jt)}function $e(){l&&clearTimeout(l)}function st(jt,...rn){if(S)return void $e();if(jt)return $e(),void B.call(null,jt,...rn);if(E()||u)return $e(),void B.call(null,jt,...rn);let vn;i<64&&(i*=2),1===m?(m=2,vn=0):vn=1e3*(i+Math.random()),Q(vn)}let vt=!1;function Ft(jt){vt||(vt=!0,$e(),!S&&(null!==s?(jt||(m=2),clearTimeout(s),Q(0)):jt||(m=1)))}return Q(0),l=setTimeout(()=>{u=!0,Ft(!0)},t),Ft}((i,s)=>{if(s)return void i(!1,new ot(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const u=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const m=l.getErrorCode()===ve.NO_ERROR,E=l.getStatus();if(!m||ne(E,this.additionalRetryCodes_)&&this.retry){const B=l.getErrorCode()===ve.ABORT;return void i(!1,new ot(!1,null,B))}const S=-1!==this.successCodes_.indexOf(E);i(!0,new ot(S,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function nn(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ot{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function tt(...n){const e=function ae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(pi())return new Blob(n);throw new Be(fe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const sn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pt{constructor(e,t){this.data=e,this.contentType=t||null}}function Ue(n,e){switch(n){case sn.RAW:return new pt(Oe(e));case sn.BASE64:case sn.BASE64URL:return new pt(Xt(n,e));case sn.DATA_URL:return new pt(function mt(n){const e=new Pn(n);return e.base64?Xt(sn.BASE64,e.rest):function Dt(n){let e;try{e=decodeURIComponent(n)}catch{throw Yt(sn.DATA_URL,"Malformed data URL.")}return Oe(e)}(e.rest)}(e),function Ke(n){return new Pn(n).contentType}(e))}throw Ge()}function Oe(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Xt(n,e){switch(n){case sn.BASE64:{const s=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(s||l)throw Yt(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case sn.BASE64URL:{const s=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(s||l)throw Yt(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function rt(n){if(typeof atob>"u")throw function Rt(n){return new Be(fe.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(s){throw s.message.includes("polyfill")?s:Yt(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}class Pn{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Yt(sn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function Me(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class dt{constructor(e,t){let i=0,s="";Un(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Un(this.data_)){const s=function Mt(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new dt(s)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new dt(i,!0)}}static getBlob(...e){if(pi()){const t=e.map(i=>i instanceof dt?i.data_:i);return new dt(tt.apply(null,t))}{const t=e.map(u=>$n(u)?Ue(sn.RAW,u).data:u.data_);let i=0;t.forEach(u=>{i+=u.byteLength});const s=new Uint8Array(i);let l=0;return t.forEach(u=>{for(let m=0;m<u.length;m++)s[l++]=u[m]}),new dt(s,!0)}}uploadData(){return this.data_}}function yt(n){let e;try{e=JSON.parse(n)}catch{return null}return function Tn(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function xe(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function ie(n,e){return e}class q{constructor(e,t,i,s){this.server=e,this.local=t||e,this.writable=!!i,this.xform=s||ie}}let K=null;function Lt(){if(K)return K;const n=[];n.push(new q("bucket")),n.push(new q("generation")),n.push(new q("metageneration")),n.push(new q("name","fullPath",!0));const t=new q("name");t.xform=function e(l,u){return function Je(n){return!$n(n)||n.length<2?n:xe(n)}(u)},n.push(t);const s=new q("size");return s.xform=function i(l,u){return void 0!==u?Number(u):u},n.push(s),n.push(new q("timeCreated")),n.push(new q("updated")),n.push(new q("md5Hash",null,!0)),n.push(new q("cacheControl",null,!0)),n.push(new q("contentDisposition",null,!0)),n.push(new q("contentEncoding",null,!0)),n.push(new q("contentLanguage",null,!0)),n.push(new q("contentType",null,!0)),n.push(new q("metadata","customMetadata",!0)),K=n,K}function _e(n,e,t){const i=yt(e);return null===i?null:function Cn(n,e,t){const i={type:"file"},s=t.length;for(let l=0;l<s;l++){const u=t[l];i[u.local]=u.xform(i,e[u.server])}return function un(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new et(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(i,n),i}(n,i,t)}function ue(n,e){const t={},i=e.length;for(let s=0;s<i;s++){const l=e[s];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const Ye="prefixes";class ft{constructor(e,t,i,s){this.url=e,this.method=t,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lt(n){if(!n)throw Ge()}function zt(n,e){return function t(i,s){const l=_e(n,s,e);return lt(null!==l),l}}function Bn(n){return function e(t,i){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function Zt(){return new Be(fe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function wt(){return new Be(fe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function Ve(n){return new Be(fe.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function Ht(n){return new Be(fe.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,s.status=t.getStatus(),s.serverResponse=i.serverResponse,s}}function oi(n){const e=Bn(n);return function t(i,s){let l=e(i,s);return 404===i.getStatus()&&(l=function qe(n){return new Be(fe.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=s.serverResponse,l}}function Mi(n,e,t){const s=J(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new ft(s,"GET",zt(n,t),u);return m.errorHandler=oi(e),m}function Yn(n,e,t,i,s){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),i&&(l.pageToken=i),s&&(l.maxResults=s);const m=J(e.bucketOnlyServerUrl(),n.host,n._protocol),S=n.maxOperationRetryTime,B=new ft(m,"GET",function Qt(n,e){return function t(i,s){const l=function Nn(n,e,t){const i=yt(t);return null===i?null:function cn(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[Ye])for(const s of t[Ye]){const l=s.replace(/\/$/,""),u=n._makeStorageReference(new et(e,l));i.prefixes.push(u)}if(t.items)for(const s of t.items){const l=n._makeStorageReference(new et(e,s.name));i.items.push(l)}return i}(n,e,i)}(n,e,s);return lt(null!==l),l}}(n,e.bucket),S);return B.urlParams=l,B.errorHandler=Bn(e),B}function Xn(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function ms(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class Tr{constructor(e,t,i,s){this.current=e,this.total=t,this.finalized=!!i,this.metadata=s||null}}function Mr(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{lt(!1)}return lt(!!t&&-1!==(e||["active"]).indexOf(t)),t}const Ai={STATE_CHANGED:"state_changed"},Vi={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gi(n){switch(n){case"running":case"pausing":case"canceling":return Vi.RUNNING;case"paused":return Vi.PAUSED;case"success":return Vi.SUCCESS;case"canceled":return Vi.CANCELED;default:return Vi.ERROR}}class Dr{constructor(e,t,i){if(function xn(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=t??void 0,this.complete=i??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function is(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Rr extends class fo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ve.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ve.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ve.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,s){if(this.sent_)throw ze("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const l in s)s.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,s[l].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ze("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ze("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ze("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ze("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ke(){return new Rr}class Jt{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Lt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(fe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(ne(s.status,[])){if(!l)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();s=on()}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(fe.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,l)=>{this._resolve=s,this._reject=l,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function Oi(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),u=Xn(e,i,s),m={name:u.fullPath},E=J(l,n.host,n._protocol),B={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},Q=ue(u,t),vt=new ft(E,"POST",function st(Ft){let jt;Mr(Ft);try{jt=Ft.getResponseHeader("X-Goog-Upload-URL")}catch{lt(!1)}return lt($n(jt)),jt},n.maxUploadRetryTime);return vt.urlParams=m,vt.headers=B,vt.body=Q,vt.errorHandler=Bn(e),vt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,ke,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const s=function _s(n,e,t,i){const E=new ft(t,"POST",function l(S){const B=Mr(S,["active","final"]);let Q=null;try{Q=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch{lt(!1)}Q||lt(!1);const $e=Number(Q);return lt(!isNaN($e)),new Tr($e,i.size(),"final"===B)},n.maxUploadRetryTime);return E.headers={"X-Goog-Upload-Command":"query"},E.errorHandler=Bn(e),E}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(s,ke,t,i);this._request=l,l.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new Tr(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((s,l)=>{let u;try{u=function ys(n,e,t,i,s,l,u,m){const E=new Tr(0,0);if(u?(E.current=u.current,E.total=u.total):(E.current=0,E.total=i.size()),i.size()!==E.total)throw function ht(){return new Be(fe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const S=E.total-E.current;let B=S;s>0&&(B=Math.min(B,s));const Q=E.current;let st="";st=0===B?"finalize":S===B?"upload, finalize":"upload";const vt={"X-Goog-Upload-Command":st,"X-Goog-Upload-Offset":`${E.current}`},Ft=i.slice(Q,Q+B);if(null===Ft)throw di();const vn=new ft(t,"POST",function jt(An,hi){const ri=Mr(An,["active","final"]),ji=E.current+B,fs=i.size();let ha;return ha="final"===ri?zt(e,l)(An,hi):null,new Tr(ji,fs,"final"===ri,ha)},e.maxUploadRetryTime);return vn.headers=vt,vn.body=Ft.uploadData(),vn.progressCallback=m||null,vn.errorHandler=Bn(n),vn}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(E){return this._error=E,void this._transition("error")}const m=this._ref.storage._makeRequest(u,ke,s,l,!1);this._request=m,m.getPromise().then(E=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(E.current),E.finalized?(this._metadata=E.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=Mi(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(i,ke,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function Ms(n,e,t,i,s){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},E=function m(){let vn="";for(let An=0;An<2;An++)vn+=Math.random().toString().slice(2);return vn}();u["Content-Type"]="multipart/related; boundary="+E;const S=Xn(e,i,s),B=ue(S,t),st=dt.getBlob("--"+E+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+B+"\r\n--"+E+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",i,"\r\n--"+E+"--");if(null===st)throw di();const vt={name:S.fullPath},Ft=J(l,n.host,n._protocol),rn=n.maxUploadRetryTime,Sn=new ft(Ft,"POST",zt(n,t),rn);return Sn.urlParams=vt,Sn.headers=u,Sn.body=st.uploadData(),Sn.errorHandler=Bn(e),Sn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(i,ke,e,t);this._request=s,s.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Gt(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=Gi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,s){const l=new Dr(t||void 0,i||void 0,s||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(Gi(this._state)){case Vi.SUCCESS:is(this._resolve.bind(null,this.snapshot))();break;case Vi.CANCELED:case Vi.ERROR:is(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Gi(this._state)){case Vi.RUNNING:case Vi.PAUSED:e.next&&is(e.next.bind(e,this.snapshot))();break;case Vi.SUCCESS:e.complete&&is(e.complete.bind(e))();break;default:e.error&&is(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Jn{constructor(e,t){this._service=e,this._location=t instanceof et?t:et.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jn(e,t)}get root(){const e=new et(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xe(this._location.path)}get storage(){return this._service}get parent(){const e=function an(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new et(this._location.bucket,e);return new Jn(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw We(e)}}function $s(n,e,t){return zs.apply(this,arguments)}function zs(){return(zs=(0,U.Z)(function*(n,e,t){const s=yield Qo(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield $s(n,e,s.nextPageToken))})).apply(this,arguments)}function Qo(n,e){null!=e&&"number"==typeof e.maxResults&&it("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=Yn(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,ke)}function vl(n){n._throwIfRoot("getDownloadURL");const e=function Sr(n,e,t){const s=J(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,m=new ft(s,"GET",function Mn(n,e){return function t(i,s){const l=_e(n,s,e);return lt(null!==l),function Ce(n,e,t,i){const s=yt(e);if(null===s||!$n(s.downloadTokens))return null;const l=s.downloadTokens;if(0===l.length)return null;const u=encodeURIComponent;return l.split(",").map(S=>{const Q=n.fullPath;return J("/b/"+u(n.bucket)+"/o/"+u(Q),t,i)+te({alt:"media",token:S})})[0]}(l,s,n.host,n._protocol)}}(n,t),u);return m.errorHandler=oi(e),m}(n.storage,n._location,Lt());return n.storage.makeRequestWithTokens(e,ke).then(t=>{if(null===t)throw function ut(){return new Be(fe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Ro(n,e){const t=function Ae(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new et(n._location.bucket,t);return new Jn(n.storage,i)}function vs(n,e){if(n instanceof Oo){const t=n;if(null==t._bucket)throw function yi(){return new Be(fe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ze+"' property when initializing the app?")}();const i=new Jn(t,t._bucket);return null!=e?vs(i,e):i}return void 0!==e?Ro(n,e):n}function Br(n,e){if(e&&function ss(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Oo)return function io(n,e){return new Jn(n,e)}(n,e);throw gt("To use ref(service, url), the first argument must be a Storage instance.")}return vs(n,e)}function Xo(n,e){const t=e?.[Ze];return null==t?null:et.makeFromBucketSpec(t,n)}class Oo{constructor(e,t,i,s,l){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=l,this._bucket=null,this._host=nt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?et.makeFromBucketSpec(s,this._host):Xo(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?et.makeFromBucketSpec(this._url,e):Xo(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){it("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){it("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,U.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,U.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jn(this,e)}_makeRequest(e,t,i,s,l=!0){if(this._deleted)return new xt(Ut());{const u=function me(n,e,t,i,s,l,u=!0){const m=te(n.urlParams),E=n.url+m,S=Object.assign({},n.headers);return function le(n,e){e&&(n["X-Firebase-GMPID"]=e)}(S,e),function Ne(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(S,t),function pe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(S,l),function ye(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(S,i),new Ie(E,n.method,S,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}(e,this._appId,i,s,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var i=this;return(0,U.Z)(function*(){const[s,l]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,s,l).getPromise()})()}}const Ks="@firebase/storage",ko="storage";function qs(n,e){return Br(n=(0,De.m9)(n),e)}function go(n=(0,Re.getApp)(),e){n=(0,De.m9)(n);const i=(0,Re._getProvider)(n,ko).getImmediate({identifier:e}),s=(0,De.P0)("storage");return s&&Ur(i,...s),i}function Ur(n,e,t,i={}){!function Ps(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken="string"==typeof s?s:(0,De.Sg)(s,n.app.options.projectId))}(n,e,t,i)}function os(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Oo(t,i,s,e,Re.SDK_VERSION)}!function dr(){(0,Re._registerComponent)(new Te.wA(ko,os,"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(Ks,"0.11.2",""),(0,Re.registerVersion)(Ks,"0.11.2","esm2017")}();class mo{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ys{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new mo(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new mo(i,this,this._ref))},t)}on(e,t,i,s){let l;return t&&(l="function"==typeof t?u=>t(new mo(u,this,this._ref)):{next:t.next?u=>t.next(new mo(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,i||void 0,s||void 0)}}class hr{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Zi(e,this._service))}get items(){return this._delegate.items.map(e=>new Zi(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Zi{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function pa(n,e){return Ro(n,e)}(this._delegate,e);return new Zi(t,this.storage)}get root(){return new Zi(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Zi(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ys(function $i(n,e,t){return function Ii(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Jt(n,new dt(e),t)}(n=(0,De.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=sn.RAW,i){this._throwIfRoot("putString");const s=Ue(t,e),l=Object.assign({},i);return null==l.contentType&&null!=s.contentType&&(l.contentType=s.contentType),new Ys(new Jt(this._delegate,new dt(s.data,!0),l),this)}listAll(){return function Lo(n){return function Rs(n){const e={prefixes:[],items:[]};return $s(n,e).then(()=>e)}(n=(0,De.m9)(n))}(this._delegate).then(e=>new hr(e,this.storage))}list(e){return function Es(n,e){return Qo(n=(0,De.m9)(n),e)}(this._delegate,e||void 0).then(t=>new hr(t,this.storage))}getMetadata(){return function Vr(n){return function po(n){n._throwIfRoot("getMetadata");const e=Mi(n.storage,n._location,Lt());return n.storage.makeRequestWithTokens(e,ke)}(n=(0,De.m9)(n))}(this._delegate)}updateMetadata(e){return function Fo(n,e){return function Ws(n,e){n._throwIfRoot("updateMetadata");const t=function ir(n,e,t,i){const l=J(e.fullServerUrl(),n.host,n._protocol),m=ue(t,i),S=n.maxOperationRetryTime,B=new ft(l,"PATCH",zt(n,i),S);return B.headers={"Content-Type":"application/json; charset=utf-8"},B.body=m,B.errorHandler=oi(e),B}(n.storage,n._location,e,Lt());return n.storage.makeRequestWithTokens(t,ke)}(n=(0,De.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function El(n){return vl(n=(0,De.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Si(n){return function Os(n){n._throwIfRoot("deleteObject");const e=function gs(n,e){const i=J(e.fullServerUrl(),n.host,n._protocol),m=new ft(i,"DELETE",function u(E,S){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=oi(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ke)}(n=(0,De.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw We(e)}}class Qi{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Zs(e))throw gt("ref() expected a child path but got a URL, use refFromURL instead.");return new Zi(qs(this._delegate,e),this)}refFromURL(e){if(!Zs(e))throw gt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{et.makeFromUrl(e,this._delegate.host)}catch{throw gt("refFromUrl() expected a valid full URL but got an invalid one.")}return new Zi(qs(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){Ur(this._delegate,e,t,i)}}function Zs(n){return/^[A-Za-z]+:\/\//.test(n)}function ma(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new Qi(t,i)}!function qa(n){const e={TaskState:Vi,TaskEvent:Ai,StringFormat:sn,Storage:Qi,Reference:Zi};n.INTERNAL.registerComponent(new Te.wA("storage-compat",ma,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(ce.Z);var jr=D(259);class Or{constructor(e){return e}}class Gr{constructor(){return(0,jr.C6)()}}const Qn=new d.OlP("angularfire2._apps"),Za={provide:Or,useFactory:function Kt(n){return n&&1===n.length?n[0]:new Or((0,jr.Mq)())},deps:[[new d.FiY,Qn]]},_a={provide:Gr,deps:[[new d.FiY,Qn]]};function sr(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Or(i)}}let V=(()=>{class n{constructor(t){(0,jr.KN)("angularfire",z.q4.full,"core"),(0,jr.KN)("angularfire",z.q4.full,"app"),(0,jr.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Za,_a]}),n})();function L(n,...e){return{ngModule:V,providers:[{provide:Qn,useFactory:sr(n),multi:!0,deps:[d.R0b,d.zs3,z.HU,...e]}]}}const kn=(0,z.u3)(jr.ZF,!0);var Xi=D(1877);const Cr=new Map,Yr={activated:!1,tokenObservers:[]},Uo={initialized:!1,enabled:!1};function Ci(n){return Cr.get(n)||Object.assign({},Yr)}function va(){return Uo}class jo{constructor(e,t,i,s,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=s,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=s,s>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,U.Z)(function*(){t.stop();try{t.pending=new De.BH,yield function bl(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new De.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ar=new De.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vo(n){if(!Ci(n).activated)throw ar.create("use-before-activation",{appName:n.name})}function Eo(n,e){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,U.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const Q=yield s.getHeartbeatsHeader();Q&&(i["X-Firebase-Client"]=Q)}const l={method:"POST",body:JSON.stringify(e),headers:i};let u,m;try{u=yield fetch(n,l)}catch(Q){throw ar.create("fetch-network-error",{originalErrorMessage:Q?.message})}if(200!==u.status)throw ar.create("fetch-status-error",{httpStatus:u.status});try{m=yield u.json()}catch(Q){throw ar.create("fetch-parse-error",{originalErrorMessage:Q?.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ar.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const S=1e3*Number(E[1]),B=Date.now();return{token:m.token,expireTimeMillis:B+S,issuedAtTimeMillis:B}})).apply(this,arguments)}function Fi(n,e){const{projectId:t,appId:i,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const Aa="firebase-app-check-store";let xa=null;function ro(){return xa||(xa=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;e(ar.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Aa,{keyPath:"compositeKey"})}}catch(t){e(ar.create("storage-open",{originalErrorMessage:t?.message}))}}),xa)}function wl(){return(wl=(0,U.Z)(function*(n,e){const i=(yield ro()).transaction(Aa,"readwrite"),l=i.objectStore(Aa).put({compositeKey:n,value:e});return new Promise((u,m)=>{l.onsuccess=E=>{u()},i.onerror=E=>{var S;m(ar.create("storage-set",{originalErrorMessage:null===(S=E.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Ns=new Xi.Yd("@firebase/app-check");function Ma(n,e){return(0,De.hl)()?function Ho(n,e){return function tl(n,e){return wl.apply(this,arguments)}(function Dl(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ns.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function P(){return va().enabled}function Y(){return je.apply(this,arguments)}function je(){return(je=(0,U.Z)(function*(){const n=va();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $t={error:"UNKNOWN_ERROR"};function Rn(n){return De.US.encodeString(JSON.stringify(n),!1)}function vi(n){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,U.Z)(function*(n,e=!1){const t=n.app;vo(t);const i=Ci(t);let l,s=i.token;if(s&&!Hr(s)&&(i.token=void 0,s=void 0),!s){const E=yield i.cachedTokenPromise;E&&(Hr(E)?s=E:yield Ma(t,void 0))}if(!e&&s&&Hr(s))return{token:s.token};let m,u=!1;if(P()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Eo(Fi(t,yield Y()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const E=yield i.exchangeTokenPromise;return yield Ma(t,E),i.token=E,{token:E.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),s=yield Ci(t).exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Ns.warn(E.message):Ns.error(E),l=E}return s?l?m=Hr(s)?{token:s.token,internalError:l}:pr(l):(m={token:s.token},i.token=s,yield Ma(t,s)):m=pr(l),u&&kr(t,m),m})).apply(this,arguments)}function li(){return(li=(0,U.Z)(function*(n){const e=n.app;vo(e);const{provider:t}=Ci(e);if(P()){const i=yield Y(),{token:s}=yield Eo(Fi(e,i),n.heartbeatServiceProvider);return{token:s}}{const{token:i}=yield t.getToken();return{token:i}}})).apply(this,arguments)}function gi(n,e){const t=Ci(n),i=t.tokenObservers.filter(s=>s.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function fr(n){const{app:e}=n,t=Ci(e);let i=t.tokenRefresher;i||(i=function Qs(n){const{app:e}=n;return new jo((0,U.Z)(function*(){let i;if(i=Ci(e).token?yield vi(n,!0):yield vi(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Ci(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function kr(n,e){const t=Ci(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Hr(n){return n.expireTimeMillis-Date.now()>0}function pr(n){return{token:Rn($t),error:n}}class wo{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ci(this.app);for(const t of e)gi(this.app,t.next);return Promise.resolve()}}const Bs="app-check-internal";!function Jl(){(0,Re._registerComponent)(new Te.wA("app-check",n=>function $o(n,e){return new wo(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Bs).initialize()})),(0,Re._registerComponent)(new Te.wA(Bs,n=>function ta(n){return{getToken:e=>vi(n,e),getLimitedUseToken:()=>function Ti(n){return li.apply(this,arguments)}(n),addTokenListener:e=>function zi(n,e,t,i){const{app:s}=n,l=Ci(s);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:i,type:e}],l.token&&Hr(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),fr(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>fr(n))}(n,"INTERNAL",e),removeTokenListener:e=>gi(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Re.registerVersion)("@firebase/app-check","0.8.0")}();class Pa{constructor(){return(0,z.vb)("app-check")}}typeof window<"u"&&window;var Vs=D(9260);function rl(n){const e=function nc(n){return new re.y(e=>{const t=u=>e.next(u);t(n.snapshot);const l=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){l()}}).pipe((0,Ee.b)(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,he.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function w(n){return{getDownloadURL:()=>(0,ee.of)(void 0).pipe(z.fc,(0,de.w)(()=>n.getDownloadURL()),z.iC),getMetadata:()=>(0,ee.of)(void 0).pipe(z.fc,(0,de.w)(()=>n.getMetadata()),z.iC),delete:()=>(0,W.D)(n.delete()),child:e=>w(n.child(e)),updateMetadata:e=>(0,W.D)(n.updateMetadata(e)),put:(e,t)=>rl(n.put(e,t)),putString:(e,t,i)=>rl(n.putString(e,t,i)),list:e=>(0,W.D)(n.list(e)),listAll:()=>(0,W.D)(n.listAll())}}const C=new d.OlP("angularfire2.storageBucket"),v=new d.OlP("angularfire2.storage.maxUploadRetryTime"),R=new d.OlP("angularfire2.storage.maxOperationRetryTime"),N=new d.OlP("angularfire2.storage.use-emulator");let Z=(()=>{class n{constructor(t,i,s,l,u,m,E,S,B,Q){const $e=(0,k.on)(t,u,i);this.storage=(0,k.cc)(`${$e.name}.storage.${s}`,"AngularFireStorage",$e.name,()=>{const st=u.runOutsideAngular(()=>$e.storage(s||void 0)),vt=B;return vt&&st.useEmulator(...vt),E&&st.setMaxUploadRetryTime(E),S&&st.setMaxOperationRetryTime(S),st},[E,S])}ref(t){return w(this.storage.ref(t))}refFromURL(t){return w(this.storage.refFromURL(t))}upload(t,i,s){return w(this.storage.ref(t)).put(i,s)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(k.Dh),d.LFG(k.xv,8),d.LFG(C,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(z.HU),d.LFG(v,8),d.LFG(R,8),d.LFG(N,8),d.LFG(Pa,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})(),Nt=(()=>{class n{constructor(){Vs.Z.registerVersion("angularfire",z.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Z],imports:[Le]}),n})();var hn=D(4986),ei=D(8675),In=D(4482),ki=D(5403);function Fr(){return(0,In.e)((n,e)=>{let t,i=!1;n.subscribe((0,ki.x)(e,s=>{const l=t;t=s,i&&e.next([l,s]),i=!0}))})}var gn,Us=D(5026),Xs=D(1884),Ji=D(9300),ti=D(6895),ra=(D(9568),typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}),sa={},Tl=Tl||{},jn=ra||self;function kc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function ic(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var sc="closure_uid_"+(1e9*Math.random()>>>0),oc=0;function js(n,e,t){return n.call.apply(n.bind,arguments)}function Fc(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Ri(n,e,t){return(Ri=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?js:Fc).apply(null,arguments)}function Ml(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function $r(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,s,l){for(var u=Array(arguments.length-2),m=2;m<arguments.length;m++)u[m-2]=arguments[m];return e.prototype[s].apply(i,u)}}function Ko(){this.s=this.s,this.o=this.o}Ko.prototype.s=!1,Ko.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function rc(n){Object.prototype.hasOwnProperty.call(n,sc)&&n[sc]||(n[sc]=++oc)}(this)},Ko.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ch=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function ka(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function Lf(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(kc(i)){const s=n.length||0,l=i.length||0;n.length=s+l;for(let u=0;u<l;u++)n[s+u]=i[u]}else n.push(i)}}function as(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}as.prototype.h=function(){this.defaultPrevented=!0};var Fa=function(){if(!jn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{jn.addEventListener("test",()=>{},e),jn.removeEventListener("test",()=>{},e)}catch{}return n}();function Ol(n){return/^[\s\xa0]*$/.test(n)}function La(){var n=jn.navigator;return n&&(n=n.userAgent)?n:""}function Na(n){return-1!=La().indexOf(n)}function Ou(n){return Ou[" "](n),n}Ou[" "]=function(){};var Ah,n,Pu=Na("Opera"),ol=Na("Trident")||Na("MSIE"),Ed=Na("Edge"),Lc=Ed||ol,Pl=Na("Gecko")&&!(-1!=La().toLowerCase().indexOf("webkit")&&!Na("Edge"))&&!(Na("Trident")||Na("MSIE"))&&!Na("Edge"),Nc=-1!=La().toLowerCase().indexOf("webkit")&&!Na("Edge");function Bc(){var n=jn.document;return n?n.documentMode:void 0}e:{var lc="",cc=(n=La(),Pl?/rv:([^\);]+)(\)|;)/.exec(n):Ed?/Edge\/([\d\.]+)/.exec(n):ol?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Nc?/WebKit\/(\S+)/.exec(n):Pu?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cc&&(lc=cc?cc[1]:""),ol){var Ih=Bc();if(null!=Ih&&Ih>parseFloat(lc)){Ah=String(Ih);break e}}Ah=lc}var Vc=jn.document&&ol&&(Bc()||parseInt(Ah,10))||void 0;function qo(n,e){if(as.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Pl){e:{try{Ou(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:dc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qo.$.h.call(this)}}$r(qo,as);var dc={2:"touch",3:"pen",4:"mouse"};qo.prototype.h=function(){qo.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Fl="closure_listenable_"+(1e6*Math.random()|0),Uc=0;function Tg(n,e,t,i,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=s,this.key=++Uc,this.fa=this.ia=!1}function jc(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Nf(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function ku(n){const e={};for(const t in n)e[t]=n[t];return e}const Ba="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sh(n,e){let t,i;for(let s=1;s<arguments.length;s++){for(t in i=arguments[s],i)n[t]=i[t];for(let l=0;l<Ba.length;l++)t=Ba[l],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function bd(n){this.src=n,this.g={},this.h=0}function Ll(n,e){var t=e.type;if(t in n.g){var l,i=n.g[t],s=Ch(i,e);(l=0<=s)&&Array.prototype.splice.call(i,s,1),l&&(jc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function al(n,e,t,i){for(var s=0;s<n.length;++s){var l=n[s];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==i)return s}return-1}bd.prototype.add=function(n,e,t,i,s){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var u=al(n,e,i,s);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new Tg(e,this.src,l,!!i,s)).ia=t,n.push(e)),e};var Th="closure_lm_"+(1e6*Math.random()|0),Va={};function Bf(n,e,t,i,s){if(i&&i.once)return Dd(n,e,t,i,s);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Bf(n,e[l],t,i,s);return null}return t=Qe(t),n&&n[Fl]?n.O(e,t,ic(i)?!!i.capture:!!i,s):wd(n,e,t,!1,i,s)}function wd(n,e,t,i,s,l){if(!e)throw Error("Invalid event type");var u=ic(s)?!!s.capture:!!s,m=H(n);if(m||(n[Th]=m=new bd(n)),(t=m.add(e,t,i,u,l)).proxy)return t;if(i=function Mh(){const e=O;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Fa||(s=u),void 0===s&&(s=!1),n.addEventListener(e.toString(),i,s);else if(n.attachEvent)n.attachEvent(I(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Dd(n,e,t,i,s){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Dd(n,e[l],t,i,s);return null}return t=Qe(t),n&&n[Fl]?n.P(e,t,ic(i)?!!i.capture:!!i,s):wd(n,e,t,!0,i,s)}function Fu(n,e,t,i,s){if(Array.isArray(e))for(var l=0;l<e.length;l++)Fu(n,e[l],t,i,s);else i=ic(i)?!!i.capture:!!i,t=Qe(t),n&&n[Fl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=al(l=n.g[e],t,i,s))&&(jc(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=H(n))&&(e=n.g[e.toString()],n=-1,e&&(n=al(e,t,i,s)),(t=-1<n?e[n]:null)&&Lu(t))}function Lu(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Fl])Ll(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(I(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=H(e))?(Ll(t,n),0==t.h&&(t.src=null,e[Th]=null)):jc(n)}}}function I(n){return n in Va?Va[n]:Va[n]="on"+n}function O(n,e){if(n.fa)n=!0;else{e=new qo(e,this);var t=n.listener,i=n.la||n.src;n.ia&&Lu(n),n=t.call(i,e)}return n}function H(n){return(n=n[Th])instanceof bd?n:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qe(n){return"function"==typeof n?n:(n[we]||(n[we]=function(e){return n.handleEvent(e)}),n[we])}function at(){Ko.call(this),this.i=new bd(this),this.S=this,this.J=null}function St(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new as(e,n);else if(e instanceof as)e.target=e.target||n;else{var s=e;Sh(e=new as(i,n),s)}if(s=!0,t)for(var l=t.length-1;0<=l;l--){var u=e.g=t[l];s=_n(u,i,!0,e)&&s}if(s=_n(u=e.g=n,i,!0,e)&&s,s=_n(u,i,!1,e)&&s,t)for(l=0;l<t.length;l++)s=_n(u=e.g=t[l],i,!1,e)&&s}function _n(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,l=0;l<e.length;++l){var u=e[l];if(u&&!u.fa&&u.capture==t){var m=u.listener,E=u.la||u.src;u.ia&&Ll(n.i,u),s=!1!==m.call(E,i)&&s}}return s&&!i.defaultPrevented}$r(at,Ko),at.prototype[Fl]=!0,at.prototype.removeEventListener=function(n,e,t,i){Fu(this,n,e,t,i)},at.prototype.N=function(){if(at.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)jc(t[i]);delete n.g[e],n.h--}}this.J=null},at.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},at.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var mn=jn.JSON.stringify;function ni(){var n=lr;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var oo=new class Fn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new ls,n=>n.reset());class ls{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Zr(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Gc(n){jn.setTimeout(()=>{throw n},0)}let Ao,zr=!1,lr=new class ci{constructor(){this.h=this.g=null}add(e,t){const i=oo.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},Ua=()=>{const n=jn.Promise.resolve(void 0);Ao=()=>{n.then(Mg)}};var Mg=()=>{for(var n;n=ni();){try{n.h.call(n.g)}catch(t){Gc(t)}var e=oo;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}zr=!1};function Cd(n,e){at.call(this),this.h=n||1,this.g=e||jn,this.j=Ri(this.qb,this),this.l=Date.now()}function Vf(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Nu(n,e,t){if("function"==typeof n)t&&(n=Ri(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ri(n.handleEvent,n)}return 2147483647<Number(e)?-1:jn.setTimeout(n,e||0)}function Rg(n){n.g=Nu(()=>{n.g=null,n.i&&(n.i=!1,Rg(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}$r(Cd,at),(gn=Cd.prototype).ga=!1,gn.T=null,gn.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),St(this,"tick"),this.ga&&(Vf(this),this.start()))}},gn.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gn.N=function(){Cd.$.N.call(this),Vf(this),delete this.g};class F_ extends Ko{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Rg(this)}N(){super.N(),this.g&&(jn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hc(n){Ko.call(this),this.h=n,this.g={}}$r(Hc,Ko);var Rh=[];function Ad(n,e,t,i){Array.isArray(t)||(t&&(Rh[0]=t.toString()),t=Rh);for(var s=0;s<t.length;s++){var l=Bf(e,t[s],i||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Uf(n){Nf(n.g,function(e,t){this.g.hasOwnProperty(t)&&Lu(e)},n),n.g={}}function $c(){this.g=!0}function zc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Id(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var l=s[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var u=1;u<s.length;u++)s[u]=""}}}return mn(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Hc.prototype.N=function(){Hc.$.N.call(this),Uf(this)},Hc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$c.prototype.Ea=function(){this.g=!1},$c.prototype.info=function(){};var hc={},Og=null;function Bu(){return Og=Og||new at}function b(n){as.call(this,hc.Ta,n)}function p(n){const e=Bu();St(e,new b(e))}function _(n,e){as.call(this,hc.STAT_EVENT,n),this.stat=e}function A(n){const e=Bu();St(e,new _(e,n))}function $(n,e){as.call(this,hc.Ua,n),this.size=e}function se(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return jn.setTimeout(function(){n()},e)}hc.Ta="serverreachability",$r(b,as),hc.STAT_EVENT="statevent",$r(_,as),hc.Ua="timingevent",$r($,as);var ct={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Pt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fn(){}function Vn(){}fn.prototype.h=null;var Wc,wi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Js(){as.call(this,"d")}function ll(){as.call(this,"c")}function Kc(){}function fc(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Hc(this),this.P=Pg,this.V=new Cd(n=Lc?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xd}function xd(){this.i=null,this.g="",this.h=!1}$r(Js,as),$r(ll,as),$r(Kc,fn),Kc.prototype.g=function(){return new XMLHttpRequest},Kc.prototype.i=function(){return{}},Wc=new Kc;var Pg=45e3,Sd={},Vu={};function Td(n,e,t){n.L=1,n.v=Lg(Nl(e)),n.s=t,n.S=!0,cl(n,null)}function cl(n,e){n.G=Date.now(),Ph(n),n.A=Nl(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),j_(t.i,"t",i),n.C=0,t=n.l.J,n.h=new xd,n.g=zD(n.l,t?e:null,!n.s),0<n.O&&(n.M=new F_(Ri(n.Pa,n,n.g),n.O)),Ad(n.U,n.g,"readystatechange",n.nb),e=n.I?ku(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),p(),function jf(n,e,t,i,s,l){n.info(function(){if(n.g)if(l)for(var u="",m=l.split("&"),E=0;E<m.length;E++){var S=m[E].split("=");if(1<S.length){var B=S[0];S=S[1];var Q=B.split("_");u=2<=Q.length&&"type"==Q[1]?u+(B+"=")+S+"&":u+(B+"=redacted&")}}else u=null;else u=l;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Oh(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Gf(n,e,t){let s,i=!0;for(;!n.J&&n.C<t.length;){if(s=Hf(n,t),s==Vu){4==e&&(n.o=4,A(14),i=!1),zc(n.j,n.m,null,"[Incomplete Response]");break}if(s==Sd){n.o=4,A(15),zc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}zc(n.j,n.m,s,null),Fg(n,s)}Oh(n)&&s!=Vu&&s!=Sd&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,A(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),np(e),e.M=!0,A(11))):(zc(n.j,n.m,t,"[Invalid Chunked Response]"),Uu(n),kh(n))}function Hf(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Vu:(t=Number(e.substring(t,i)),isNaN(t)?Sd:(i+=1)+t>e.length?Vu:(e=e.slice(i,i+t),n.C=i+t,e))}function Ph(n){n.Y=Date.now()+n.P,$f(n,n.P)}function $f(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=se(Ri(n.lb,n),e)}function kg(n){n.B&&(jn.clearTimeout(n.B),n.B=null)}function kh(n){0==n.l.H||n.J||n0(n.l,n)}function Uu(n){kg(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,Vf(n.V),Uf(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Fg(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||$_(t.i,n)))if(!n.K&&$_(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;zg(t),Hg(t)}J_(t),A(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=se(Ri(t.ib,t),6e3));if(1>=YE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Od(t,11)}else if((n.K||t.g==n)&&zg(t),!Ol(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let S=s[e];if(t.V=S[0],S=S[1],2==t.H)if("c"==S[0]){t.K=S[1],t.pa=S[2];const B=S[3];null!=B&&(t.ra=B,t.l.info("VER="+t.ra));const Q=S[4];null!=Q&&(t.Ga=Q,t.l.info("SVER="+t.Ga));const $e=S[5];null!=$e&&"number"==typeof $e&&0<$e&&(t.L=i=1.5*$e,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const st=n.g;if(st){const vt=st.g?st.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vt){var l=i.i;l.g||-1==vt.indexOf("spdy")&&-1==vt.indexOf("quic")&&-1==vt.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(z_(l,l.h),l.h=null))}if(i.F){const Ft=st.g?st.g.getResponseHeader("X-HTTP-Session-Id"):null;Ft&&(i.Da=Ft,wr(i.I,i.F,Ft))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((i=t).wa=$D(i,i.J?i.pa:null,i.Y),u.K){ZE(i.i,u);var m=u,E=i.L;E&&m.setTimeout(E),m.B&&(kg(m),Ph(m)),i.g=u}else t0(i);0<t.j.length&&Rd(t)}else"stop"!=S[0]&&"close"!=S[0]||Od(t,7);else 3==t.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?Od(t,7):Q_(t):"noop"!=S[0]&&t.h&&t.h.Aa(S),t.A=0)}p()}catch{}}function zf(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(kc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function HE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(kc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function B_(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(kc(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),s=i.length,l=0;l<s;l++)e.call(void 0,i[l],t&&t[l],n)}(gn=fc.prototype).setTimeout=function(n){this.P=n},gn.nb=function(n){n=n.target;const e=this.M;e&&3==ul(n)?e.l():this.Pa(n)},gn.Pa=function(n){try{if(n==this.g)e:{const B=ul(this.g);var e=this.g.Ia();if(this.g.da(),!(3>B)&&(3!=B||Lc||this.g&&(this.h.h||this.g.ja()||jg(this.g)))){this.J||4!=B||7==e||p(),kg(this);var t=this.g.da();this.ca=t;t:if(Oh(this)){var i=jg(this.g);n="";var s=i.length,l=4==ul(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uu(this),kh(this);var u="";break t}this.h.i=new jn.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:l&&e==s-1});i.splice(0,s),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function L_(n,e,t,i,s,l,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+l+" "+u})}(this.j,this.u,this.A,this.m,this.W,B,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ol(m)){var S=m;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,A(12),Uu(this),kh(this);break e}zc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fg(this,t)}this.S?(Gf(this,B,u),Lc&&this.i&&3==B&&(Ad(this.U,this.V,"tick",this.mb),this.V.start())):(zc(this.j,this.m,u,null),Fg(this,u)),4==B&&Uu(this),this.i&&!this.J&&(4==B?n0(this.l,this):(this.i=!1,Ph(this)))}else(function $I(n){const e={};n=(n.g&&2<=ul(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Ol(n[i]))continue;var t=Zr(n[i]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[s]||[];e[s]=l,l.push(t)}!function xh(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,A(12)):(this.o=0,A(13)),Uu(this),kh(this)}}}catch{}},gn.mb=function(){if(this.g){var n=ul(this.g),e=this.g.ja();this.C<e.length&&(kg(this),Gf(this,n,e),this.i&&4!=n&&Ph(this))}},gn.cancel=function(){this.J=!0,Uu(this)},gn.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function N_(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(p(),A(17)),Uu(this),this.o=2,kh(this)):$f(this,this.Y-n)};var Wf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=n.h,Fh(this,n.j),this.s=n.s,this.g=n.g,ju(this,n.m),this.l=n.l;var e=n.i,t=new Ng;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zE(this,t),this.o=n.o}else n&&(e=String(n).match(Wf))?(this.h=!1,Fh(this,e[1]||"",!0),this.s=Kf(e[2]||""),this.g=Kf(e[3]||"",!0),ju(this,e[4]),this.l=Kf(e[5]||"",!0),zE(this,e[6]||"",!0),this.o=Kf(e[7]||"")):(this.h=!1,this.i=new Ng(null,this.h))}function Nl(n){return new qc(n)}function Fh(n,e,t){n.j=t?Kf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ju(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zE(n,e,t){e instanceof Ng?(n.i=e,function G_(n,e){e&&!n.j&&(Gu(n),n.i=null,n.g.forEach(function(t,i){var s=i.toLowerCase();i!=s&&(Bg(this,i),j_(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Lh(e,LD)),n.i=new Ng(e,n.h))}function wr(n,e,t){n.i.set(e,t)}function Lg(n){return wr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,V_),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function V_(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lh(e,qf,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lh(e,qf,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lh(t,"/"==t.charAt(0)?Md:U_,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lh(t,ND)),n.join("")};var qf=/[#\/\?@]/g,U_=/[#\?:]/g,Md=/[#\?]/g,LD=/[#\?@]/g,ND=/#/g;function Ng(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Gu(n){n.g||(n.g=new Map,n.h=0,n.i&&function $E(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),s=null;if(0<=i){var l=n[t].substring(0,i);s=n[t].substring(i+1)}else l=n[t];e(l,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Bg(n,e){Gu(n),e=Yc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function WE(n,e){return Gu(n),e=Yc(n,e),n.g.has(e)}function j_(n,e,t){Bg(n,e),0<t.length&&(n.i=null,n.g.set(Yc(n,e),ka(t)),n.h+=t.length)}function Yc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function H_(n){this.l=n||qE,n=jn.PerformanceNavigationTiming?0<(n=jn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(jn.g&&jn.g.Ka&&jn.g.Ka()&&jn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gn=Ng.prototype).add=function(n,e){Gu(this),this.i=null,n=Yc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gn.forEach=function(n,e){Gu(this),this.g.forEach(function(t,i){t.forEach(function(s){n.call(e,s,i,this)},this)},this)},gn.ta=function(){Gu(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const s=n[i];for(let l=0;l<s.length;l++)t.push(e[i])}return t},gn.Z=function(n){Gu(this);let e=[];if("string"==typeof n)WE(this,n)&&(e=e.concat(this.g.get(Yc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gn.set=function(n,e){return Gu(this),this.i=null,WE(this,n=Yc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gn.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},gn.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const l=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var s=l;""!==u[i]&&(s+="="+encodeURIComponent(String(u[i]))),n.push(s)}}return this.i=n.join("&")};var qE=10;function Hu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function YE(n){return n.h?1:n.g?n.g.size:0}function $_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function z_(n,e){n.g?n.g.add(e):n.h=e}function ZE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function QE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return ka(n.i)}function Nh(){this.g=new class{stringify(n){return jn.JSON.stringify(n,void 0)}parse(n){return jn.JSON.parse(n,void 0)}}}function BD(n,e,t){const i=t||"";try{zf(n,function(s,l){let u=s;ic(s)&&(u=mn(s)),e.push(i+l+"="+encodeURIComponent(u))})}catch(s){throw e.push(i+"type="+encodeURIComponent("_badmap")),s}}function Vg(n,e,t,i,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(i)}catch{}}function Yf(n){this.l=n.fc||null,this.j=n.ob||!1}function Ug(n,e){at.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=W_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}H_.prototype.cancel=function(){if(this.i=QE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},$r(Yf,fn),Yf.prototype.g=function(){return new Ug(this.l,this.j)},Yf.prototype.i=function(n){return function(){return n}}({}),$r(Ug,at);var W_=0;function K_(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Zf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Qf(n)}function Qf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gn=Ug.prototype).open=function(n,e){if(this.readyState!=W_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Qf(this)},gn.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||jn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gn.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zf(this)),this.readyState=W_},gn.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Qf(this)),this.g&&(this.readyState=3,Qf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof jn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;K_(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},gn.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Zf(this):Qf(this),3==this.readyState&&K_(this)}},gn.Za=function(n){this.g&&(this.response=this.responseText=n,Zf(this))},gn.Ya=function(n){this.g&&(this.response=n,Zf(this))},gn.ka=function(){this.g&&Zf(this)},gn.setRequestHeader=function(n,e){this.v.append(n,e)},gn.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gn.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ug.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var UD=jn.JSON.parse;function Qr(n){at.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xf,this.L=this.M=!1}$r(Qr,at);var Xf="",Qc=/^https?$/i,Jf=["POST","PUT"];function q_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Y_(n),Z_(n)}function Y_(n){n.F||(n.F=!0,St(n,"complete"),St(n,"error"))}function jD(n){if(n.h&&typeof Tl<"u"&&(!n.C[1]||4!=ul(n)||2!=n.da()))if(n.v&&4==ul(n))Nu(n.La,0,n);else if(St(n,"readystatechange"),4==ul(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===u){var s=String(n.I).match(Wf)[1]||null;!s&&jn.self&&jn.self.location&&(s=jn.self.location.protocol.slice(0,-1)),i=!Qc.test(s?s.toLowerCase():"")}t=i}if(t)St(n,"complete"),St(n,"success");else{n.m=6;try{var l=2<ul(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",Y_(n)}}finally{Z_(n)}}}function Z_(n,e){if(n.g){GD(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||St(n,"ready");try{t.onreadystatechange=i}catch{}}}function GD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(jn.clearTimeout(n.A),n.A=null)}function ul(n){return n.g?n.g.readyState:0}function jg(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Xf:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function HD(n){let e="";return Nf(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Gg(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=HD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wr(n,e,t))}function ep(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function JE(n){this.Ga=0,this.j=[],this.l=new $c,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ep("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ep("baseRetryDelayMs",5e3,n),this.hb=ep("retryDelaySeedMs",1e4,n),this.eb=ep("forwardChannelMaxRetries",2,n),this.xa=ep("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new H_(n&&n.concurrentRequestLimit),this.Ja=new Nh,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Q_(n){if(X_(n),3==n.H){var e=n.W++,t=Nl(n.I);if(wr(t,"SID",n.K),wr(t,"RID",e),wr(t,"TYPE","terminate"),tp(n,t),(e=new fc(n,n.l,e)).L=2,e.v=Lg(Nl(t)),t=!1,jn.navigator&&jn.navigator.sendBeacon)try{t=jn.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&jn.Image&&((new Image).src=e.v,t=!0),t||(e.g=zD(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ph(e)}s0(n)}function Hg(n){n.g&&(np(n),n.g.cancel(),n.g=null)}function X_(n){Hg(n),n.u&&(jn.clearTimeout(n.u),n.u=null),zg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&jn.clearTimeout(n.m),n.m=null)}function Rd(n){if(!Hu(n.i)&&!n.m){n.m=!0;var e=n.Na;Ao||Ua(),zr||(Ao(),zr=!0),lr.add(e,n),n.C=0}}function $g(n,e){var t;t=e?e.m:n.W++;const i=Nl(n.I);wr(i,"SID",n.K),wr(i,"RID",t),wr(i,"AID",n.V),tp(n,i),n.o&&n.s&&Gg(i,n.o,n.s),t=new fc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=Xr(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),z_(n.i,t),Td(t,i,e)}function tp(n,e){n.na&&Nf(n.na,function(t,i){wr(e,i,t)}),n.h&&zf({},function(t,i){wr(e,i,t)})}function Xr(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Ri(n.h.Va,n.h,n):null;e:{var s=n.j;let l=-1;for(;;){const u=["count="+t];-1==l?0<t?(l=s[0].g,u.push("ofs="+l)):l=0:u.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let S=s[E].g;const B=s[E].map;if(S-=l,0>S)l=Math.max(0,s[E].g-100),m=!1;else try{BD(B,u,"req"+S+"_")}catch{i&&i(B)}}if(m){i=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function t0(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ao||Ua(),zr||(Ao(),zr=!0),lr.add(e,n),n.A=0}}function J_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=se(Ri(n.Ma,n),r0(n,n.A)),n.A++,0))}function np(n){null!=n.B&&(jn.clearTimeout(n.B),n.B=null)}function ey(n){n.g=new fc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Nl(n.wa);wr(e,"RID","rpc"),wr(e,"SID",n.K),wr(e,"AID",n.V),wr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&wr(e,"TO",n.qa),wr(e,"TYPE","xmlhttp"),tp(n,e),n.o&&n.s&&Gg(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Lg(Nl(e)),t.s=null,t.S=!0,cl(t,n)}function zg(n){null!=n.v&&(jn.clearTimeout(n.v),n.v=null)}function n0(n,e){var t=null;if(n.g==e){zg(n),np(n),n.g=null;var i=2}else{if(!$_(n.i,e))return;t=e.F,ZE(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;St(i=Bu(),new $(i,t)),Rd(n)}else t0(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==i&&function e0(n,e){return!(YE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=se(Ri(n.Na,n,e),r0(n,n.C)),n.C++,0)))}(n,e)||2==i&&J_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Od(n,5);break;case 4:Od(n,10);break;case 3:Od(n,6);break;default:Od(n,2)}}function r0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Od(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Ri(n.pb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),jn.location&&"http"==jn.location.protocol||Fh(t,"https"),Lg(t)),function VD(n,e){const t=new $c;if(jn.Image){const i=new Image;i.onload=Ml(Vg,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Ml(Vg,t,i,"TestLoadImage: error",!1,e),i.onabort=Ml(Vg,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Ml(Vg,t,i,"TestLoadImage: timeout",!1,e),jn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else A(2);n.H=0,n.h&&n.h.za(e),s0(n),X_(n)}function s0(n){if(n.H=0,n.ma=[],n.h){const e=QE(n.i);(0!=e.length||0!=n.j.length)&&(Lf(n.ma,e),Lf(n.ma,n.j),n.i.i.length=0,ka(n.j),n.j.length=0),n.h.ya()}}function $D(n,e,t){var i=t instanceof qc?Nl(t):new qc(t);if(""!=i.g)e&&(i.g=e+"."+i.g),ju(i,i.m);else{var s=jn.location;i=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var l=new qc(null);i&&Fh(l,i),e&&(l.g=e),s&&ju(l,s),t&&(l.l=t),i=l}return e=n.Da,(t=n.F)&&e&&wr(i,t,e),wr(i,"VER",n.ra),tp(n,i),i}function zD(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qr(t&&n.Ha&&!n.va?new Yf({ob:!0}):n.va)).Oa(n.J),e}function Bh(){}function Vh(){if(ol&&!(10<=Number(Vc)))throw Error("Environmental error: no available transport.")}function oa(n,e){at.call(this),this.g=new JE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Ol(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ol(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Uh(this)}function ty(n){Js.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ny(){ll.call(this),this.status=1}function Uh(n){this.g=n}function dl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ip(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)i[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)i[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],u=(e=n.g[0])+(l^(t=n.g[1])&((s=n.g[2])^l))+i[0]+3614090360&4294967295;u=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=(t=(s=(l=(e=t+(u<<7&4294967295|u>>>25))+((u=l+(s^e&(t^s))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^l&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(l^e))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(l^t&(s^l))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=l+(s^e&(t^s))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^l&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(l^e))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(l^t&(s^l))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=l+(s^e&(t^s))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^l&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(l^e))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(l^t&(s^l))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=l+(s^e&(t^s))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=s+(t^l&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^s&(l^e))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(s^l&(t^s))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=l+(t^s&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(l^e))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(l^e&(s^l))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^l&(t^s))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=l+(t^s&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(l^e))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(l^e&(s^l))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^l&(t^s))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=l+(t^s&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(l^e))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(l^e&(s^l))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(s^l&(t^s))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=l+(t^s&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=s+(e^t&(l^e))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(l^e&(s^l))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^s^l)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^t^s)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^l^e)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^l)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^t^s)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^l^e)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^l)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^t^s)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^l^e)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^s^l)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=l+(e^t^s)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=s+(l^e^t)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(s^l^e)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(s^(t|~l))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=l+(t^(e|~s))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(l|~t))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(l^(s|~e))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~l))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=l+(t^(e|~s))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(l|~t))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(l^(s|~e))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(s^(t|~l))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=l+(t^(e|~s))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=s+(e^(l|~t))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(l^(s|~e))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((l=(e=t+((u=e+(s^(t|~l))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=l+(t^(e|~s))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((s=l+((u=s+(e^(l|~t))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+l&4294967295}function ur(n,e){this.h=e;for(var t=[],i=!0,s=n.length-1;0<=s;s--){var l=0|n[s];i&&l==e||(t[s]=l,i=!1)}this.g=t}(gn=Qr.prototype).Oa=function(n){this.M=n},gn.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Wc.g(),this.C=function Dn(n){return n.h||(n.h=n.i())}(this.u?this.u:Wc),this.g.onreadystatechange=Ri(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void q_(this,l)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)t.set(s,i[s]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const l of i.keys())t.set(l,i.get(l))}i=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),s=jn.FormData&&n instanceof jn.FormData,!(0<=Ch(Jf,e))||i||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,u]of t)this.g.setRequestHeader(l,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GD(this),0<this.B&&((this.L=function XE(n){return ol&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ri(this.ua,this)):this.A=Nu(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){q_(this,l)}},gn.ua=function(){typeof Tl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,St(this,"timeout"),this.abort(8))},gn.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,St(this,"complete"),St(this,"abort"),Z_(this))},gn.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Z_(this,!0)),Qr.$.N.call(this)},gn.La=function(){this.s||(this.G||this.v||this.l?jD(this):this.kb())},gn.kb=function(){jD(this)},gn.isActive=function(){return!!this.g},gn.da=function(){try{return 2<ul(this)?this.g.status:-1}catch{return-1}},gn.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},gn.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),UD(e)}},gn.Ia=function(){return this.m},gn.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gn=JE.prototype).ra=8,gn.H=1,gn.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new fc(this,this.l,n);let l=this.s;if(this.U&&(l?(l=ku(l),Sh(l,this.U)):l=this.U),null!==this.o||this.O||(s.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xr(this,s,e),wr(t=Nl(this.I),"RID",n),wr(t,"CVER",22),this.F&&wr(t,"X-HTTP-Session-Id",this.F),tp(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(HD(l)))+"&"+e:this.o&&Gg(t,this.o,l)),z_(this.i,s),this.bb&&wr(t,"TYPE","init"),this.P?(wr(t,"$req",e),wr(t,"SID","null"),s.aa=!0,Td(s,t,null)):Td(s,t,e),this.H=2}}else 3==this.H&&(n?$g(this,n):0==this.j.length||Hu(this.i)||$g(this))},gn.Ma=function(){if(this.u=null,ey(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=se(Ri(this.jb,this),n)}},gn.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,A(10),Hg(this),ey(this))},gn.ib=function(){null!=this.v&&(this.v=null,Hg(this),J_(this),A(19))},gn.pb=function(n){n?(this.l.info("Successfully pinged google.com"),A(2)):(this.l.info("Failed to ping google.com"),A(1))},gn.isActive=function(){return!!this.h&&this.h.isActive(this)},(gn=Bh.prototype).Ba=function(){},gn.Aa=function(){},gn.za=function(){},gn.ya=function(){},gn.isActive=function(){return!0},gn.Va=function(){},Vh.prototype.g=function(n,e){return new oa(n,e)},$r(oa,at),oa.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;A(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=$D(n,null,n.Y),Rd(n)},oa.prototype.close=function(){Q_(this.g)},oa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=mn(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Rd(e)},oa.prototype.N=function(){this.g.h=null,delete this.j,Q_(this.g),delete this.g,oa.$.N.call(this)},$r(ty,Js),$r(ny,ll),$r(Uh,Bh),Uh.prototype.Ba=function(){St(this.g,"a")},Uh.prototype.Aa=function(n){St(this.g,new ty(n))},Uh.prototype.za=function(n){St(this.g,new ny)},Uh.prototype.ya=function(){St(this.g,"b")},$r(dl,function o0(){this.blockSize=-1}),dl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},dl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,s=this.h,l=0;l<e;){if(0==s)for(;l<=t;)ip(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(i[s++]=n.charCodeAt(l++),s==this.blockSize){ip(this,i),s=0;break}}else for(;l<e;)if(i[s++]=n[l++],s==this.blockSize){ip(this,i),s=0;break}}this.h=s,this.i+=e},dl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var WD={};function rp(n){return-128<=n&&128>n?function ac(n,e){var t=WD;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new ur([0|e],0>e?-1:0)}):new ur([0|n],0>n?-1:0)}function Bl(n){if(isNaN(n)||!isFinite(n))return jh;if(0>n)return Ds(Bl(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Xc;return new ur(e,0)}var Xc=4294967296,jh=rp(0),sp=rp(1),op=rp(16777216);function Jc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function aa(n){return-1==n.h}function Ds(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new ur(t,~n.h).add(sp)}function pc(n,e){return n.add(Ds(e))}function ap(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Pd(n,e){this.g=n,this.h=e}function Wg(n,e){if(Jc(e))throw Error("division by zero");if(Jc(n))return new Pd(jh,jh);if(aa(n))return e=Wg(Ds(n),e),new Pd(Ds(e.g),Ds(e.h));if(aa(e))return e=Wg(n,Ds(e)),new Pd(Ds(e.g),e.h);if(30<n.g.length){if(aa(n)||aa(e))throw Error("slowDivide_ only works with positive integers.");for(var t=sp,i=e;0>=i.X(n);)t=a0(t),i=a0(i);var s=kd(t,1),l=kd(i,1);for(i=kd(i,2),t=kd(t,2);!Jc(i);){var u=l.add(i);0>=u.X(n)&&(s=s.add(t),l=u),i=kd(i,1),t=kd(t,1)}return e=pc(n,s.R(e)),new Pd(s,e)}for(s=jh;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),u=(l=Bl(t)).R(e);aa(u)||0<u.X(n);)u=(l=Bl(t-=i)).R(e);Jc(l)&&(l=sp),s=s.add(l),n=pc(n,u)}return new Pd(s,n)}function a0(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new ur(t,n.h)}function kd(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,s=[],l=0;l<i;l++)s[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new ur(s,n.h)}(gn=ur.prototype).ea=function(){if(aa(this))return-Ds(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Xc+i)*e,e*=Xc}return n},gn.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Jc(this))return"0";if(aa(this))return"-"+Ds(this).toString(n);for(var e=Bl(Math.pow(n,6)),t=this,i="";;){var s=Wg(t,e).g,l=((0<(t=pc(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Jc(t=s))return l+i;for(;6>l.length;)l="0"+l;i=l+i}},gn.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},gn.X=function(n){return aa(n=pc(this,n))?-1:Jc(n)?0:1},gn.abs=function(){return aa(this)?Ds(this):this},gn.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,s=0;s<=e;s++){var l=i+(65535&this.D(s))+(65535&n.D(s)),u=(l>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);i=u>>>16,t[s]=(u&=65535)<<16|(l&=65535)}return new ur(t,-2147483648&t[t.length-1]?-1:0)},gn.R=function(n){if(Jc(this)||Jc(n))return jh;if(aa(this))return aa(n)?Ds(this).R(Ds(n)):Ds(Ds(this).R(n));if(aa(n))return Ds(this.R(Ds(n)));if(0>this.X(op)&&0>n.X(op))return Bl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<n.g.length;s++){var l=this.D(i)>>>16,u=65535&this.D(i),m=n.D(s)>>>16,E=65535&n.D(s);t[2*i+2*s]+=u*E,ap(t,2*i+2*s),t[2*i+2*s+1]+=l*E,ap(t,2*i+2*s+1),t[2*i+2*s+1]+=u*m,ap(t,2*i+2*s+1),t[2*i+2*s+2]+=l*m,ap(t,2*i+2*s+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new ur(t,0)},gn.gb=function(n){return Wg(this,n).h},gn.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new ur(t,this.h&n.h)},gn.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new ur(t,this.h|n.h)},gn.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new ur(t,this.h^n.h)},Vh.prototype.createWebChannel=Vh.prototype.g,oa.prototype.send=oa.prototype.u,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,Pt.COMPLETE="complete",Vn.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",at.prototype.listen=at.prototype.O,Qr.prototype.listenOnce=Qr.prototype.P,Qr.prototype.getLastError=Qr.prototype.Sa,Qr.prototype.getLastErrorCode=Qr.prototype.Ia,Qr.prototype.getStatus=Qr.prototype.da,Qr.prototype.getResponseJson=Qr.prototype.Wa,Qr.prototype.getResponseText=Qr.prototype.ja,Qr.prototype.send=Qr.prototype.ha,Qr.prototype.setWithCredentials=Qr.prototype.Oa,dl.prototype.digest=dl.prototype.l,dl.prototype.reset=dl.prototype.reset,dl.prototype.update=dl.prototype.j,ur.prototype.add=ur.prototype.add,ur.prototype.multiply=ur.prototype.R,ur.prototype.modulo=ur.prototype.gb,ur.prototype.compare=ur.prototype.X,ur.prototype.toNumber=ur.prototype.ea,ur.prototype.toString=ur.prototype.toString,ur.prototype.getBits=ur.prototype.D,ur.fromNumber=Bl,ur.fromString=function iy(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ds(iy(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Bl(Math.pow(e,8)),i=jh,s=0;s<n.length;s+=8){var l=Math.min(8,n.length-s),u=parseInt(n.substring(s,s+l),e);8>l?(l=Bl(Math.pow(e,l)),i=i.R(l).add(Bl(u))):i=(i=i.R(t)).add(Bl(u))}return i};var Gh=sa.createWebChannelTransport=function(){return new Vh},KD=sa.getStatEventTarget=function(){return Bu()},ry=sa.ErrorCode=ct,qD=sa.EventType=Pt,YD=sa.Event=hc,Kg=sa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ZD=sa.FetchXmlHttpFactory=Yf,lp=sa.WebChannel=Vn,QD=sa.XhrIo=Qr,l0=sa.Md5=dl,cp=sa.Integer=ur;const c0="@firebase/firestore";class Jr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jr.UNAUTHENTICATED=new Jr(null),Jr.GOOGLE_CREDENTIALS=new Jr("google-credentials-uid"),Jr.FIRST_PARTY=new Jr("first-party-uid"),Jr.MOCK_USER=new Jr("mock-user");let Hh="9.23.0";const ja=new Xi.Yd("@firebase/firestore");function Fd(){return ja.logLevel}function ln(n,...e){if(ja.logLevel<=Xi.in.DEBUG){const t=e.map(sy);ja.debug(`Firestore (${Hh}): ${n}`,...t)}}function es(n,...e){if(ja.logLevel<=Xi.in.ERROR){const t=e.map(sy);ja.error(`Firestore (${Hh}): ${n}`,...t)}}function hl(n,...e){if(ja.logLevel<=Xi.in.WARN){const t=e.map(sy);ja.warn(`Firestore (${Hh}): ${n}`,...t)}}function sy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function On(n="Unexpected state"){const e=`FIRESTORE (${Hh}) INTERNAL ASSERTION FAILED: `+n;throw es(e),new Error(e)}function Gn(n,e){n||On()}function wn(n,e){return n}const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class en extends De.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $h{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jr.UNAUTHENTICATED))}shutdown(){}}class eC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tC{constructor(e){this.t=e,this.currentUser=Jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let s=this.i;const l=S=>this.i!==s?(s=this.i,t(S)):Promise.resolve();let u=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cs,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const S=u;e.enqueueRetryable((0,U.Z)(function*(){yield S.promise,yield l(i.currentUser)}))},E=S=>{ln("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(S=>E(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?E(S):(ln("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cs)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ln("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Gn("string"==typeof i.accessToken),new $h(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gn(null===e||"string"==typeof e),new Jr(e)}}class nC{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=Jr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class iC{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new nC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=l=>{null!=l.error&&ln("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.T;return this.T=l.token,ln("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{ln("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?s(l):ln("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gn("string"==typeof t.token),this.T=t.token,new d0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function eu(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class h0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=eu(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%e.length))}return i}}function _i(n,e){return n<e?-1:n>e?1:0}function dp(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}function sC(n){return n+"\0"}class Ir{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new en(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new en(kt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new en(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new en(kt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ir(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_i(this.nanoseconds,e.nanoseconds):_i(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wn(e)}static min(){return new Wn(new Ir(0,0))}static max(){return new Wn(new Ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zh{constructor(e,t,i){void 0===t?t=0:t>e.length&&On(),void 0===i?i=e.length-t:i>e.length-t&&On(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===zh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=e.get(s),u=t.get(s);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ki extends zh{construct(e,t,i){return new Ki(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new en(kt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Ki(t)}static emptyPath(){return new Ki([])}}const f0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends zh{construct(e,t,i){return new ts(e,t,i)}static isValidIdentifier(e){return f0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ts(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(0===i.length)throw new en(kt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new en(kt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[s+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new en(kt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=E,s+=2}else"`"===m?(u=!u,s++):"."!==m||u?(i+=m,s++):(l(),s++)}if(l(),u)throw new en(kt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(t)}static emptyPath(){return new ts([])}}class En{constructor(e){this.path=e}static fromPath(e){return new En(Ki.fromString(e))}static fromName(e){return new En(Ki.fromString(e).popFirst(5))}static empty(){return new En(Ki.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ki.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ki.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new En(new Ki(e.slice()))}}class qg{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function oy(n){return n.fields.find(e=>2===e.kind)}function ao(n){return n.fields.filter(e=>2!==e.kind)}qg.UNKNOWN_ID=-1;class hp{constructor(e,t){this.fieldPath=e,this.kind=t}}class fp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fp(0,la.min())}}function p0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Wn.fromTimestamp(1e9===i?new Ir(t+1,0):new Ir(t,i));return new la(s,En.empty(),e)}function g0(n){return new la(n.readTime,n.key,-1)}class la{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new la(Wn.min(),En.empty(),-1)}static max(){return new la(Wn.max(),En.empty(),-1)}}function ay(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=En.comparator(n.documentKey,e.documentKey),0!==t?t:_i(n.largestBatchId,e.largestBatchId))}const m0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ii(n){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,U.Z)(function*(n){if(n.code!==kt.FAILED_PRECONDITION||n.message!==m0)throw n;ln("LocalStore","Unexpectedly lost primary lease")}),Yg.apply(this,arguments)}class At{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&On(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new At((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof At?t:At.resolve(t)}catch(t){return At.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):At.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):At.reject(t)}static resolve(e){return new At((t,i)=>{t(e)})}static reject(e){return new At((t,i)=>{i(e)})}static waitFor(e){return new At((t,i)=>{let s=0,l=0,u=!1;e.forEach(m=>{++s,m.next(()=>{++l,u&&l===s&&t()},E=>i(E))}),u=!0,l===s&&t()})}static or(e){let t=At.resolve(!1);for(const i of e)t=t.next(s=>s?At.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new At((i,s)=>{const l=e.length,u=new Array(l);let m=0;for(let E=0;E<l;E++){const S=E;t(e[S]).next(B=>{u[S]=B,++m,m===l&&i(u)},B=>s(B))}})}static doWhile(e,t){return new At((i,s)=>{const l=()=>{!0===e()?t().next(()=>{l()},s):i()};l()})}}class pp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new cs,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new Wh(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const s=E0(i.target.error);this.v.reject(new Wh(e,s))}}static open(e,t,i,s){try{return new pp(t,e.transaction(s,i))}catch(l){throw new Wh(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ln("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new y0(t)}}class Vl{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Vl.S((0,De.z$)())&&es("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ln("SimpleDb","Removing database:",e),Ld(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,De.hl)())return!1;if(Vl.C())return!0;const e=(0,De.z$)(),t=Vl.S(e),i=0<t&&t<10,s=Vl.N(e),l=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,U.Z)(function*(){return t.db||(ln("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,s)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=u=>{i(u.target.result)},l.onblocked=()=>{s(new Wh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=u=>{const m=u.target.error;s("VersionError"===m.name?new en(kt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new en(kt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Wh(e,m))},l.onupgradeneeded=u=>{ln("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,l.transaction,u.oldVersion,t.version).next(()=>{ln("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,s){var l=this;return(0,U.Z)(function*(){const u="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.$(e);const E=pp.open(l.db,e,u?"readonly":"readwrite",i),S=s(E).next(B=>(E.P(),B)).catch(B=>(E.abort(B),At.reject(B))).toPromise();return S.catch(()=>{}),yield E.R,S}catch(E){const S=E,B="FirebaseError"!==S.name&&m<3;if(ln("SimpleDb","Transaction failed with error:",S.message,"Retrying:",B),l.close(),!B)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ld(this.L.delete())}}class Wh extends en{constructor(e,t){super(kt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $u(n){return"IndexedDbTransactionError"===n.name}class y0{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(ln("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(ln("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ld(i)}add(e){return ln("SimpleDb","ADD",this.store.name,e,e),Ld(this.store.add(e))}get(e){return Ld(this.store.get(e)).next(t=>(void 0===t&&(t=null),ln("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ln("SimpleDb","DELETE",this.store.name,e),Ld(this.store.delete(e))}count(){return ln("SimpleDb","COUNT",this.store.name),Ld(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const s=this.cursor(i),l=[];return this.W(s,(u,m)=>{l.push(m)}).next(()=>l)}{const s=this.store.getAll(i.range);return new At((l,u)=>{s.onerror=m=>{u(m.target.error)},s.onsuccess=m=>{l(m.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new At((s,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{s(u.target.result)}})}J(e,t){ln("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const s=this.cursor(i);return this.W(s,(l,u,m)=>m.delete())}X(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.W(s,t)}Z(e){const t=this.cursor({});return new At((i,s)=>{t.onerror=l=>{const u=E0(l.target.error);s(u)},t.onsuccess=l=>{const u=l.target.result;u?e(u.primaryKey,u.value).next(m=>{m?u.continue():i()}):i()}})}W(e,t){const i=[];return new At((s,l)=>{e.onerror=u=>{l(u.target.error)},e.onsuccess=u=>{const m=u.target.result;if(!m)return void s();const E=new lC(m),S=t(m.primaryKey,m.value,E);if(S instanceof At){const B=S.catch(Q=>(E.done(),At.reject(Q)));i.push(B)}E.isDone?s():null===E.K?m.continue():m.continue(E.K)}}).next(()=>At.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ld(n){return new At((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const s=E0(i.target.error);t(s)}})}let v0=!1;function E0(n){const e=Vl.S((0,De.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new en("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return v0||(v0=!0,setTimeout(()=>{throw i},0)),i}}return n}class b0{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ln("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,U.Z)(function*(){t.task=null;try{ln("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){$u(i)?ln("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield ii(i)}yield t.et(6e4)}))}}class w0{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,U.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let s=t,l=!0;return At.doWhile(()=>!0===l&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return ln("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,s).next(m=>{s-=m,i.add(u)});l=!1})).next(()=>t-s)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next(l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(s,l)).next(m=>(ln("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>u.size)}))}rt(e,t){let i=e;return t.changes.forEach((s,l)=>{const u=g0(l);ay(u,i)>0&&(i=u)}),new la(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Gs=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>i.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gp(n){return null==n}function Nd(n){return 0===n&&1/n==-1/0}function Zg(n){return"number"==typeof n&&Number.isInteger(n)&&!Nd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Io(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=cC(e)),e=zI(n.get(t),e);return cC(e)}function zI(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function cC(n){return n+"\x01\x01"}function tu(n){const e=n.length;if(Gn(e>=2),2===e)return Gn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ki.emptyPath();const t=e-2,i=[];let s="";for(let l=0;l<e;){const u=n.indexOf("\x01",l);switch((u<0||u>t)&&On(),n.charAt(u+1)){case"\x01":const m=n.substring(l,u);let E;0===s.length?E=m:(s+=m,E=s,s=""),i.push(E);break;case"\x10":s+=n.substring(l,u),s+="\0";break;case"\x11":s+=n.substring(l,u+1);break;default:On()}l=u+2}return new Ki(i)}const D0=["userId","batchId"];function mp(n,e){return[n,Io(e)]}function uC(n,e,t){return[n,Io(e),t]}const dC={},Kh=["prefixPath","collectionGroup","readTime","documentId"],hC=["prefixPath","collectionGroup","documentId"],C0=["collectionGroup","readTime","prefixPath","documentId"],Qg=["canonicalId","targetId"],fC=["targetId","path"],A0=["path","targetId"],pC=["collectionId","parent"],gC=["indexId","uid"],mC=["uid","sequenceNumber"],_C=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yC=["indexId","uid","orderedDocumentKey"],I0=["userId","collectionPath","documentId"],vC=["userId","collectionPath","largestBatchId"],x0=["userId","collectionGroup","largestBatchId"],ly=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cy=[...ly,"documentOverlays"],EC=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Xg=EC,bC=[...Xg,"indexConfiguration","indexState","indexEntries"];class S0 extends _0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Wr(n,e){const t=wn(n);return Vl.M(t.ht,e)}function uy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _p(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Li{constructor(e,t){this.comparator=e,this.root=t||lo.EMPTY}insert(e,t){return new Li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lo.BLACK,null,null))}remove(e){return new Li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(0===s)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yp(this.root,e,this.comparator,!1)}getReverseIterator(){return new yp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yp(this.root,e,this.comparator,!0)}}class yp{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lo{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??lo.RED,this.left=s??lo.EMPTY,this.right=l??lo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new lo(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):0===l?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return lo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return lo.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw On();const e=this.left.check();if(e!==this.right.check())throw On();return e+(this.isRed()?0:1)}}lo.EMPTY=null,lo.RED=!0,lo.BLACK=!1,lo.EMPTY=new class{constructor(){this.size=0}get key(){throw On()}get value(){throw On()}get color(){throw On()}get left(){throw On()}get right(){throw On()}copy(n,e,t,i,s){return this}insert(n,e,t){return new lo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mr{constructor(e){this.comparator=e,this.data=new Li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new gc(this.data.getIterator())}getIteratorFrom(e){return new gc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(0!==this.comparator(s,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mr(this.comparator);return t.data=e,t}}class gc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(n){return n.hasNext()?n.getNext():void 0}class Yo{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new Yo([])}unionWith(e){let t=new mr(ts.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Yo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dp(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Jg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jg("Invalid base64 string: "+s):s}}(e);return new Cs(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Cs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _i(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cs.EMPTY_BYTE_STRING=new Cs("");const KI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ul(n){if(Gn(!!n),"string"==typeof n){let e=0;const t=KI.exec(n);if(Gn(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function jl(n){return"string"==typeof n?Cs.fromBase64String(n):Cs.fromUint8Array(n)}function qh(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yh(n){const e=n.mapValue.fields.__previous_value__;return qh(e)?Yh(e):e}function em(n){const e=Ul(n.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}class wC{constructor(e,t,i,s,l,u,m,E,S){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=E,this.useFetchStreams=S}}class Wu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wu&&e.projectId===this.projectId&&e.database===this.database}}const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tm={nullValue:"NULL_VALUE"};function iu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qh(n)?4:AC(n)?9007199254740991:10:On()}function ru(n,e){if(n===e)return!0;const t=iu(n);if(t!==iu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return em(n).isEqual(em(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Ul(i.timestampValue),u=Ul(s.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,jl(n.bytesValue).isEqual(jl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return xr(i.geoPointValue.latitude)===xr(s.geoPointValue.latitude)&&xr(i.geoPointValue.longitude)===xr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xr(i.integerValue)===xr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=xr(i.doubleValue),u=xr(s.doubleValue);return l===u?Nd(l)===Nd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return dp(n.arrayValue.values||[],e.arrayValue.values||[],ru);case 10:return function(i,s){const l=i.mapValue.fields||{},u=s.mapValue.fields||{};if(uy(l)!==uy(u))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===u[m]||!ru(l[m],u[m])))return!1;return!0}(n,e);default:return On()}var s}function vp(n,e){return void 0!==(n.values||[]).find(t=>ru(t,e))}function Bd(n,e){if(n===e)return 0;const t=iu(n),i=iu(e);if(t!==i)return _i(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return _i(n.booleanValue,e.booleanValue);case 2:return function(s,l){const u=xr(s.integerValue||s.doubleValue),m=xr(l.integerValue||l.doubleValue);return u<m?-1:u>m?1:u===m?0:isNaN(u)?isNaN(m)?0:-1:1}(n,e);case 3:return dy(n.timestampValue,e.timestampValue);case 4:return dy(em(n),em(e));case 5:return _i(n.stringValue,e.stringValue);case 6:return function(s,l){const u=jl(s),m=jl(l);return u.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const u=s.split("/"),m=l.split("/");for(let E=0;E<u.length&&E<m.length;E++){const S=_i(u[E],m[E]);if(0!==S)return S}return _i(u.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const u=_i(xr(s.latitude),xr(l.latitude));return 0!==u?u:_i(xr(s.longitude),xr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,l){const u=s.values||[],m=l.values||[];for(let E=0;E<u.length&&E<m.length;++E){const S=Bd(u[E],m[E]);if(S)return S}return _i(u.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,l){if(s===Ku.mapValue&&l===Ku.mapValue)return 0;if(s===Ku.mapValue)return 1;if(l===Ku.mapValue)return-1;const u=s.fields||{},m=Object.keys(u),E=l.fields||{},S=Object.keys(E);m.sort(),S.sort();for(let B=0;B<m.length&&B<S.length;++B){const Q=_i(m[B],S[B]);if(0!==Q)return Q;const $e=Bd(u[m[B]],E[S[B]]);if(0!==$e)return $e}return _i(m.length,S.length)}(n.mapValue,e.mapValue);default:throw On()}}function dy(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return _i(n,e);const t=Ul(n),i=Ul(e),s=_i(t.seconds,i.seconds);return 0!==s?s:_i(t.nanos,i.nanos)}function Vd(n){return hy(n)}function hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const s=Ul(i);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?jl(n.bytesValue).toBase64():"referenceValue"in n?En.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let s="[",l=!0;for(const u of i.values||[])l?l=!1:s+=",",s+=hy(u);return s+"]"}(n.arrayValue):"mapValue"in n?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const m of s)u?u=!1:l+=",",l+=`${m}:${hy(i.fields[m])}`;return l+"}"}(n.mapValue):On();var e}function Qh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function T0(n){return!!n&&"integerValue"in n}function nm(n){return!!n&&"arrayValue"in n}function DC(n){return!!n&&"nullValue"in n}function CC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fy(n){return!!n&&"mapValue"in n}function im(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nu(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=im(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=im(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function qI(n){return"nullValue"in n?tm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Qh(Wu.empty(),En.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:On()}function YI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Qh(Wu.empty(),En.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ku:On()}function su(n,e){const t=Bd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function rm(n,e){const t=Bd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class co{constructor(e){this.value=e}static empty(){return new co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!fy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=im(t)}setAll(e){let t=ts.emptyPath(),i={},s=[];e.forEach((u,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,i,s),i={},s=[],t=m.popLast()}u?i[m.lastSegment()]=im(u):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());fy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ru(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];fy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){nu(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new co(im(this.value))}}function py(n){const e=[];return nu(n.fields,(t,i)=>{const s=new ts([t]);if(fy(i)){const l=py(i.mapValue).fields;if(0===l.length)e.push(s);else for(const u of l)e.push(s.child(u))}else e.push(s)}),new Yo(e)}class _r{constructor(e,t,i,s,l,u,m){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=u,this.documentState=m}static newInvalidDocument(e){return new _r(e,0,Wn.min(),Wn.min(),Wn.min(),co.empty(),0)}static newFoundDocument(e,t,i,s){return new _r(e,1,t,Wn.min(),i,s,0)}static newNoDocument(e,t){return new _r(e,2,t,Wn.min(),Wn.min(),co.empty(),0)}static newUnknownDocument(e,t){return new _r(e,3,t,Wn.min(),Wn.min(),co.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Wn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ou{constructor(e,t){this.position=e,this.inclusive=t}}function sm(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],u=n.position[s];if(i=l.field.isKeyField()?En.comparator(En.fromName(u.referenceValue),t.key):Bd(u,t.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function M0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ru(n.position[t],e.position[t]))return!1;return!0}class Ga{constructor(e,t="asc"){this.field=e,this.dir=t}}function R0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class O0{}class Ni extends O0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new P0(e,t,i):"array-contains"===t?new F0(e,i):"in"===t?new lm(e,i):"not-in"===t?new IC(e,i):"array-contains-any"===t?new ZI(e,i):new Ni(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new k0(e,i):new my(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Bd(t,this.value)):null!==t&&iu(this.value)===iu(t)&&this.matchesComparison(Bd(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return On()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class or extends O0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new or(e,t)}matches(e){return Xh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xh(n){return"and"===n.op}function gy(n){return"or"===n.op}function Jh(n){return Ud(n)&&Xh(n)}function Ud(n){for(const e of n.filters)if(e instanceof or)return!1;return!0}function Ep(n){if(n instanceof Ni)return n.field.canonicalString()+n.op.toString()+Vd(n.value);if(Jh(n))return n.filters.map(e=>Ep(e)).join(",");{const e=n.filters.map(t=>Ep(t)).join(",");return`${n.op}(${e})`}}function jd(n,e){return n instanceof Ni?(t=n,(i=e)instanceof Ni&&t.op===i.op&&t.field.isEqual(i.field)&&ru(t.value,i.value)):n instanceof or?function(t,i){return i instanceof or&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((s,l,u)=>s&&jd(l,i.filters[u]),!0)}(n,e):void On();var t,i}function om(n,e){const t=n.filters.concat(e);return or.create(t,n.op)}function bp(n){return n instanceof Ni?`${(e=n).field.canonicalString()} ${e.op} ${Vd(e.value)}`:n instanceof or?function(e){return e.op.toString()+" {"+e.getFilters().map(bp).join(" ,")+"}"}(n):"Filter";var e}class P0 extends Ni{constructor(e,t,i){super(e,t,i),this.key=En.fromName(i.referenceValue)}matches(e){const t=En.comparator(e.key,this.key);return this.matchesComparison(t)}}class k0 extends Ni{constructor(e,t){super(e,"in",t),this.keys=am(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class my extends Ni{constructor(e,t){super(e,"not-in",t),this.keys=am(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function am(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>En.fromName(i.referenceValue))}class F0 extends Ni{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nm(t)&&vp(t.arrayValue,this.value)}}class lm extends Ni{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vp(this.value.arrayValue,t)}}class IC extends Ni{constructor(e,t){super(e,"not-in",t)}matches(e){if(vp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vp(this.value.arrayValue,t)}}class ZI extends Ni{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>vp(this.value.arrayValue,i))}}class xC{constructor(e,t=null,i=[],s=[],l=null,u=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=u,this.endAt=m,this.dt=null}}function cm(n,e=null,t=[],i=[],s=null,l=null,u=null){return new xC(n,e,t,i,s,l,u)}function Gd(n){const e=wn(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Ep(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(s=i).field.canonicalString()+s.dir;var s}).join(","),gp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),e.dt=t}return e.dt}function ef(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!R0(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jd(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M0(n.startAt,e.startAt)&&M0(n.endAt,e.endAt)}function wp(n){return En.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function um(n,e){return n.filters.filter(t=>t instanceof Ni&&t.field.isEqual(e))}function ca(n,e,t){let i=tm,s=!0;for(const l of um(n,e)){let u=tm,m=!0;switch(l.op){case"<":case"<=":u=qI(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,m=!1;break;case"!=":case"not-in":u=tm}su({value:i,inclusive:s},{value:u,inclusive:m})<0&&(i=u,s=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];su({value:i,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(i=u,s=t.inclusive);break}return{value:i,inclusive:s}}function _y(n,e,t){let i=Ku,s=!0;for(const l of um(n,e)){let u=Ku,m=!0;switch(l.op){case">=":case">":u=YI(l.value),m=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,m=!1;break;case"!=":case"not-in":u=Ku}rm({value:i,inclusive:s},{value:u,inclusive:m})>0&&(i=u,s=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const u=t.position[l];rm({value:i,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(i=u,s=t.inclusive);break}return{value:i,inclusive:s}}class au{constructor(e,t=null,i=[],s=[],l=null,u="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=u,this.startAt=m,this.endAt=E,this.wt=null,this._t=null}}function SC(n,e,t,i,s,l,u,m){return new au(n,e,t,i,s,l,u,m)}function tf(n){return new au(n)}function dm(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fm(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function yy(n){return null!==n.collectionGroup}function Hd(n){const e=wn(n);if(null===e.wt){e.wt=[];const t=fm(e),i=hm(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new Ga(t)),e.wt.push(new Ga(ts.keyField(),"asc"));else{let s=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(s=!0);if(!s){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ga(ts.keyField(),l))}}}return e.wt}function xo(n){const e=wn(n);if(!e._t)if("F"===e.limitType)e._t=cm(e.path,e.collectionGroup,Hd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Hd(e))t.push(new Ga(l.field,"desc"===l.dir?"asc":"desc"));const i=e.endAt?new ou(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new ou(e.startAt.position,e.startAt.inclusive):null;e._t=cm(e.path,e.collectionGroup,t,e.filters,e.limit,i,s)}return e._t}function vy(n,e){e.getFirstInequalityField(),fm(n);const t=n.filters.concat([e]);return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Dp(n,e,t){return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Cp(n,e){return ef(xo(n),xo(e))&&n.limitType===e.limitType}function L0(n){return`${Gd(xo(n))}|lt:${n.limitType}`}function pm(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>bp(i)).join(", ")}]`),gp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Vd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Vd(i)).join(",")),`Target(${t})`}(xo(n))}; limitType=${n.limitType})`}function nf(n,e){return e.isFoundDocument()&&function(t,i){const s=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):En.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,i){for(const s of Hd(t))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(t,i){for(const s of t.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(s,l,u){const m=sm(s,l,u);return s.inclusive?m<=0:m<0}(t.startAt,Hd(t),i)||t.endAt&&!function(s,l,u){const m=sm(s,l,u);return s.inclusive?m>=0:m>0}(t.endAt,Hd(t),i)));var t,i}function N0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Gl(n){return(e,t)=>{let i=!1;for(const s of Hd(n)){const l=Ey(s,e,t);if(0!==l)return l;i=i||s.field.isKeyField()}return 0}}function Ey(n,e,t){const i=n.field.isKeyField()?En.comparator(e.key,t.key):function(s,l,u){const m=l.data.field(s),E=u.data.field(s);return null!==m&&null!==E?Bd(m,E):On()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return On()}}class lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[s,l]of i)if(this.equalsFn(s,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(void 0===s)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return 1===i.length?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){nu(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return _p(this.inner)}size(){return this.innerSize}}const TC=new Li(En.comparator);function Ha(){return TC}const by=new Li(En.comparator);function Ap(...n){let e=by;for(const t of n)e=e.insert(t.key,t);return e}function B0(n){let e=by;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function mc(){return Ip()}function gm(){return Ip()}function Ip(){return new lu(n=>n.toString(),(n,e)=>n.isEqual(e))}const MC=new Li(En.comparator),mm=new mr(En.comparator);function bi(...n){let e=mm;for(const t of n)e=e.add(t);return e}const _m=new mr(_i);function V0(){return _m}function ym(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nd(e)?"-0":e}}function RC(n){return{integerValue:""+n}}function wy(n,e){return Zg(e)?RC(e):ym(n,e)}class xp{constructor(){this._=void 0}}function U0(n,e,t){return n instanceof ua?function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qh(s)&&(s=Yh(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof _c?Sp(n,e):n instanceof Hl?G0(n,e):function(i,s){const l=vm(i,s),u=Dy(l)+Dy(i.gt);return T0(l)&&T0(i.gt)?RC(u):ym(i.serializer,u)}(n,e)}function j0(n,e,t){return n instanceof _c?Sp(n,e):n instanceof Hl?G0(n,e):t}function vm(n,e){return n instanceof qu?T0(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class ua extends xp{}class _c extends xp{constructor(e){super(),this.elements=e}}function Sp(n,e){const t=H0(e);for(const i of n.elements)t.some(s=>ru(s,i))||t.push(i);return{arrayValue:{values:t}}}class Hl extends xp{constructor(e){super(),this.elements=e}}function G0(n,e){let t=H0(e);for(const i of n.elements)t=t.filter(s=>!ru(s,i));return{arrayValue:{values:t}}}class qu extends xp{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Dy(n){return xr(n.integerValue||n.doubleValue)}function H0(n){return nm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Tp{constructor(e,t){this.field=e,this.transform=t}}class OC{constructor(e,t){this.version=e,this.transformResults=t}}class Kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Kr}static exists(e){return new Kr(void 0,e)}static updateTime(e){return new Kr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Em(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Cy{}function $0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new sf(n.key,Kr.none()):new rf(n.key,n.data,Kr.none());{const t=n.data,i=co.empty();let s=new mr(ts.comparator);for(let l of e.fields)if(!s.has(l)){let u=t.field(l);null===u&&l.length>1&&(l=l.popLast(),u=t.field(l)),null===u?i.delete(l):i.set(l,u),s=s.add(l)}return new $l(n.key,i,new Yo(s.toArray()),Kr.none())}}function PC(n,e,t){n instanceof rf?function(i,s,l){const u=i.value.clone(),m=K0(i.fieldTransforms,s,l.transformResults);u.setAll(m),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof $l?function(i,s,l){if(!Em(i.precondition,s))return void s.convertToUnknownDocument(l.version);const u=K0(i.fieldTransforms,s,l.transformResults),m=s.data;m.setAll(W0(i)),m.setAll(u),s.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Rp(n,e,t,i){return n instanceof rf?function(s,l,u,m){if(!Em(s.precondition,l))return u;const E=s.value.clone(),S=q0(s.fieldTransforms,m,l);return E.setAll(S),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),null}(n,e,t,i):n instanceof $l?function(s,l,u,m){if(!Em(s.precondition,l))return u;const E=q0(s.fieldTransforms,m,l),S=l.data;return S.setAll(W0(s)),S.setAll(E),l.convertToFoundDocument(l.version,S).setHasLocalMutations(),null===u?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(B=>B.field))}(n,e,t,i):(u=t,Em(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u);var l,u}function z0(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=vm(i.transform,s||null);null!=l&&(null===t&&(t=co.empty()),t.set(i.field,l))}return t||null}function bm(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&dp(t,i,(s,l)=>function Mp(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof _c&&i instanceof _c||t instanceof Hl&&i instanceof Hl?dp(t.elements,i.elements,ru):t instanceof qu&&i instanceof qu?ru(t.gt,i.gt):t instanceof ua&&i instanceof ua);var t,i}(s,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class rf extends Cy{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $l extends Cy{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function W0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function K0(n,e,t){const i=new Map;Gn(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],u=l.transform,m=e.data.field(l.field);i.set(l.field,j0(u,m,t[s]))}return i}function q0(n,e,t){const i=new Map;for(const s of n){const l=s.transform,u=t.data.field(s.field);i.set(s.field,U0(l,u,e))}return i}class sf extends Cy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ay extends Cy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Iy{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&PC(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Rp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Rp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=gm();return this.mutations.forEach(s=>{const l=e.get(s.key),u=l.overlayedDocument;let m=this.applyToLocalView(u,l.mutatedFields);m=t.has(s.key)?null:m;const E=$0(u,m);null!==E&&i.set(s.key,E),u.isValidDocument()||u.convertToNoDocument(Wn.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),bi())}isEqual(e){return this.batchId===e.batchId&&dp(this.mutations,e.mutations,(t,i)=>bm(t,i))&&dp(this.baseMutations,e.baseMutations,(t,i)=>bm(t,i))}}class af{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Gn(e.mutations.length===i.length);let s=MC;const l=e.mutations;for(let u=0;u<l.length;u++)s=s.insert(l[u].key,i[u].version);return new af(e,t,i,s)}}class cu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Op{constructor(e,t){this.count=e,this.unchangedNames=t}}var As,Ui;function wm(n){switch(n){default:return On();case kt.CANCELLED:case kt.UNKNOWN:case kt.DEADLINE_EXCEEDED:case kt.RESOURCE_EXHAUSTED:case kt.INTERNAL:case kt.UNAVAILABLE:case kt.UNAUTHENTICATED:return!1;case kt.INVALID_ARGUMENT:case kt.NOT_FOUND:case kt.ALREADY_EXISTS:case kt.PERMISSION_DENIED:case kt.FAILED_PRECONDITION:case kt.ABORTED:case kt.OUT_OF_RANGE:case kt.UNIMPLEMENTED:case kt.DATA_LOSS:return!0}}function Y0(n){if(void 0===n)return es("GRPC error has no .code"),kt.UNKNOWN;switch(n){case As.OK:return kt.OK;case As.CANCELLED:return kt.CANCELLED;case As.UNKNOWN:return kt.UNKNOWN;case As.DEADLINE_EXCEEDED:return kt.DEADLINE_EXCEEDED;case As.RESOURCE_EXHAUSTED:return kt.RESOURCE_EXHAUSTED;case As.INTERNAL:return kt.INTERNAL;case As.UNAVAILABLE:return kt.UNAVAILABLE;case As.UNAUTHENTICATED:return kt.UNAUTHENTICATED;case As.INVALID_ARGUMENT:return kt.INVALID_ARGUMENT;case As.NOT_FOUND:return kt.NOT_FOUND;case As.ALREADY_EXISTS:return kt.ALREADY_EXISTS;case As.PERMISSION_DENIED:return kt.PERMISSION_DENIED;case As.FAILED_PRECONDITION:return kt.FAILED_PRECONDITION;case As.ABORTED:return kt.ABORTED;case As.OUT_OF_RANGE:return kt.OUT_OF_RANGE;case As.UNIMPLEMENTED:return kt.UNIMPLEMENTED;case As.DATA_LOSS:return kt.DATA_LOSS;default:return On()}}(Ui=As||(As={}))[Ui.OK=0]="OK",Ui[Ui.CANCELLED=1]="CANCELLED",Ui[Ui.UNKNOWN=2]="UNKNOWN",Ui[Ui.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ui[Ui.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ui[Ui.NOT_FOUND=5]="NOT_FOUND",Ui[Ui.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ui[Ui.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ui[Ui.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ui[Ui.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ui[Ui.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ui[Ui.ABORTED=10]="ABORTED",Ui[Ui.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ui[Ui.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ui[Ui.INTERNAL=13]="INTERNAL",Ui[Ui.UNAVAILABLE=14]="UNAVAILABLE",Ui[Ui.DATA_LOSS=15]="DATA_LOSS";class fl{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yu}static getOrCreateInstance(){return null===Yu&&(Yu=new fl),Yu}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Yu=null;function uo(){return new TextEncoder}const $d=new cp([4294967295,4294967295],0);function Pp(n){const e=uo().encode(n),t=new l0;return t.update(e),new Uint8Array(t.digest())}function $a(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cp([t,i],0),new cp([s,l],0)]}class kp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new yc(`Invalid padding: ${t}`);if(i<0)throw new yc(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new yc(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new yc(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=cp.fromNumber(this.It)}Et(e,t,i){let s=e.add(t.multiply(cp.fromNumber(i)));return 1===s.compare($d)&&(s=new cp([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Pp(e),[i,s]=$a(t);for(let l=0;l<this.hashCount;l++){const u=this.Et(i,s,l);if(!this.At(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new kp(l,s,t);return i.forEach(m=>u.insert(m)),u}insert(e){if(0===this.It)return;const t=Pp(e),[i,s]=$a(t);for(let l=0;l<this.hashCount;l++){const u=this.Et(i,s,l);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vc{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new vc(Wn.min(),s,new Li(_i),Ha(),bi())}}class Ec{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ec(i,t,bi(),bi(),bi())}}class uu{constructor(e,t,i,s){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=s}}class zd{constructor(e,t){this.targetId=e,this.Vt=t}}class Wd{constructor(e,t,i=Cs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Kd{constructor(){this.St=0,this.Dt=xy(),this.Ct=Cs.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=bi(),t=bi(),i=bi();return this.Dt.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:On()}}),new Ec(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=xy()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lf{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ha(),this.zt=qd(),this.Wt=new Li(_i)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:On()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,s)=>{this.te(s)&&t(s)})}ne(e){var t;const i=e.targetId,s=e.Vt.count,l=this.se(i);if(l){const u=l.target;if(wp(u))if(0===s){const m=new En(u.path);this.Yt(i,m,_r.newNoDocument(m,Wn.min()))}else Gn(1===s);else{const m=this.ie(i);if(m!==s){const E=this.re(e,m);0!==E&&(this.ee(i),this.Wt=this.Wt.insert(i,2===E?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=fl.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(S,B,Q){var $e,st,vt,Ft,jt,rn;const Sn={localCacheCount:B,existenceFilterCount:Q.count},vn=Q.unchangedNames;return vn&&(Sn.bloomFilter={applied:0===S,hashCount:null!==($e=vn?.hashCount)&&void 0!==$e?$e:0,bitmapLength:null!==(Ft=null===(vt=null===(st=vn?.bits)||void 0===st?void 0:st.bitmap)||void 0===vt?void 0:vt.length)&&void 0!==Ft?Ft:0,padding:null!==(rn=null===(jt=vn?.bits)||void 0===jt?void 0:jt.padding)&&void 0!==rn?rn:0}),Sn}(E,m,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:s}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:l="",padding:u=0},hashCount:m=0}=i;let E,S;try{E=jl(l).toUint8Array()}catch(B){if(B instanceof Jg)return hl("Decoding the base64 bloom filter in existence filter failed ("+B.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw B}try{S=new kp(E,u,m)}catch(B){return hl(B instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",B),1}return 0===S.It?1:s!==t-this.oe(e.targetId,S)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let s=0;return i.forEach(l=>{const u=this.Gt.ue(),m=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.vt(m)||(this.Yt(e,l,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((l,u)=>{const m=this.se(u);if(m){if(l.current&&wp(m.target)){const E=new En(m.target.path);null!==this.jt.get(E)||this.ae(u,E)||this.Yt(u,E,_r.newNoDocument(E,e))}l.Mt&&(t.set(u,l.Ot()),l.Ft())}});let i=bi();this.zt.forEach((l,u)=>{let m=!0;u.forEachWhile(E=>{const S=this.se(E);return!S||"TargetPurposeLimboResolution"===S.purpose||(m=!1,!1)}),m&&(i=i.add(l))}),this.jt.forEach((l,u)=>u.setReadTime(e));const s=new vc(e,t,this.Wt,this.jt,i);return this.jt=Ha(),this.zt=qd(),this.Wt=new Li(_i),s}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Kd,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new mr(_i),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ln("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Kd),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function qd(){return new Li(En.comparator)}function xy(){return new Li(En.comparator)}const Z0={asc:"ASCENDING",desc:"DESCENDING"},Q0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X0={and:"AND",or:"OR"};class J0{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dm(n,e){return n.useProto3Json||gp(e)?e:{value:e}}function Yd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sy(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eb(n,e){return Yd(n,e.toTimestamp())}function us(n){return Gn(!!n),Wn.fromTimestamp(function(e){const t=Ul(e);return new Ir(t.seconds,t.nanos)}(n))}function Ty(n,e){return(t=n,new Ki(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function My(n){const e=Ki.fromString(n);return Gn(Py(e)),e}function Fp(n,e){return Ty(n.databaseId,e.path)}function zl(n,e){const t=My(e);if(t.get(1)!==n.databaseId.projectId)throw new en(kt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new en(kt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new En(Bp(t))}function Lp(n,e){return Ty(n.databaseId,e)}function Cm(n){const e=My(n);return 4===e.length?Ki.emptyPath():Bp(e)}function Np(n){return new Ki(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Bp(n){return Gn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Vp(n,e,t){return{name:Fp(n,e),fields:t.value.mapValue.fields}}function Am(n,e,t){const i=zl(n,e.name),s=us(e.updateTime),l=e.createTime?us(e.createTime):Wn.min(),u=new co({mapValue:{fields:e.fields}}),m=_r.newFoundDocument(i,s,l,u);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Zu(n,e){let t;if(e instanceof rf)t={update:Vp(n,e.key,e.value)};else if(e instanceof sf)t={delete:Fp(n,e.key)};else if(e instanceof $l)t={update:Vp(n,e.key,e.data),updateMask:sb(e.fieldMask)};else{if(!(e instanceof Ay))return On();t={verify:Fp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,l){const u=l.transform;if(u instanceof ua)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof _c)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Hl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof qu)return{fieldPath:l.field.canonicalString(),increment:u.gt};throw On()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:eb(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:On()),t;var s}function xm(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Kr.updateTime(us(s.updateTime)):void 0!==s.exists?Kr.exists(s.exists):Kr.none():Kr.none(),i=e.updateTransforms?e.updateTransforms.map(s=>function(l,u){let m=null;"setToServerValue"in u?(Gn("REQUEST_TIME"===u.setToServerValue),m=new ua):"appendMissingElements"in u?m=new _c(u.appendMissingElements.values||[]):"removeAllFromArray"in u?m=new Hl(u.removeAllFromArray.values||[]):"increment"in u?m=new qu(l,u.increment):On();const E=ts.fromServerFormat(u.fieldPath);return new Tp(E,m)}(n,s)):[];var s;if(e.update){const s=zl(n,e.update.name),l=new co({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Yo((e.updateMask.fieldPaths||[]).map(S=>ts.fromServerFormat(S)));return new $l(s,l,u,t,i)}return new rf(s,l,t,i)}if(e.delete){const s=zl(n,e.delete);return new sf(s,t)}if(e.verify){const s=zl(n,e.verify);return new Ay(s,t)}return On()}function Sm(n,e){return{documents:[Lp(n,e.path)]}}function Tm(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Lp(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Lp(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(E){if(0!==E.length)return rb(or.create(E,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const l=function(E){if(0!==E.length)return E.map(S=>{return{field:du((B=S).field),direction:FC(B.dir)};var B})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Dm(n,e.limit);var m,E;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function Ry(n){let e=Cm(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Gn(1===i);const B=t.from[0];B.allDescendants?s=B.collectionId:e=e.child(B.collectionId)}let l=[];t.where&&(l=function(B){const Q=Mm(B);return Q instanceof or&&Jh(Q)?Q.getFilters():[Q]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(B=>{return new Ga(Zd((Q=B).field),function($e){switch($e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction));var Q}));let m=null;t.limit&&(m=function(B){let Q;return Q="object"==typeof B?B.value:B,gp(Q)?null:Q}(t.limit));let E=null;var B;t.startAt&&(E=new ou((B=t.startAt).values||[],!!B.before));let S=null;return t.endAt&&(S=function(B){return new ou(B.values||[],!B.before)}(t.endAt)),SC(e,s,u,l,m,"F",E,S)}function Mm(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Zd(e.unaryFilter.field);return Ni.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Zd(e.unaryFilter.field);return Ni.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zd(e.unaryFilter.field);return Ni.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zd(e.unaryFilter.field);return Ni.create(l,"!=",{nullValue:"NULL_VALUE"});default:return On()}}(n):void 0!==n.fieldFilter?Ni.create(Zd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return On()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return or.create(e.compositeFilter.filters.map(t=>Mm(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return On()}}(e.compositeFilter.op))}(n):On();var e}function FC(n){return Z0[n]}function nb(n){return Q0[n]}function ib(n){return X0[n]}function du(n){return{fieldPath:n.canonicalString()}}function Zd(n){return ts.fromServerFormat(n.fieldPath)}function rb(n){return n instanceof Ni?function(e){if("=="===e.op){if(CC(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NAN"}};if(DC(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(CC(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NAN"}};if(DC(e.value))return{unaryFilter:{field:du(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(e.field),op:nb(e.op),value:e.value}}}(n):n instanceof or?function(e){const t=e.getFilters().map(i=>rb(i));return 1===t.length?t[0]:{compositeFilter:{op:ib(e.op),filters:t}}}(n):On()}function sb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Py(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class bc{constructor(e,t,i,s,l=Wn.min(),u=Wn.min(),m=Cs.EMPTY_BYTE_STRING,E=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=E}withSequenceNumber(e){return new bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Rm{constructor(e){this.fe=e}}function ky(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Up(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Fp(s=n.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:Yd(s,l.version.toTimestamp()),createTime:Yd(s,l.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return On();i.unknownDocument={path:t.path.toArray(),version:Qu(e.version)}}var s,l;return i}function Up(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xu(n){const e=new Ir(n.seconds,n.nanoseconds);return Wn.fromTimestamp(e)}function Ju(n,e){const t=(e.baseMutations||[]).map(l=>xm(n.fe,l));for(let l=0;l<e.mutations.length-1;++l){const u=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(u.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const i=e.mutations.map(l=>xm(n.fe,l)),s=Ir.fromMillis(e.localWriteTimeMs);return new Iy(e.batchId,s,t,i)}function cf(n){const e=Xu(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xu(n.lastLimboFreeSnapshotVersion):Wn.min();let i;var s;return void 0!==n.query.documents?(Gn(1===(s=n.query).documents.length),i=xo(tf(Cm(s.documents[0])))):i=xo(Ry(n.query)),new bc(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Cs.fromBase64String(n.resumeToken))}function Fy(n,e){const t=Qu(e.snapshotVersion),i=Qu(e.lastLimboFreeSnapshotVersion);let s;s=wp(e.target)?Sm(n.fe,e.target):Tm(n.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Gd(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function ab(n){const e=Ry({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Dp(e,e.limit,"L"):e}function Ly(n,e){return new cu(e.largestBatchId,xm(n.fe,e.overlayMutation))}function lb(n,e){const t=e.path.lastSegment();return[n,Io(e.path.popLast()),t]}function Ny(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Qu(i.readTime),documentKey:Io(i.documentKey.path),largestBatchId:i.largestBatchId}}class LC{getBundleMetadata(e,t){return Is(e).get(t).next(i=>{if(i)return{id:(s=i).bundleId,createTime:Xu(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return Is(e).put({bundleId:(i=t).id,createTime:Qu(us(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return By(e).get(t).next(i=>{if(i)return{name:(s=i).name,query:ab(s.bundledQuery),readTime:Xu(s.readTime)};var s})}saveNamedQuery(e,t){return By(e).put({name:(i=t).name,readTime:Qu(us(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Is(n){return Wr(n,"bundles")}function By(n){return Wr(n,"namedQueries")}class Om{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new Om(e,t.uid||"")}getOverlay(e,t){return jp(e).get(lb(this.userId,t)).next(i=>i?Ly(this.serializer,i):null)}getOverlays(e,t){const i=mc();return At.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){const s=[];return i.forEach((l,u)=>{const m=new cu(t,u);s.push(this.we(e,m))}),At.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach(u=>s.add(Io(u.getCollectionPath())));const l=[];return s.forEach(u=>{const m=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(jp(e).J("collectionPathOverlayIndex",m))}),At.waitFor(l)}getOverlaysForCollection(e,t,i){const s=mc(),l=Io(t),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return jp(e).j("collectionPathOverlayIndex",u).next(m=>{for(const E of m){const S=Ly(this.serializer,E);s.set(S.getKey(),S)}return s})}getOverlaysForCollectionGroup(e,t,i,s){const l=mc();let u;const m=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jp(e).X({index:"collectionGroupOverlayIndex",range:m},(E,S,B)=>{const Q=Ly(this.serializer,S);l.size()<s||Q.largestBatchId===u?(l.set(Q.getKey(),Q),u=Q.largestBatchId):B.done()}).next(()=>l)}we(e,t){return jp(e).put(function(i,s,l){const[u,m,E]=lb(s,l.mutation.key);return{userId:s,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Zu(i.fe,l.mutation)}}(this.serializer,this.userId,t))}}function jp(n){return Wr(n,"documentOverlays")}class ed{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(xr(e.integerValue));else if("doubleValue"in e){const i=xr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),Nd(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(jl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?AC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):On()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const s of Object.keys(i))this.Te(s,t),this.me(i[s],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const s of i)this.me(s,t)}ve(e,t){this.ye(t,37),En.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function NC(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Vy(n){const e=64-function(t){let i=0;for(let s=0;s<8;++s){const l=NC(255&t[s]);if(i+=l,8!==l)break}return i}(n);return Math.ceil(e/8)}ed.Ve=new ed;class cb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),i=Vy(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),i=Vy(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,s,!1),new Uint8Array(l.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class uf{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class BC{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Gp{constructor(){this.je=new cb,this.ze=new uf(this.je),this.We=new BC(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class td{constructor(e,t,i,s){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new td(this.indexId,this.documentKey,this.arrayValue,i)}}function nd(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Uy(n.arrayValue,e.arrayValue),0!==t?t:(t=Uy(n.directionalValue,e.directionalValue),0!==t?t:En.comparator(n.documentKey,e.documentKey)))}function Uy(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class XI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Gn(e.collectionGroup===this.collectionId);const t=oy(e);if(void 0!==t&&!this.en(t))return!1;const i=ao(e);let s=new Set,l=0,u=0;for(;l<i.length&&this.en(i[l]);++l)s=s.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const m=i[l];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[u++],m))return!1}++l}for(;l<i.length;++l){const m=i[l];if(u>=this.Ye.length||!this.sn(this.Ye[u++],m))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Pm(n){var e,t;if(Gn(n instanceof Ni||n instanceof or),n instanceof Ni){if(n instanceof lm){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Ni.create(n.field,"==",l)))||[];return or.create(s,"or")}return n}const i=n.filters.map(s=>Pm(s));return or.create(i,n.op)}function jy(n){if(0===n.getFilters().length)return[];const e=gl(Pm(n));return Gn(ub(e)),pl(e)||Gy(e)?[e]:e.getFilters()}function pl(n){return n instanceof Ni}function Gy(n){return n instanceof or&&Jh(n)}function ub(n){return pl(n)||Gy(n)||function(e){if(e instanceof or&&gy(e)){for(const t of e.getFilters())if(!pl(t)&&!Gy(t))return!1;return!0}return!1}(n)}function gl(n){if(Gn(n instanceof Ni||n instanceof or),n instanceof Ni)return n;if(1===n.filters.length)return gl(n.filters[0]);const e=n.filters.map(i=>gl(i));let t=or.create(e,n.op);return t=Hp(t),ub(t)?t:(Gn(t instanceof or),Gn(Xh(t)),Gn(t.filters.length>1),t.filters.reduce((i,s)=>za(i,s)))}function za(n,e){let t;return Gn(n instanceof Ni||n instanceof or),Gn(e instanceof Ni||e instanceof or),t=n instanceof Ni?e instanceof Ni?or.create([n,e],"and"):ml(n,e):e instanceof Ni?ml(e,n):function(i,s){if(Gn(i.filters.length>0&&s.filters.length>0),Xh(i)&&Xh(s))return om(i,s.getFilters());const l=gy(i)?i:s,u=gy(i)?s:i,m=l.filters.map(E=>za(E,u));return or.create(m,"or")}(n,e),Hp(t)}function ml(n,e){if(Xh(e))return om(e,n.getFilters());{const t=e.filters.map(i=>za(n,i));return or.create(t,"or")}}function Hp(n){if(Gn(n instanceof Ni||n instanceof or),n instanceof Ni)return n;const e=n.getFilters();if(1===e.length)return Hp(e[0]);if(Ud(n))return n;const t=e.map(s=>Hp(s)),i=[];return t.forEach(s=>{s instanceof Ni?i.push(s):s instanceof or&&(s.op===n.op?i.push(...s.filters):i.push(s))}),1===i.length?i[0]:or.create(i,n.op)}class db{constructor(){this.rn=new Hy}addToCollectionParentIndex(e,t){return this.rn.add(t),At.resolve()}getCollectionParents(e,t){return At.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return At.resolve()}deleteFieldIndex(e,t){return At.resolve()}getDocumentsMatchingTarget(e,t){return At.resolve(null)}getIndexType(e,t){return At.resolve(0)}getFieldIndexes(e,t){return At.resolve([])}getNextCollectionGroupToUpdate(e){return At.resolve(null)}getMinOffset(e,t){return At.resolve(la.min())}getMinOffsetFromCollectionGroup(e,t){return At.resolve(la.min())}updateCollectionGroup(e,t,i){return At.resolve()}updateIndexEntries(e,t){return At.resolve()}}class Hy{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new mr(Ki.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new mr(Ki.comparator)).toArray()}}const km=new Uint8Array(0);class VC{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Hy,this.un=new lu(i=>Gd(i),(i,s)=>ef(i,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:i,parent:Io(s)};return hb(e).put(l)}return At.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[sC(t),""],!1,!0);return hb(e).j(s).next(l=>{for(const u of l){if(u.collectionId!==t)break;i.push(tu(u.parent))}return i})}addFieldIndex(e,t){const i=id(e),s={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var u;delete s.indexId;const l=i.add(s);if(t.indexState){const u=$p(e);return l.next(m=>{u.put(Ny(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const i=id(e),s=$p(e),l=Qd(e);return i.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=Qd(e);let s=!0;const l=new Map;return At.forEach(this.cn(t),u=>this.an(e,u).next(m=>{s&&(s=!!m),l.set(u,m)})).next(()=>{if(s){let u=bi();const m=[];return At.forEach(l,(E,S)=>{var B;ln("IndexedDbIndexManager",`Using index ${B=E,`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(vn=>`${vn.fieldPath}:${vn.kind}`).join(",")}`} to execute ${Gd(t)}`);const Q=function(vn,An){const hi=oy(An);if(void 0===hi)return null;for(const ri of um(vn,hi.fieldPath))switch(ri.op){case"array-contains-any":return ri.value.arrayValue.values||[];case"array-contains":return[ri.value]}return null}(S,E),$e=function(vn,An){const hi=new Map;for(const ri of ao(An))for(const ji of um(vn,ri.fieldPath))switch(ji.op){case"==":case"in":hi.set(ri.fieldPath.canonicalString(),ji.value);break;case"not-in":case"!=":return hi.set(ri.fieldPath.canonicalString(),ji.value),Array.from(hi.values())}return null}(S,E),st=function(vn,An){const hi=[];let ri=!0;for(const ji of ao(An)){const fs=0===ji.kind?ca(vn,ji.fieldPath,vn.startAt):_y(vn,ji.fieldPath,vn.startAt);hi.push(fs.value),ri&&(ri=fs.inclusive)}return new ou(hi,ri)}(S,E),vt=function(vn,An){const hi=[];let ri=!0;for(const ji of ao(An)){const fs=0===ji.kind?_y(vn,ji.fieldPath,vn.endAt):ca(vn,ji.fieldPath,vn.endAt);hi.push(fs.value),ri&&(ri=fs.inclusive)}return new ou(hi,ri)}(S,E),Ft=this.hn(E,S,st),jt=this.hn(E,S,vt),rn=this.ln(E,S,$e),Sn=this.fn(E.indexId,Q,Ft,st.inclusive,jt,vt.inclusive,rn);return At.forEach(Sn,vn=>i.H(vn,t.limit).next(An=>{An.forEach(hi=>{const ri=En.fromSegments(hi.documentKey);u.has(ri)||(u=u.add(ri),m.push(ri))})}))}).next(()=>m)}return At.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:jy(or.create(e.filters,"and")).map(i=>cm(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,s,l,u,m){const E=(null!=t?t.length:1)*Math.max(i.length,l.length),S=E/(null!=t?t.length:1),B=[];for(let Q=0;Q<E;++Q){const $e=t?this.dn(t[Q/S]):km,st=this.wn(e,$e,i[Q%S],s),vt=this._n(e,$e,l[Q%S],u),Ft=m.map(jt=>this.wn(e,$e,jt,!0));B.push(...this.createRange(st,vt,Ft))}return B}wn(e,t,i,s){const l=new td(e,En.empty(),t,i);return s?l:l.Je()}_n(e,t,i,s){const l=new td(e,En.empty(),t,i);return s?l.Je():l}an(e,t){const i=new XI(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(l=>{let u=null;for(const m of l)i.tn(m)&&(!u||m.fields.length>u.fields.length)&&(u=m);return u})}getIndexType(e,t){let i=2;const s=this.cn(t);return At.forEach(s,l=>this.an(e,l).next(u=>{u?0!==i&&u.fields.length<function(m){let E=new mr(ts.comparator),S=!1;for(const B of m.filters)for(const Q of B.getFlattenedFilters())Q.field.isKeyField()||("array-contains"===Q.op||"array-contains-any"===Q.op?S=!0:E=E.add(Q.field));for(const B of m.orderBy)B.field.isKeyField()||(E=E.add(B.field));return E.size+(S?1:0)}(l)&&(i=1):i=0})).next(()=>null!==t.limit&&s.length>1&&2===i?1:i)}mn(e,t){const i=new Gp;for(const s of ao(e)){const l=t.data.field(s.fieldPath);if(null==l)return null;const u=i.He(s.kind);ed.Ve._e(l,u)}return i.Qe()}dn(e){const t=new Gp;return ed.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new Gp;return ed.Ve._e(Qh(this.databaseId,t),i.He(function(s){const l=ao(s);return 0===l.length?0:l[l.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let s=[];s.push(new Gp);let l=0;for(const u of ao(e)){const m=i[l++];for(const E of s)if(this.yn(t,u.fieldPath)&&nm(m))s=this.pn(s,u,m);else{const S=E.He(u.kind);ed.Ve._e(m,S)}}return this.In(s)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const s=[...e],l=[];for(const u of i.arrayValue.values||[])for(const m of s){const E=new Gp;E.seed(m.Qe()),ed.Ve._e(u,E.He(t.kind)),l.push(E)}return l}yn(e,t){return!!e.filters.find(i=>i instanceof Ni&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=id(e),s=$p(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(l=>{const u=[];return At.forEach(l,m=>s.get([m.indexId,this.uid]).next(E=>{u.push(function(S,B){const Q=B?new fp(B.sequenceNumber,new la(Xu(B.readTime),new En(tu(B.documentKey)),B.largestBatchId)):fp.empty(),$e=S.fields.map(([st,vt])=>new hp(ts.fromServerFormat(st),vt));return new qg(S.indexId,S.collectionGroup,$e,Q)}(m,E))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,s)=>{const l=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==l?l:_i(i.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const s=id(e),l=$p(e);return this.Tn(e).next(u=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>At.forEach(m,E=>l.put(Ny(E.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return At.forEach(t,(s,l)=>{const u=i.get(s.collectionGroup);return(u?At.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(i.set(s.collectionGroup,m),At.forEach(m,E=>this.En(e,s,E).next(S=>{const B=this.An(l,E);return S.isEqual(B)?At.resolve():this.vn(e,l,E,S,B)}))))})}Rn(e,t,i,s){return Qd(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,s){return Qd(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const s=Qd(e);let l=new mr(nd);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(u,m)=>{l=l.add(new td(i.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}An(e,t){let i=new mr(nd);const s=this.mn(t,e);if(null==s)return i;const l=oy(t);if(null!=l){const u=e.data.field(l.fieldPath);if(nm(u))for(const m of u.arrayValue.values||[])i=i.add(new td(t.indexId,e.key,this.dn(m),s))}else i=i.add(new td(t.indexId,e.key,km,s));return i}vn(e,t,i,s,l){ln("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(m,E,S,B,Q){const $e=m.getIterator(),st=E.getIterator();let vt=zu($e),Ft=zu(st);for(;vt||Ft;){let jt=!1,rn=!1;if(vt&&Ft){const Sn=S(vt,Ft);Sn<0?rn=!0:Sn>0&&(jt=!0)}else null!=vt?rn=!0:jt=!0;jt?(B(Ft),Ft=zu(st)):rn?(Q(vt),vt=zu($e)):(vt=zu($e),Ft=zu(st))}}(s,l,nd,m=>{u.push(this.Rn(e,t,i,m))},m=>{u.push(this.Pn(e,t,i,m))}),At.waitFor(u)}Tn(e){let t=1;return $p(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,s,l)=>{l.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,m)=>nd(u,m)).filter((u,m,E)=>!m||0!==nd(u,E[m-1]));const s=[];s.push(e);for(const u of i){const m=nd(u,e),E=nd(u,t);if(0===m)s[0]=e.Je();else if(m>0&&E<0)s.push(u),s.push(u.Je());else if(E>0)break}s.push(t);const l=[];for(let u=0;u<s.length;u+=2){if(this.bn(s[u],s[u+1]))return[];l.push(IDBKeyRange.bound([s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,km,[]],[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,km,[]]))}return l}bn(e,t){return nd(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($y)}getMinOffset(e,t){return At.mapArray(this.cn(t),i=>this.an(e,i).next(s=>s||On())).next($y)}}function hb(n){return Wr(n,"collectionParents")}function Qd(n){return Wr(n,"indexEntries")}function id(n){return Wr(n,"indexConfiguration")}function $p(n){return Wr(n,"indexState")}function $y(n){Gn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;ay(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new la(e.readTime,e.documentKey,t)}const fb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zy(n,e,t){const i=n.store("mutations"),s=n.store("documentMutations"),l=[],u=IDBKeyRange.only(t.batchId);let m=0;const E=i.X({range:u},(B,Q,$e)=>(m++,$e.delete()));l.push(E.next(()=>{Gn(1===m)}));const S=[];for(const B of t.mutations){const Q=uC(e,B.key.path,t.batchId);l.push(s.delete(Q)),S.push(B.key)}return At.waitFor(l).next(()=>S)}function Xd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw On();e=n.noDocument}return JSON.stringify(e).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class Fm{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Vn={}}static de(e,t,i,s){Gn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new Fm(l,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hu(e).X({index:"userMutationsIndex",range:i},(s,l,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,s){const l=rd(e),u=hu(e);return u.add({}).next(m=>{Gn("number"==typeof m);const E=new Iy(m,t,i,s),S=function($e,st,vt){const Ft=vt.baseMutations.map(rn=>Zu($e.fe,rn)),jt=vt.mutations.map(rn=>Zu($e.fe,rn));return{userId:st,batchId:vt.batchId,localWriteTimeMs:vt.localWriteTime.toMillis(),baseMutations:Ft,mutations:jt}}(this.serializer,this.userId,E),B=[];let Q=new mr(($e,st)=>_i($e.canonicalString(),st.canonicalString()));for(const $e of s){const st=uC(this.userId,$e.key.path,m);Q=Q.add($e.key.path.popLast()),B.push(u.put(S)),B.push(l.put(st,dC))}return Q.forEach($e=>{B.push(this.indexManager.addToCollectionParentIndex(e,$e))}),e.addOnCommittedListener(()=>{this.Vn[m]=E.keys()}),At.waitFor(B).next(()=>E)})}lookupMutationBatch(e,t){return hu(e).get(t).next(i=>i?(Gn(i.userId===this.userId),Ju(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?At.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const s=i.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return hu(e).X({index:"userMutationsIndex",range:s},(u,m,E)=>{m.userId===this.userId&&(Gn(m.batchId>=i),l=Ju(this.serializer,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return hu(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,l,u)=>{i=l.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hu(e).j("userMutationsIndex",t).next(i=>i.map(s=>Ju(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=mp(this.userId,t.path),s=IDBKeyRange.lowerBound(i),l=[];return rd(e).X({range:s},(u,m,E)=>{const[S,B,Q]=u,$e=tu(B);if(S===this.userId&&t.path.isEqual($e))return hu(e).get(Q).next(st=>{if(!st)throw On();Gn(st.userId===this.userId),l.push(Ju(this.serializer,st))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mr(_i);const s=[];return t.forEach(l=>{const u=mp(this.userId,l.path),m=IDBKeyRange.lowerBound(u),E=rd(e).X({range:m},(S,B,Q)=>{const[$e,st,vt]=S,Ft=tu(st);$e===this.userId&&l.path.isEqual(Ft)?i=i.add(vt):Q.done()});s.push(E)}),At.waitFor(s).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,l=mp(this.userId,i),u=IDBKeyRange.lowerBound(l);let m=new mr(_i);return rd(e).X({range:u},(E,S,B)=>{const[Q,$e,st]=E,vt=tu($e);Q===this.userId&&i.isPrefixOf(vt)?vt.length===s&&(m=m.add(st)):B.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const i=[],s=[];return t.forEach(l=>{s.push(hu(e).get(l).next(u=>{if(null===u)throw On();Gn(u.userId===this.userId),i.push(Ju(this.serializer,u))}))}),At.waitFor(s).next(()=>i)}removeMutationBatch(e,t){return zy(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),At.forEach(i,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return At.resolve();const i=IDBKeyRange.lowerBound([this.userId]),s=[];return rd(e).X({range:i},(l,u,m)=>{if(l[0]===this.userId){const E=tu(l[1]);s.push(E)}else m.done()}).next(()=>{Gn(0===s.length)})})}containsKey(e,t){return Wy(e,this.userId,t)}xn(e){return Lm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Wy(n,e,t){const i=mp(e,t.path),s=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return rd(n).X({range:l,Y:!0},(m,E,S)=>{const[B,Q,$e]=m;B===e&&Q===s&&(u=!0),S.done()}).next(()=>u)}function hu(n){return Wr(n,"mutations")}function rd(n){return Wr(n,"documentMutations")}function Lm(n){return Wr(n,"mutationQueues")}class sd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new sd(0)}static Mn(){return new sd(-1)}}class pb{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new sd(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Wn.fromTimestamp(new Ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jd(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Gn(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let s=0;const l=[];return Jd(e).X((u,m)=>{const E=cf(m);E.sequenceNumber<=t&&null===i.get(E.targetId)&&(s++,l.push(this.removeTargetData(e,E)))}).next(()=>At.waitFor(l)).next(()=>s)}forEachTarget(e,t){return Jd(e).X((i,s)=>{const l=cf(s);t(l)})}$n(e){return Ky(e).get("targetGlobalKey").next(t=>(Gn(null!==t),t))}On(e,t){return Ky(e).put("targetGlobalKey",t)}Fn(e,t){return Jd(e).put(Fy(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Gd(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Jd(e).X({range:s,index:"queryTargetsIndex"},(u,m,E)=>{const S=cf(m);ef(t,S.target)&&(l=S,E.done())}).next(()=>l)}addMatchingKeys(e,t,i){const s=[],l=fu(e);return t.forEach(u=>{const m=Io(u.path);s.push(l.put({targetId:i,path:m})),s.push(this.referenceDelegate.addReference(e,i,u))}),At.waitFor(s)}removeMatchingKeys(e,t,i){const s=fu(e);return At.forEach(t,l=>{const u=Io(l.path);return At.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(e,i,l)])})}removeMatchingKeysForTargetId(e,t){const i=fu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=fu(e);let l=bi();return s.X({range:i,Y:!0},(u,m,E)=>{const S=tu(u[1]),B=new En(S);l=l.add(B)}).next(()=>l)}containsKey(e,t){const i=Io(t.path),s=IDBKeyRange.bound([i],[sC(i)],!1,!0);let l=0;return fu(e).X({index:"documentTargetsIndex",Y:!0,range:s},([u,m],E,S)=>{0!==u&&(l++,S.done())}).next(()=>l>0)}le(e,t){return Jd(e).get(t).next(i=>i?cf(i):null)}}function Jd(n){return Wr(n,"targets")}function Ky(n){return Wr(n,"targetGlobal")}function fu(n){return Wr(n,"targetDocuments")}function qy([n,e],[t,i]){const s=_i(n,t);return 0===s?_i(e,i):s}class gb{constructor(e){this.Ln=e,this.buffer=new mr(qy),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();qy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Yy{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ln("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,U.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){$u(i)?ln("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ii(i)}yield t.Qn(3e5)}))}}class UC{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return At.resolve(Gs.ct);const i=new gb(t);return this.jn.forEachTarget(e,s=>i.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>i.Kn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ln("LruGarbageCollector","Garbage collection skipped; disabled"),At.resolve(fb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ln("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fb):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,s,l,u,m,E,S;const B=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Q=>(Q>this.params.maximumSequenceNumbersToCollect?(ln("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Q}`),s=this.params.maximumSequenceNumbersToCollect):s=Q,u=Date.now(),this.nthSequenceNumber(e,s))).next(Q=>(i=Q,m=Date.now(),this.removeTargets(e,i,t))).next(Q=>(l=Q,E=Date.now(),this.removeOrphanedDocuments(e,i))).next(Q=>(S=Date.now(),Fd()<=Xi.in.DEBUG&&ln("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-B}ms\n\tDetermined least recently used ${s} in `+(m-u)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${Q} documents in `+(S-E)+`ms\nTotal Duration: ${S-B}ms`),At.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:Q})))}}class jC{constructor(e,t){this.db=e,this.garbageCollector=function mb(n,e){return new UC(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,s)=>t(s))}addReference(e,t,i){return Nm(e,i)}removeReference(e,t,i){return Nm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Nm(e,t)}Xn(e,t){return function(i,s){let l=!1;return Lm(i).Z(u=>Wy(i,u,s).next(m=>(m&&(l=!0),At.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let l=0;return this.Yn(e,(u,m)=>{if(m<=t){const E=this.Xn(e,u).next(S=>{if(!S)return l++,i.getEntry(e,u).next(()=>(i.removeEntry(u,Wn.min()),fu(e).delete([0,Io(u.path)])))});s.push(E)}}).next(()=>At.waitFor(s)).next(()=>i.apply(e)).next(()=>l)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Nm(e,t)}Yn(e,t){const i=fu(e);let s,l=Gs.ct;return i.X({index:"documentTargetsIndex"},([u,m],{path:E,sequenceNumber:S})=>{0===u?(l!==Gs.ct&&t(new En(tu(s)),l),l=S,s=E):l=Gs.ct}).next(()=>{l!==Gs.ct&&t(new En(tu(s)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Nm(n,e){return fu(n).put((i=n.currentSequenceNumber,{targetId:0,path:Io(e.path),sequenceNumber:i}));var i}class _b{constructor(){this.changes=new lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?At.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class GC{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return eh(e).put(i)}removeEntry(e,t,i){return eh(e).delete(function(s,l){const u=s.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],Up(l),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=_r.newInvalidDocument(t);return eh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zp(t))},(s,l)=>{i=this.ts(t,l)}).next(()=>i)}es(e,t){let i={size:0,document:_r.newInvalidDocument(t)};return eh(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(zp(t))},(s,l)=>{i={document:this.ts(t,l),size:Xd(l)}}).next(()=>i)}getEntries(e,t){let i=Ha();return this.ns(e,t,(s,l)=>{const u=this.ts(s,l);i=i.insert(s,u)}).next(()=>i)}ss(e,t){let i=Ha(),s=new Li(En.comparator);return this.ns(e,t,(l,u)=>{const m=this.ts(l,u);i=i.insert(l,m),s=s.insert(l,Xd(u))}).next(()=>({documents:i,rs:s}))}ns(e,t,i){if(t.isEmpty())return At.resolve();let s=new mr(bb);t.forEach(E=>s=s.add(E));const l=IDBKeyRange.bound(zp(s.first()),zp(s.last())),u=s.getIterator();let m=u.getNext();return eh(e).X({index:"documentKeyIndex",range:l},(E,S,B)=>{const Q=En.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;m&&bb(m,Q)<0;)i(m,null),m=u.getNext();m&&m.isEqual(Q)&&(i(m,S),m=u.hasNext()?u.getNext():null),m?B.G(zp(m)):B.done()}).next(()=>{for(;m;)i(m,null),m=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,i,s){const l=t.path,u=[l.popLast().toArray(),l.lastSegment(),Up(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eh(e).j(IDBKeyRange.bound(u,m,!0)).next(E=>{let S=Ha();for(const B of E){const Q=this.ts(En.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);Q.isFoundDocument()&&(nf(t,Q)||s.has(Q.key))&&(S=S.insert(Q.key,Q))}return S})}getAllFromCollectionGroup(e,t,i,s){let l=Ha();const u=Eb(t,i),m=Eb(t,la.max());return eh(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,m,!0)},(E,S,B)=>{const Q=this.ts(En.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);l=l.insert(Q.key,Q),l.size===s&&B.done()}).next(()=>l)}newChangeBuffer(e){return new HC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return vb(e).get("remoteDocumentGlobalKey").next(t=>(Gn(!!t),t))}Zn(e,t){return vb(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function ob(n,e){let t;if(e.document)t=Am(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=En.fromSegments(e.noDocument.path),s=Xu(e.noDocument.readTime);t=_r.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return On();{const i=En.fromSegments(e.unknownDocument.path),s=Xu(e.unknownDocument.version);t=_r.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime(function(i){const s=new Ir(i[0],i[1]);return Wn.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(Wn.min()))return i}return _r.newInvalidDocument(e)}}function yb(n){return new GC(n)}class HC extends _b{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new lu(i=>i.toString(),(i,s)=>i.isEqual(s))}applyChanges(e){const t=[];let i=0,s=new mr((l,u)=>_i(l.canonicalString(),u.canonicalString()));return this.changes.forEach((l,u)=>{const m=this.us.get(l);if(t.push(this.os.removeEntry(e,l,m.readTime)),u.isValidDocument()){const E=ky(this.os.serializer,u);s=s.add(l.path.popLast()),i+=Xd(E)-m.size,t.push(this.os.addEntry(e,l,E))}else if(i-=m.size,this.trackRemovals){const E=ky(this.os.serializer,u.convertToNoDocument(Wn.min()));t.push(this.os.addEntry(e,l,E))}}),s.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,i)),At.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:s})=>(s.forEach((l,u)=>{this.us.set(l,{size:u,readTime:i.get(l).readTime})}),i))}}function vb(n){return Wr(n,"remoteDocumentGlobal")}function eh(n){return Wr(n,"remoteDocumentsV14")}function zp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Eb(n,e){const t=e.documentKey.path.toArray();return[n,Up(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function bb(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(s=_i(t[l],i[l]),s)return s;return s=_i(t.length,i.length),s||(s=_i(t[t.length-2],i[i.length-2]),s||_i(t[t.length-1],i[i.length-1]))}class $C{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class wb{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==i&&Rp(i.mutation,s,Yo.empty(),Ir.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,bi()).next(()=>i))}getLocalViewOfDocuments(e,t,i=bi()){const s=mc();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let u=Ap();return l.forEach((m,E)=>{u=u.insert(m,E.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=mc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,bi()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((u,m)=>{t.set(u,m)})})}computeViews(e,t,i,s){let l=Ha();const u=Ip(),m=Ip();return t.forEach((E,S)=>{const B=i.get(S.key);s.has(S.key)&&(void 0===B||B.mutation instanceof $l)?l=l.insert(S.key,S):void 0!==B?(u.set(S.key,B.mutation.getFieldMask()),Rp(B.mutation,S,B.mutation.getFieldMask(),Ir.now())):u.set(S.key,Yo.empty())}),this.recalculateAndSaveOverlays(e,l).next(E=>(E.forEach((S,B)=>u.set(S,B)),t.forEach((S,B)=>{var Q;return m.set(S,new $C(B,null!==(Q=u.get(S))&&void 0!==Q?Q:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Ip();let s=new Li((u,m)=>u-m),l=bi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const m of u)m.keys().forEach(E=>{const S=t.get(E);if(null===S)return;let B=i.get(E)||Yo.empty();B=m.applyToLocalView(S,B),i.set(E,B);const Q=(s.get(m.batchId)||bi()).add(E);s=s.insert(m.batchId,Q)})}).next(()=>{const u=[],m=s.getReverseIterator();for(;m.hasNext();){const E=m.getNext(),S=E.key,B=E.value,Q=gm();B.forEach($e=>{if(!l.has($e)){const st=$0(t.get($e),i.get($e));null!==st&&Q.set($e,st),l=l.add($e)}}),u.push(this.documentOverlayCache.saveOverlays(e,S,Q))}return At.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return En.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):yy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var s}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const u=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):At.resolve(mc());let m=-1,E=l;return u.next(S=>At.forEach(S,(B,Q)=>(m<Q.largestBatchId&&(m=Q.largestBatchId),l.get(B)?At.resolve():this.remoteDocumentCache.getEntry(e,B).next($e=>{E=E.insert(B,$e)}))).next(()=>this.populateOverlays(e,S,l)).next(()=>this.computeViews(e,E,S,bi())).next(B=>({batchId:m,changes:B0(B)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new En(t)).next(i=>{let s=Ap();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const s=t.collectionGroup;let l=Ap();return this.indexManager.getCollectionParents(e,s).next(u=>At.forEach(u,m=>{const E=(S=t,B=m.child(s),new au(B,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,B;return this.getDocumentsMatchingCollectionQuery(e,E,i).next(S=>{S.forEach((B,Q)=>{l=l.insert(B,Q)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s))).next(l=>{s.forEach((m,E)=>{const S=E.getKey();null===l.get(S)&&(l=l.insert(S,_r.newInvalidDocument(S)))});let u=Ap();return l.forEach((m,E)=>{const S=s.get(m);void 0!==S&&Rp(S.mutation,E,Yo.empty(),Ir.now()),nf(t,E)&&(u=u.insert(m,E))}),u})}}class zC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return At.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:us(i.createTime)}),At.resolve()}getNamedQuery(e,t){return At.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:ab(i.bundledQuery),readTime:us(i.readTime)}),At.resolve();var i}}class WC{constructor(){this.overlays=new Li(En.comparator),this.ls=new Map}getOverlay(e,t){return At.resolve(this.overlays.get(t))}getOverlays(e,t){const i=mc();return At.forEach(t,s=>this.getOverlay(e,s).next(l=>{null!==l&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.we(e,t,l)}),At.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.ls.get(i);return void 0!==s&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(i)),At.resolve()}getOverlaysForCollection(e,t,i){const s=mc(),l=t.length+1,u=new En(t.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const E=m.getNext().value,S=E.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===l&&E.largestBatchId>i&&s.set(E.getKey(),E)}return At.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new Li((S,B)=>S-B);const u=this.overlays.getIterator();for(;u.hasNext();){const S=u.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>i){let B=l.get(S.largestBatchId);null===B&&(B=mc(),l=l.insert(S.largestBatchId,B)),B.set(S.getKey(),S)}}const m=mc(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((S,B)=>m.set(S,B)),!(m.size()>=s)););return At.resolve(m)}we(e,t,i){const s=this.overlays.get(i.key);if(null!==s){const u=this.ls.get(s.largestBatchId).delete(i.key);this.ls.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new cu(t,i));let l=this.ls.get(t);void 0===l&&(l=bi(),this.ls.set(t,l)),this.ls.set(t,l.add(i.key))}}class Zy{constructor(){this.fs=new mr(Hs.ds),this.ws=new mr(Hs._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new Hs(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new Hs(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new En(new Ki([])),i=new Hs(t,e),s=new Hs(t,e+1),l=[];return this.ws.forEachInRange([i,s],u=>{this.ys(u),l.push(u.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new En(new Ki([])),i=new Hs(t,e),s=new Hs(t,e+1);let l=bi();return this.ws.forEachInRange([i,s],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Hs(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hs{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return En.comparator(e.key,t.key)||_i(e.As,t.As)}static _s(e,t){return _i(e.As,t.As)||En.comparator(e.key,t.key)}}class Db{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new mr(Hs.ds)}checkEmpty(e){return At.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,s){const l=this.vs;this.vs++;const u=new Iy(l,t,i,s);this.mutationQueue.push(u);for(const m of s)this.Rs=this.Rs.add(new Hs(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return At.resolve(u)}lookupMutationBatch(e,t){return At.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),l=s<0?0:s;return At.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hs(t,0),s=new Hs(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([i,s],u=>{const m=this.Ps(u.As);l.push(m)}),At.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new mr(_i);return t.forEach(s=>{const l=new Hs(s,0),u=new Hs(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,u],m=>{i=i.add(m.As)})}),At.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;En.isDocumentKey(l)||(l=l.child(""));const u=new Hs(new En(l),0);let m=new mr(_i);return this.Rs.forEachWhile(E=>{const S=E.key.path;return!!i.isPrefixOf(S)&&(S.length===s&&(m=m.add(E.As)),!0)},u),At.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(i=>{const s=this.Ps(i);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Gn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return At.forEach(t.mutations,s=>{const l=new Hs(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new Hs(t,0),s=this.Rs.firstAfterOrEqual(i);return At.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return At.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cb{constructor(e){this.Ds=e,this.docs=new Li(En.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,u=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return At.resolve(i?i.document.mutableCopy():_r.newInvalidDocument(t))}getEntries(e,t){let i=Ha();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():_r.newInvalidDocument(s))}),At.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Ha();const u=t.path,m=new En(u.child("")),E=this.docs.getIteratorFrom(m);for(;E.hasNext();){const{key:S,value:{document:B}}=E.getNext();if(!u.isPrefixOf(S.path))break;S.path.length>u.length+1||ay(g0(B),i)<=0||(s.has(B.key)||nf(t,B))&&(l=l.insert(B.key,B.mutableCopy()))}return At.resolve(l)}getAllFromCollectionGroup(e,t,i,s){On()}Cs(e,t){return At.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Ab(this)}getSize(e){return At.resolve(this.size)}}class Ab extends _b{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(i)}),At.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ib{constructor(e){this.persistence=e,this.xs=new lu(t=>Gd(t),ef),this.lastRemoteSnapshotVersion=Wn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Zy,this.targetCount=0,this.Ms=sd.kn()}forEachTarget(e,t){return this.xs.forEach((i,s)=>t(s)),At.resolve()}getLastRemoteSnapshotVersion(e){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return At.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),At.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new sd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,At.resolve()}updateTargetData(e,t){return this.Fn(t),At.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,At.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.xs.forEach((u,m)=>{m.sequenceNumber<=t&&null===i.get(m.targetId)&&(this.xs.delete(u),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),At.waitFor(l).next(()=>s)}getTargetCount(e){return At.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return At.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),At.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(u=>{l.push(s.markPotentiallyOrphaned(e,u))}),At.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),At.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return At.resolve(i)}containsKey(e,t){return At.resolve(this.ks.containsKey(t))}}class Bm{constructor(e,t){this.$s={},this.overlays={},this.Os=new Gs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ib(this),this.indexManager=new db,this.remoteDocumentCache=new Cb(i=>this.referenceDelegate.Ls(i)),this.serializer=new Rm(t),this.qs=new zC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new Db(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){ln("MemoryPersistence","Starting transaction:",e);const s=new xb(this.Os.next());return this.referenceDelegate.Us(),i(s).next(l=>this.referenceDelegate.Ks(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Gs(e,t){return At.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class xb extends _0{constructor(e){super(),this.currentSequenceNumber=e}}class Wp{constructor(e){this.persistence=e,this.Qs=new Zy,this.js=null}static zs(e){return new Wp(e)}get Ws(){if(this.js)return this.js;throw On()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),At.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),At.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),At.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.Ws.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Ws,i=>{const s=En.fromPath(i);return this.Hs(e,s).next(l=>{l||t.removeEntry(s,Wn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return At.or([()=>At.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Qy{constructor(e){this.serializer=e}O(e,t,i,s){const l=new pp("createOrUpgrade",t);var m;i<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D0,{unique:!0}),m.createObjectStore("documentMutations"),Vm(e),function(m){m.createObjectStore("remoteDocuments")}(e));let u=At.resolve();return i<3&&s>=3&&(0!==i&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Vm(e)),u=u.next(()=>function(m){const E=m.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",S)}(l))),i<4&&s>=4&&(0!==i&&(u=u.next(()=>function(m,E){return E.store("mutations").j().next(S=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",D0,{unique:!0});const B=E.store("mutations"),Q=S.map($e=>B.put($e));return At.waitFor(Q)})}(e,l))),u=u.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&s>=5&&(u=u.next(()=>this.Ys(l))),i<6&&s>=6&&(u=u.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),i<7&&s>=7&&(u=u.next(()=>this.Zs(l))),i<8&&s>=8&&(u=u.next(()=>this.ti(e,l))),i<9&&s>=9&&(u=u.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&s>=10&&(u=u.next(()=>this.ei(l))),i<11&&s>=11&&(u=u.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&s>=12&&(u=u.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:I0});E.createIndex("collectionPathOverlayIndex",vC,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",x0,{unique:!1})}(e)})),i<13&&s>=13&&(u=u.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:Kh});E.createIndex("documentKeyIndex",hC),E.createIndex("collectionGroupIndex",C0)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&s>=14&&(u=u.next(()=>this.si(e,l))),i<15&&s>=15&&(u=u.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:gC}).createIndex("sequenceNumberIndex",mC,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:_C}).createIndex("documentKeyIndex",yC,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((i,s)=>{t+=Xd(s)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(s=>At.forEach(s,l=>{const u=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(m=>At.forEach(m,E=>{Gn(E.userId===l.userId);const S=Ju(this.serializer,E);return zy(e,l.userId,S).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const l=[];return i.X((u,m)=>{const E=new Ki(u),S=[0,Io(E)];l.push(t.get(S).next(B=>B?At.resolve():t.put({targetId:0,path:Io(E),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>At.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:pC});const i=t.store("collectionParents"),s=new Hy,l=u=>{if(s.add(u)){const m=u.lastSegment(),E=u.popLast();return i.put({collectionId:m,parent:Io(E)})}};return t.store("remoteDocuments").X({Y:!0},(u,m)=>{const E=new Ki(u);return l(E.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,m,E],S)=>{const B=tu(m);return l(B.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,s)=>{const l=cf(s),u=Fy(this.serializer,l);return t.put(u)})}ni(e,t){const i=t.store("remoteDocuments"),s=[];return i.X((l,u)=>{const m=t.store("remoteDocumentsV14"),E=(S=u,S.document?new En(Ki.fromString(S.document.name).popFirst(5)):S.noDocument?En.fromSegments(S.noDocument.path):S.unknownDocument?En.fromSegments(S.unknownDocument.path):On()).path.toArray();var S;const B={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(m.put(B))}).next(()=>At.waitFor(s))}si(e,t){const i=t.store("mutations"),s=yb(this.serializer),l=new Bm(Wp.zs,this.serializer.fe);return i.j().next(u=>{const m=new Map;return u.forEach(E=>{var S;let B=null!==(S=m.get(E.userId))&&void 0!==S?S:bi();Ju(this.serializer,E).keys().forEach(Q=>B=B.add(Q)),m.set(E.userId,B)}),At.forEach(m,(E,S)=>{const B=new Jr(S),Q=Om.de(this.serializer,B),$e=l.getIndexManager(B),st=Fm.de(B,this.serializer,$e,l.referenceDelegate);return new wb(s,st,Q,$e).recalculateAndSaveOverlaysForDocumentKeys(new S0(t,Gs.ct),E).next()})})}}function Vm(n){n.createObjectStore("targetDocuments",{keyPath:fC}).createIndex("documentTargetsIndex",A0,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Qg,{unique:!0}),n.createObjectStore("targetGlobal")}const pu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xy{constructor(e,t,i,s,l,u,m,E,S,B,Q=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=l,this.window=u,this.document=m,this.ri=S,this.oi=B,this.ui=Q,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=$e=>Promise.resolve(),!Xy.D())throw new en(kt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jC(this,s),this.di=t+"main",this.serializer=new Rm(E),this.wi=new Vl(this.di,this.ui,new Qy(this.serializer)),this.Bs=new pb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yb(this.serializer),this.qs=new LC,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===B&&es("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new en(kt.FAILED_PRECONDITION,pu);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Gs(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,U.Z)(function*(s){if(t.started)return e(s)});return function(s){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,U.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,U.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gu(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if($u(e))return ln("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ln("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return qp(e).get("owner").next(t=>At.resolve(this.Ri(t)))}Pi(e){return gu(e).delete(this.clientId)}bi(){var e=this;return(0,U.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const s=Wr(i,"clientMetadata");return s.j().next(l=>{const u=e.Si(l,18e5),m=l.filter(E=>-1===u.indexOf(E));return At.forEach(m,E=>s.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?At.resolve(!0):qp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new en(kt.FAILED_PRECONDITION,pu);return!1}}return!(!this.networkEnabled||!this.inForeground)||gu(e).j().next(i=>void 0===this.Si(i,5e3).find(s=>{if(this.clientId!==s.clientId){const u=!this.inForeground&&s.inForeground,m=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||u&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ln("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,U.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new S0(t,Gs.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>gu(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return Fm.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new VC(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return Om.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){ln("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",l=15===(u=this.ui)?bC:14===u?Xg:13===u?EC:12===u?cy:11===u?ly:void On();var u;let m;return this.wi.runTransaction(e,s,l,E=>(m=new S0(E,this.Os?this.Os.next():Gs.ct),"readwrite-primary"===t?this.Ti(m).next(S=>!!S||this.Ei(m)).next(S=>{if(!S)throw es(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new en(kt.FAILED_PRECONDITION,m0);return i(m)}).next(S=>this.vi(m).next(()=>S)):this.Oi(m).next(()=>i(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Oi(e){return qp(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new en(kt.FAILED_PRECONDITION,pu)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qp(e).put("owner",t)}static D(){return Vl.D()}Ai(e){const t=qp(e);return t.get("owner").next(i=>this.Ri(i)?(ln("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):At.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(es(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,De.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ln("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return es("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){es("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qp(n){return Wr(n,"owner")}function gu(n){return Wr(n,"clientMetadata")}function Sb(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Yp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=s}static Li(e,t){let i=bi(),s=bi();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Yp(e,t.fromCache,i,s)}}class KC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,s){return this.Ki(e,t).next(l=>l||this.Gi(e,t,s,i)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(dm(t))return At.resolve(null);let i=xo(t);return this.indexManager.getIndexType(e,i).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Dp(t,null,"F"),i=xo(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=bi(...l);return this.Ui.getDocuments(e,u).next(m=>this.indexManager.getMinOffset(e,i).next(E=>{const S=this.ji(t,m);return this.zi(t,S,u,E.readTime)?this.Ki(e,Dp(t,null,"F")):this.Wi(e,S,t,E)}))})))}Gi(e,t,i,s){return dm(t)||s.isEqual(Wn.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(l=>{const u=this.ji(t,l);return this.zi(t,u,i,s)?this.Qi(e,t):(Fd()<=Xi.in.DEBUG&&ln("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),pm(t)),this.Wi(e,u,t,p0(s,-1)))})}ji(e,t){let i=new mr(Gl(e));return t.forEach((s,l)=>{nf(e,l)&&(i=i.add(l))}),i}zi(e,t,i,s){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Qi(e,t){return Fd()<=Xi.in.DEBUG&&ln("QueryEngine","Using full collection scan to execute query:",pm(t)),this.Ui.getDocumentsMatchingQuery(e,t,la.min())}Wi(e,t,i,s){return this.Ui.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}class Tb{constructor(e,t,i,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Li(_i),this.Yi=new lu(l=>Gd(l),ef),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Jy(n,e,t,i){return new Tb(n,e,t,i)}function qC(n,e){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,U.Z)(function*(n,e){const t=wn(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],m=[];let E=bi();for(const S of s){u.push(S.batchId);for(const B of S.mutations)E=E.add(B.key)}for(const S of l){m.push(S.batchId);for(const B of S.mutations)E=E.add(B.key)}return t.localDocuments.getDocuments(i,E).next(S=>({er:S,removedBatchIds:u,addedBatchIds:m}))})})}),Zn.apply(this,arguments)}function YC(n,e){const t=wn(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,m,E,S){const B=E.batch,Q=B.keys();let $e=At.resolve();return Q.forEach(st=>{$e=$e.next(()=>S.getEntry(m,st)).next(vt=>{const Ft=E.docVersions.get(st);Gn(null!==Ft),vt.version.compareTo(Ft)<0&&(B.applyToRemoteDocument(vt,E),vt.isValidDocument()&&(vt.setReadTime(E.commitVersion),S.addEntry(vt)))})}),$e.next(()=>u.mutationQueue.removeMutationBatch(m,B))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let m=bi();for(let E=0;E<u.mutationResults.length;++E)u.mutationResults[E].transformResults.length>0&&(m=m.add(u.batch.mutations[E].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function Mb(n){const e=wn(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function ZC(n,e){const t=wn(n),i=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const m=[];e.targetChanges.forEach((B,Q)=>{const $e=s.get(Q);if(!$e)return;m.push(t.Bs.removeMatchingKeys(l,B.removedDocuments,Q).next(()=>t.Bs.addMatchingKeys(l,B.addedDocuments,Q)));let st=$e.withSequenceNumber(l.currentSequenceNumber);var vt,Ft,jt;null!==e.targetMismatches.get(Q)?st=st.withResumeToken(Cs.EMPTY_BYTE_STRING,Wn.min()).withLastLimboFreeSnapshotVersion(Wn.min()):B.resumeToken.approximateByteSize()>0&&(st=st.withResumeToken(B.resumeToken,i)),s=s.insert(Q,st),Ft=st,jt=B,(0===(vt=$e).resumeToken.approximateByteSize()||Ft.snapshotVersion.toMicroseconds()-vt.snapshotVersion.toMicroseconds()>=3e8||jt.addedDocuments.size+jt.modifiedDocuments.size+jt.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(l,st))});let E=Ha(),S=bi();if(e.documentUpdates.forEach(B=>{e.resolvedLimboDocuments.has(B)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,B))}),m.push(th(l,u,e.documentUpdates).next(B=>{E=B.nr,S=B.sr})),!i.isEqual(Wn.min())){const B=t.Bs.getLastRemoteSnapshotVersion(l).next(Q=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,i));m.push(B)}return At.waitFor(m).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,E,S)).next(()=>E)}).then(l=>(t.Ji=s,l))}function th(n,e,t){let i=bi(),s=bi();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let u=Ha();return t.forEach((m,E)=>{const S=l.get(m);E.isFoundDocument()!==S.isFoundDocument()&&(s=s.add(m)),E.isNoDocument()&&E.version.isEqual(Wn.min())?(e.removeEntry(m,E.readTime),u=u.insert(m,E)):!S.isValidDocument()||E.version.compareTo(S.version)>0||0===E.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(E),u=u.insert(m,E)):ln("LocalStore","Ignoring outdated watch update for ",m,". Current version:",S.version," Watch version:",E.version)}),{nr:u,sr:s}})}function QC(n,e){const t=wn(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function mu(n,e){const t=wn(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Bs.getTargetData(i,e).next(l=>l?(s=l,At.resolve(s)):t.Bs.allocateTargetId(i).next(u=>(s=new bc(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ji.get(i.targetId);return(null===s||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function _u(n,e,t){return Lr.apply(this,arguments)}function Lr(){return Lr=(0,U.Z)(function*(n,e,t){const i=wn(n),s=i.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!$u(u))throw u;ln("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(s.target)}),Lr.apply(this,arguments)}function ev(n,e,t){const i=wn(n);let s=Wn.min(),l=bi();return i.persistence.runTransaction("Execute query","readonly",u=>function(m,E,S){const B=wn(m),Q=B.Yi.get(S);return void 0!==Q?At.resolve(B.Ji.get(Q)):B.Bs.getTargetData(E,S)}(i,u,xo(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(u,m.targetId).next(E=>{l=E})}).next(()=>i.Hi.getDocumentsMatchingQuery(u,e,t?s:Wn.min(),t?l:bi())).next(m=>(Rb(i,N0(e),m),{documents:m,ir:l})))}function tv(n,e){const t=wn(n),i=wn(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",l=>i.le(l,e).next(u=>u?u.target:null))}function nv(n,e){const t=wn(n),i=t.Xi.get(e)||Wn.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,p0(i,-1),Number.MAX_SAFE_INTEGER)).then(s=>(Rb(t,e,s),s))}function Rb(n,e,t){let i=n.Xi.get(e)||Wn.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Xi.set(e,i)}function Um(){return Um=(0,U.Z)(function*(n,e,t,i){const s=wn(n);let l=bi(),u=Ha();for(const S of t){const B=e.rr(S.metadata.name);S.document&&(l=l.add(B));const Q=e.ur(S);Q.setReadTime(e.cr(S.metadata.readTime)),u=u.insert(B,Q)}const m=s.Zi.newChangeBuffer({trackRemovals:!0}),E=yield mu(s,(S=i,xo(tf(Ki.fromString(`__bundle__/docs/${S}`)))));var S;return s.persistence.runTransaction("Apply bundle documents","readwrite",S=>th(S,m,u).next(B=>(m.apply(S),B)).next(B=>s.Bs.removeMatchingKeysForTargetId(S,E.targetId).next(()=>s.Bs.addMatchingKeys(S,l,E.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(S,B.nr,B.sr)).next(()=>B.nr)))}),Um.apply(this,arguments)}function Pb(n,e){return jm.apply(this,arguments)}function jm(){return jm=(0,U.Z)(function*(n,e,t=bi()){const i=yield mu(n,xo(ab(e.bundledQuery))),s=wn(n);return s.persistence.runTransaction("Save named query","readwrite",l=>{const u=us(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.qs.saveNamedQuery(l,e);const m=i.withResumeToken(Cs.EMPTY_BYTE_STRING,u);return s.Ji=s.Ji.insert(m.targetId,m),s.Bs.updateTargetData(l,m).next(()=>s.Bs.removeMatchingKeysForTargetId(l,i.targetId)).next(()=>s.Bs.addMatchingKeys(l,t,i.targetId)).next(()=>s.qs.saveNamedQuery(l,e))})}),jm.apply(this,arguments)}function kb(n,e){return`firestore_clients_${n}_${e}`}function Fb(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function iv(n,e){return`firestore_targets_${n}_${e}`}class od{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static ar(e,t,i){const s=JSON.parse(i);let l,u="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code,u&&(l=new en(s.error.code,s.error.message))),u?new od(e,t,s.state,l):(es("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zp{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let s,l="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return l&&i.error&&(l="string"==typeof i.error.message&&"string"==typeof i.error.code,l&&(s=new en(i.error.code,i.error.message))),l?new Zp(e,i.state,s):(es("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let s="object"==typeof i&&i.activeTargetIds instanceof Array,l=V0();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=Zg(i.activeTargetIds[u]),l=l.add(i.activeTargetIds[u]);return s?new Gm(e,l):(es("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class rv{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new rv(t.clientId,t.onlineState):(es("SharedClientState",`Failed to parse online state: ${e}`),null)}}class df{constructor(){this.activeTargetIds=V0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Hm{constructor(e,t,i,s,l){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Li(_i),this.started=!1,this.yr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=kb(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new df),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,U.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const l=e.getItem(kb(e.persistenceKey,s));if(l){const u=Gm.ar(s,l);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const s=e.br(i);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(iv(this.persistenceKey,e));if(i){const s=Zp.ar(e,i);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iv(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,i.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ln("SharedClientState","READ",e,t),t}setItem(e,t){ln("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ln("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(ln("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void es("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,U.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const s=t.Or(i.key);return t.Fr(s,null)}{const s=t.Br(i.key,i.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const s=t.Lr(i.key,i.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const s=t.Ur(i.key,i.newValue);if(s)return t.Kr(s)}}else if(i.key===t.vr){if(null!==i.newValue){const s=t.br(i.newValue);if(s)return t.Vr(s)}}else if(i.key===t.Ir){const s=function(l){let u=Gs.ct;if(null!=l)try{const m=JSON.parse(l);Gn("number"==typeof m),u=m}catch(m){es("SharedClientState","Failed to read sequence number from WebStorage",m)}return u}(i.newValue);s!==Gs.ct&&t.sequenceNumberHandler(s)}else if(i.key===t.Rr){const s=t.Gr(i.newValue);yield Promise.all(s.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const s=new od(this.currentUser,e,t,i),l=Fb(this.persistenceKey,this.currentUser,e);this.setItem(l,s.hr())}Cr(e){const t=Fb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const s=iv(this.persistenceKey,e),l=new Zp(e,t,i);this.setItem(s,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return Gm.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),s=Number(i[1]);return od.ar(new Jr(void 0!==i[2]?i[2]:null),s,t)}Ur(e,t){const i=this.Ar.exec(e),s=Number(i[1]);return Zp.ar(s,t)}br(e){return rv.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,U.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ln("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),l=this.Sr(i),u=[],m=[];return l.forEach(E=>{s.has(E)||u.push(E)}),s.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Wr(u,m).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=V0();return e.forEach((i,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class sv{constructor(){this.Hr=new df,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new df,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Lb{Yr(e){}shutdown(){}}class Nb{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ln("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ln("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ad=null;function nh(){return null===ad?ad=268435456+Math.round(2147483648*Math.random()):ad++,"0x"+ad.toString(16)}const XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const So="WebChannelConnection";class Bb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,s,l){const u=nh(),m=this.To(e,t);ln("RestConnection",`Sending RPC '${e}' ${u}:`,m,i);const E={};return this.Eo(E,s,l),this.Ao(e,m,E,i).then(S=>(ln("RestConnection",`Received RPC '${e}' ${u}: `,S),S),S=>{throw hl("RestConnection",`RPC '${e}' ${u} failed with error: `,S,"url: ",m,"request:",i),S})}vo(e,t,i,s,l,u){return this.Io(e,t,i,s,l)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),i&&i.headers.forEach((s,l)=>e[l]=s)}To(e,t){return`${this.mo}/v1/${t}:${XC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,s){const l=nh();return new Promise((u,m)=>{const E=new QD;E.setWithCredentials(!0),E.listenOnce(qD.COMPLETE,()=>{try{switch(E.getLastErrorCode()){case ry.NO_ERROR:const B=E.getResponseJson();ln(So,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(B)),u(B);break;case ry.TIMEOUT:ln(So,`RPC '${e}' ${l} timed out`),m(new en(kt.DEADLINE_EXCEEDED,"Request time out"));break;case ry.HTTP_ERROR:const Q=E.getStatus();if(ln(So,`RPC '${e}' ${l} failed with status:`,Q,"response text:",E.getResponseText()),Q>0){let $e=E.getResponseJson();Array.isArray($e)&&($e=$e[0]);const st=$e?.error;if(st&&st.status&&st.message){const vt=function(Ft){const jt=Ft.toLowerCase().replace(/_/g,"-");return Object.values(kt).indexOf(jt)>=0?jt:kt.UNKNOWN}(st.status);m(new en(vt,st.message))}else m(new en(kt.UNKNOWN,"Server responded with status "+E.getStatus()))}else m(new en(kt.UNAVAILABLE,"Connection failed."));break;default:On()}}finally{ln(So,`RPC '${e}' ${l} completed.`)}});const S=JSON.stringify(s);ln(So,`RPC '${e}' ${l} sending request:`,s),E.send(t,"POST",S,i,15)})}Ro(e,t,i){const s=nh(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Gh(),m=KD(),E={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;void 0!==S&&(E.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(E.xmlHttpFactory=new ZD({})),this.Eo(E.initMessageHeaders,t,i),E.encodeInitMessageHeaders=!0;const B=l.join("");ln(So,`Creating RPC '${e}' stream ${s}: ${B}`,E);const Q=u.createWebChannel(B,E);let $e=!1,st=!1;const vt=new JC({ro:jt=>{st?ln(So,`Not sending because RPC '${e}' stream ${s} is closed:`,jt):($e||(ln(So,`Opening RPC '${e}' stream ${s} transport.`),Q.open(),$e=!0),ln(So,`RPC '${e}' stream ${s} sending:`,jt),Q.send(jt))},oo:()=>Q.close()}),Ft=(jt,rn,Sn)=>{jt.listen(rn,vn=>{try{Sn(vn)}catch(An){setTimeout(()=>{throw An},0)}})};return Ft(Q,lp.EventType.OPEN,()=>{st||ln(So,`RPC '${e}' stream ${s} transport opened.`)}),Ft(Q,lp.EventType.CLOSE,()=>{st||(st=!0,ln(So,`RPC '${e}' stream ${s} transport closed`),vt.wo())}),Ft(Q,lp.EventType.ERROR,jt=>{st||(st=!0,hl(So,`RPC '${e}' stream ${s} transport errored:`,jt),vt.wo(new en(kt.UNAVAILABLE,"The operation could not be completed")))}),Ft(Q,lp.EventType.MESSAGE,jt=>{var rn;if(!st){const Sn=jt.data[0];Gn(!!Sn);const vn=Sn,An=vn.error||(null===(rn=vn[0])||void 0===rn?void 0:rn.error);if(An){ln(So,`RPC '${e}' stream ${s} received error:`,An);const hi=An.status;let ri=function(fs){const ha=As[fs];if(void 0!==ha)return Y0(ha)}(hi),ji=An.message;void 0===ri&&(ri=kt.INTERNAL,ji="Unknown error status: "+hi+" with message "+An.message),st=!0,vt.wo(new en(ri,ji)),Q.close()}else ln(So,`RPC '${e}' stream ${s} received:`,Sn),vt._o(Sn)}}),Ft(m,YD.STAT_EVENT,jt=>{jt.stat===Kg.PROXY?ln(So,`RPC '${e}' stream ${s} detected buffering proxy`):jt.stat===Kg.NOPROXY&&ln(So,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{vt.fo()},0),vt}}function ov(){return typeof window<"u"?window:null}function Qp(){return typeof document<"u"?document:null}function Xp(n){return new J0(n,!0)}class $m{constructor(e,t,i=1e3,s=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=s,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-i);s>0&&ln("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Vb{constructor(e,t,i,s,l,u,m,E){this.ii=e,this.$o=i,this.Oo=s,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $m(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,U.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,U.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,U.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===kt.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===kt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Fo===t&&this.Zo(i,s)},i=>{e(()=>{const s=new en(kt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(s)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{i(()=>this.tu(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,U.Z)(function*(){e.state=0,e.start()}))}tu(e){return ln("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ln("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eA extends Vb{constructor(e,t,i,s,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function Im(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:On(),s=e.targetChange.targetIds||[],l=function(E,S){return E.useProto3Json?(Gn(void 0===S||"string"==typeof S),Cs.fromBase64String(S||"")):(Gn(void 0===S||S instanceof Uint8Array),Cs.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&function(E){const S=void 0===E.code?kt.UNKNOWN:Y0(E.code);return new en(S,E.message||"")}(u);t=new Wd(i,s,l,m||null)}else if("documentChange"in e){const i=e.documentChange,s=zl(n,i.document.name),l=us(i.document.updateTime),u=i.document.createTime?us(i.document.createTime):Wn.min(),m=new co({mapValue:{fields:i.document.fields}}),E=_r.newFoundDocument(s,l,u,m);t=new uu(i.targetIds||[],i.removedTargetIds||[],E.key,E)}else if("documentDelete"in e){const i=e.documentDelete,s=zl(n,i.document),l=i.readTime?us(i.readTime):Wn.min(),u=_r.newNoDocument(s,l);t=new uu([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,s=zl(n,i.document);t=new uu([],i.removedTargetIds||[],s,null)}else{if(!("filter"in e))return On();{const i=e.filter,{count:s=0,unchangedNames:l}=i,u=new Op(s,l);t=new zd(i.targetId,u)}}var E;return t}(this.serializer,e),i=function(s){if(!("targetChange"in s))return Wn.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?Wn.min():l.readTime?us(l.readTime):Wn.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=Np(this.serializer),t.addTarget=function(s,l){let u;const m=l.target;if(u=wp(m)?{documents:Sm(s,m)}:{query:Tm(s,m)},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Sy(s,l.resumeToken);const E=Dm(s,l.expectedCount);null!==E&&(u.expectedCount=E)}else if(l.snapshotVersion.compareTo(Wn.min())>0){u.readTime=Yd(s,l.snapshotVersion.toTimestamp());const E=Dm(s,l.expectedCount);null!==E&&(u.expectedCount=E)}return u}(this.serializer,e);const i=function Oy(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return On()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=Np(this.serializer),t.removeTarget=e,this.Wo(t)}}class JI extends Vb{constructor(e,t,i,s,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function tb(n,e){return n&&n.length>0?(Gn(void 0!==e),n.map(t=>function(i,s){let l=us(i.updateTime?i.updateTime:s);return l.isEqual(Wn.min())&&(l=us(s)),new OC(l,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=us(e.commitTime);return this.listener.cu(i,t)}return Gn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Np(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Zu(this.serializer,i))};this.Wo(t)}}class ex extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new en(kt.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Io(e,t,i,s,l)).catch(s=>{throw"FirebaseError"===s.name?(s.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new en(kt.UNKNOWN,s.toString())})}vo(e,t,i,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.vo(e,t,i,l,u,s)).catch(l=>{throw"FirebaseError"===l.name?(l.code===kt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new en(kt.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class jb{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(es(t),this.mu=!1):ln("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class zm{constructor(e,t,i,s,l){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(m=>{i.enqueueAndForget((0,U.Z)(function*(){var E;ld(u)&&(ln("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,U.Z)(function*(S){const B=wn(S);B.vu.add(4),yield ih(B),B.bu.set("Unknown"),B.vu.delete(4),yield Jp(B)}),function(S){return E.apply(this,arguments)})(u))}))}),this.bu=new jb(i,s)}}function Jp(n){return av.apply(this,arguments)}function av(){return av=(0,U.Z)(function*(n){if(ld(n))for(const e of n.Ru)yield e(!0)}),av.apply(this,arguments)}function ih(n){return rh.apply(this,arguments)}function rh(){return rh=(0,U.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),rh.apply(this,arguments)}function Wm(n,e){const t=wn(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Km(t)?cv(t):sh(t).Ko()&&lv(t,e))}function eg(n,e){const t=wn(n),i=sh(t);t.Au.delete(e),i.Ko()&&Gb(t,e),0===t.Au.size&&(i.Ko()?i.jo():ld(t)&&t.bu.set("Unknown"))}function lv(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Wn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}sh(n).su(e)}function Gb(n,e){n.Vu.qt(e),sh(n).iu(e)}function cv(n){n.Vu=new lf({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),sh(n).start(),n.bu.gu()}function Km(n){return ld(n)&&!sh(n).Uo()&&n.Au.size>0}function ld(n){return 0===wn(n).vu.size}function Hb(n){n.Vu=void 0}function tg(n){return uv.apply(this,arguments)}function uv(){return uv=(0,U.Z)(function*(n){n.Au.forEach((e,t)=>{lv(n,e)})}),uv.apply(this,arguments)}function $b(n,e){return dv.apply(this,arguments)}function dv(){return dv=(0,U.Z)(function*(n,e){Hb(n),Km(n)?(n.bu.Iu(e),cv(n)):n.bu.set("Unknown")}),dv.apply(this,arguments)}function zb(n,e,t){return hv.apply(this,arguments)}function hv(){return hv=(0,U.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof Wd&&2===e.state&&e.cause)try{yield(i=(0,U.Z)(function*(s,l){const u=l.cause;for(const m of l.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,u),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,l){return i.apply(this,arguments)})(n,e)}catch(i){ln("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield ng(n,i)}else if(e instanceof uu?n.Vu.Ht(e):e instanceof zd?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Wn.min()))try{const i=yield Mb(n.localStore);t.compareTo(i)>=0&&(yield function(s,l){const u=s.Vu.ce(l);return u.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const S=s.Au.get(E);S&&s.Au.set(E,S.withResumeToken(m.resumeToken,l))}}),u.targetMismatches.forEach((m,E)=>{const S=s.Au.get(m);if(!S)return;s.Au.set(m,S.withResumeToken(Cs.EMPTY_BYTE_STRING,S.snapshotVersion)),Gb(s,m);const B=new bc(S.target,m,E,S.sequenceNumber);lv(s,B)}),s.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){ln("RemoteStore","Failed to raise snapshot:",i),yield ng(n,i)}var i}),hv.apply(this,arguments)}function ng(n,e,t){return fv.apply(this,arguments)}function fv(){return fv=(0,U.Z)(function*(n,e,t){if(!$u(e))throw e;n.vu.add(1),yield ih(n),n.bu.set("Offline"),t||(t=()=>Mb(n.localStore)),n.asyncQueue.enqueueRetryable((0,U.Z)(function*(){ln("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Jp(n)}))}),fv.apply(this,arguments)}function qm(n,e){return e().catch(t=>ng(n,t,e))}function hf(n){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,U.Z)(function*(n){const e=wn(n),t=cd(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Wb(e);)try{const s=yield QC(e.localStore,i);if(null===s){0===e.Eu.length&&t.jo();break}i=s.batchId,tA(e,s)}catch(s){yield ng(e,s)}Kb(e)&&qb(e)}),Ym.apply(this,arguments)}function Wb(n){return ld(n)&&n.Eu.length<10}function tA(n,e){n.Eu.push(e);const t=cd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function Kb(n){return ld(n)&&!cd(n).Uo()&&n.Eu.length>0}function qb(n){cd(n).start()}function pv(n){return gv.apply(this,arguments)}function gv(){return gv=(0,U.Z)(function*(n){cd(n).hu()}),gv.apply(this,arguments)}function Yb(n){return mv.apply(this,arguments)}function mv(){return mv=(0,U.Z)(function*(n){const e=cd(n);for(const t of n.Eu)e.uu(t.mutations)}),mv.apply(this,arguments)}function nA(n,e,t){return _v.apply(this,arguments)}function _v(){return _v=(0,U.Z)(function*(n,e,t){const i=n.Eu.shift(),s=af.from(i,e,t);yield qm(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield hf(n)}),_v.apply(this,arguments)}function iA(n,e){return yv.apply(this,arguments)}function yv(){return yv=(0,U.Z)(function*(n,e){var t;e&&cd(n).ou&&(yield(t=(0,U.Z)(function*(i,s){if(wm(l=s.code)&&l!==kt.ABORTED){const u=i.Eu.shift();cd(i).Qo(),yield qm(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,s)),yield hf(i)}var l}),function(i,s){return t.apply(this,arguments)})(n,e)),Kb(n)&&qb(n)}),yv.apply(this,arguments)}function Zb(n,e){return vv.apply(this,arguments)}function vv(){return vv=(0,U.Z)(function*(n,e){const t=wn(n);t.asyncQueue.verifyOperationInProgress(),ln("RemoteStore","RemoteStore received new credentials");const i=ld(t);t.vu.add(3),yield ih(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Jp(t)}),vv.apply(this,arguments)}function Ev(n,e){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,U.Z)(function*(n,e){const t=wn(n);e?(t.vu.delete(2),yield Jp(t)):e||(t.vu.add(2),yield ih(t),t.bu.set("Unknown"))}),Zm.apply(this,arguments)}function sh(n){return n.Su||(n.Su=function(e,t,i){const s=wn(e);return s.fu(),new eA(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{uo:tg.bind(null,n),ao:$b.bind(null,n),nu:zb.bind(null,n)}),n.Ru.push(function(){var e=(0,U.Z)(function*(t){t?(n.Su.Qo(),Km(n)?cv(n):n.bu.set("Unknown")):(yield n.Su.stop(),Hb(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function cd(n){return n.Du||(n.Du=function(e,t,i){const s=wn(e);return s.fu(),new JI(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{uo:pv.bind(null,n),ao:iA.bind(null,n),au:Yb.bind(null,n),cu:nA.bind(null,n)}),n.Ru.push(function(){var e=(0,U.Z)(function*(t){t?(n.Du.Qo(),yield hf(n)):(yield n.Du.stop(),n.Eu.length>0&&(ln("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class bv{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,s,l){const u=Date.now()+i,m=new bv(e,t,u,s,l);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new en(kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oh(n,e){if(es("AsyncQueue",`${e}: ${n}`),$u(n))return new en(kt.UNAVAILABLE,`${e}: ${n}`);throw n}class ff{constructor(e){this.comparator=e?(t,i)=>e(t,i)||En.comparator(t.key,i.key):(t,i)=>En.comparator(t.key,i.key),this.keyedMap=Ap(),this.sortedSet=new Li(this.comparator)}static emptySet(e){return new ff(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ff;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Qb{constructor(){this.Cu=new Li(En.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):On():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class pf{constructor(e,t,i,s,l,u,m,E,S){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=E,this.hasCachedResults=S}static fromInitialDocuments(e,t,i,s,l){const u=[];return t.forEach(m=>{u.push({type:0,doc:m})}),new pf(e,t,ff.emptySet(t),u,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}class wv{constructor(){this.Nu=void 0,this.listeners=[]}}class Dv{constructor(){this.queries=new lu(e=>L0(e),Cp),this.onlineState="Unknown",this.ku=new Set}}function Qm(n,e){return ig.apply(this,arguments)}function ig(){return ig=(0,U.Z)(function*(n,e){const t=wn(n),i=e.query;let s=!1,l=t.queries.get(i);if(l||(s=!0,l=new wv),s)try{l.Nu=yield t.onListen(i)}catch(u){const m=oh(u,`Initialization of query '${pm(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&Xm(t)}),ig.apply(this,arguments)}function Cv(n,e){return Av.apply(this,arguments)}function Av(){return Av=(0,U.Z)(function*(n,e){const t=wn(n),i=e.query;let s=!1;const l=t.queries.get(i);if(l){const u=l.listeners.indexOf(e);u>=0&&(l.listeners.splice(u,1),s=0===l.listeners.length)}if(s)return t.queries.delete(i),t.onUnlisten(i)}),Av.apply(this,arguments)}function Iv(n,e){const t=wn(n);let i=!1;for(const s of e){const u=t.queries.get(s.query);if(u){for(const m of u.listeners)m.$u(s)&&(i=!0);u.Nu=s}}i&&Xm(t)}function rA(n,e,t){const i=wn(n),s=i.queries.get(e);if(s)for(const l of s.listeners)l.onError(t);i.queries.delete(e)}function Xm(n){n.ku.forEach(e=>{e.next()})}class ud{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)3!==s.type&&i.push(s);e=new pf(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Xb{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Jb{constructor(e){this.serializer=e}rr(e){return zl(this.serializer,e)}ur(e){return e.metadata.exists?Am(this.serializer,e.document,!1):_r.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return us(e)}}class nx{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xv(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=Ki.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new Jb(this.serializer);for(const s of e)if(s.metadata.queries){const l=i.rr(s.metadata.name);for(const u of s.metadata.queries){const m=(t.get(u)||bi()).add(l);t.set(u,m)}}return t}complete(){var e=this;return(0,U.Z)(function*(){const t=yield function Ob(n,e,t,i){return Um.apply(this,arguments)}(e.localStore,new Jb(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const s of e.queries)yield Pb(e.localStore,s,i.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function xv(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Jm{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class e_{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=bi(),this.mutatedKeys=bi(),this.tc=Gl(e),this.ec=new ff(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new Qb,s=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,u=s,m=!1;const E="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,S="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((B,Q)=>{const $e=s.get(B),st=nf(this.query,Q)?Q:null,vt=!!$e&&this.mutatedKeys.has($e.key),Ft=!!st&&(st.hasLocalMutations||this.mutatedKeys.has(st.key)&&st.hasCommittedMutations);let jt=!1;$e&&st?$e.data.isEqual(st.data)?vt!==Ft&&(i.track({type:3,doc:st}),jt=!0):this.rc($e,st)||(i.track({type:2,doc:st}),jt=!0,(E&&this.tc(st,E)>0||S&&this.tc(st,S)<0)&&(m=!0)):!$e&&st?(i.track({type:0,doc:st}),jt=!0):$e&&!st&&(i.track({type:1,doc:$e}),jt=!0,(E||S)&&(m=!0)),jt&&(st?(u=u.add(st),l=Ft?l.add(B):l.delete(B)):(u=u.delete(B),l=l.delete(B)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const B="F"===this.query.limitType?u.last():u.first();u=u.delete(B.key),l=l.delete(B.key),i.track({type:1,doc:B})}return{ec:u,ic:i,zi:m,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((S,B)=>function(Q,$e){const st=vt=>{switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return On()}};return st(Q)-st($e)}(S.type,B.type)||this.tc(S.doc,B.doc)),this.oc(i);const u=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,E=m!==this.Xu;return this.Xu=m,0!==l.length||E?{snapshot:new pf(this.query,e.ec,s,l,e.mutatedKeys,0===m,E,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Qb,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=bi(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new ew(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new Jm(i))}),t}hc(e){this.Yu=e.ir,this.Zu=bi();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return pf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class sA{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tw{constructor(e){this.key=e,this.fc=!1}}class Sv{constructor(e,t,i,s,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new lu(m=>L0(m),Cp),this._c=new Map,this.mc=new Set,this.gc=new Li(En.comparator),this.yc=new Map,this.Ic=new Zy,this.Tc={},this.Ec=new Map,this.Ac=sd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function nw(n,e){return t_.apply(this,arguments)}function t_(){return t_=(0,U.Z)(function*(n,e){const t=lh(n);let i,s;const l=t.wc.get(e);if(l)i=l.targetId,t.sharedClientState.addLocalQueryTarget(i),s=l.view.lc();else{const u=yield mu(t.localStore,xo(e)),m=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,s=yield n_(t,e,i,"current"===m,u.resumeToken),t.isPrimaryClient&&Wm(t.remoteStore,u)}return s}),t_.apply(this,arguments)}function n_(n,e,t,i,s){return i_.apply(this,arguments)}function i_(){return i_=(0,U.Z)(function*(n,e,t,i,s){n.Rc=(Q,$e,st)=>{return(vt=(0,U.Z)(function*(Ft,jt,rn,Sn){let vn=jt.view.sc(rn);vn.zi&&(vn=yield ev(Ft.localStore,jt.query,!1).then(({documents:ri})=>jt.view.sc(ri,vn)));const An=Sn&&Sn.targetChanges.get(jt.targetId),hi=jt.view.applyChanges(vn,Ft.isPrimaryClient,An);return Bv(Ft,jt.targetId,hi.cc),hi.snapshot}),function(Ft,jt,rn,Sn){return vt.apply(this,arguments)})(n,Q,$e,st);var vt};const l=yield ev(n.localStore,e,!0),u=new e_(e,l.ir),m=u.sc(l.documents),E=Ec.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,s),S=u.applyChanges(m,n.isPrimaryClient,E);Bv(n,t,S.cc);const B=new sA(e,t,u);return n.wc.set(e,B),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),S.snapshot}),i_.apply(this,arguments)}function oA(n,e){return Tv.apply(this,arguments)}function Tv(){return Tv=(0,U.Z)(function*(n,e){const t=wn(n),i=t.wc.get(e),s=t._c.get(i.targetId);if(s.length>1)return t._c.set(i.targetId,s.filter(l=>!Cp(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield _u(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),eg(t.remoteStore,i.targetId),gf(t,i.targetId)}).catch(ii))):(gf(t,i.targetId),yield _u(t.localStore,i.targetId,!0))}),Tv.apply(this,arguments)}function Mv(){return Mv=(0,U.Z)(function*(n,e,t){const i=zv(n);try{const s=yield function(l,u){const m=wn(l),E=Ir.now(),S=u.reduce(($e,st)=>$e.add(st.key),bi());let B,Q;return m.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let st=Ha(),vt=bi();return m.Zi.getEntries($e,S).next(Ft=>{st=Ft,st.forEach((jt,rn)=>{rn.isValidDocument()||(vt=vt.add(jt))})}).next(()=>m.localDocuments.getOverlayedDocuments($e,st)).next(Ft=>{B=Ft;const jt=[];for(const rn of u){const Sn=z0(rn,B.get(rn.key).overlayedDocument);null!=Sn&&jt.push(new $l(rn.key,Sn,py(Sn.value.mapValue),Kr.exists(!0)))}return m.mutationQueue.addMutationBatch($e,E,jt,u)}).next(Ft=>{Q=Ft;const jt=Ft.applyToLocalDocumentSet(B,vt);return m.documentOverlayCache.saveOverlays($e,Ft.batchId,jt)})}).then(()=>({batchId:Q.batchId,changes:B0(B)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,m){let E=l.Tc[l.currentUser.toKey()];E||(E=new Li(_i)),E=E.insert(u,m),l.Tc[l.currentUser.toKey()]=E}(i,s.batchId,t),yield yu(i,s.changes),yield hf(i.remoteStore)}catch(s){const l=oh(s,"Failed to persist write");t.reject(l)}}),Mv.apply(this,arguments)}function Rv(n,e){return iw.apply(this,arguments)}function iw(){return iw=(0,U.Z)(function*(n,e){const t=wn(n);try{const i=yield ZC(t.localStore,e);e.targetChanges.forEach((s,l)=>{const u=t.yc.get(l);u&&(Gn(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.fc=!0:s.modifiedDocuments.size>0?Gn(u.fc):s.removedDocuments.size>0&&(Gn(u.fc),u.fc=!1))}),yield yu(t,i,e)}catch(i){yield ii(i)}}),iw.apply(this,arguments)}function Ov(n,e,t){const i=wn(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const s=[];i.wc.forEach((l,u)=>{const m=u.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(l,u){const m=wn(l);m.onlineState=u;let E=!1;m.queries.forEach((S,B)=>{for(const Q of B.listeners)Q.Mu(u)&&(E=!0)}),E&&Xm(m)}(i.eventManager,e),s.length&&i.dc.nu(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function lA(n,e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=(0,U.Z)(function*(n,e,t){const i=wn(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.yc.get(e),l=s&&s.key;if(l){let u=new Li(En.comparator);u=u.insert(l,_r.newNoDocument(l,Wn.min()));const m=bi().add(l),E=new vc(Wn.min(),new Map,new Li(_i),u,m);yield Rv(i,E),i.gc=i.gc.remove(l),i.yc.delete(e),Vv(i)}else yield _u(i.localStore,e,!1).then(()=>gf(i,e,t)).catch(ii)}),Pv.apply(this,arguments)}function ix(n,e){return rw.apply(this,arguments)}function rw(){return rw=(0,U.Z)(function*(n,e){const t=wn(n),i=e.batch.batchId;try{const s=yield YC(t.localStore,e);Nv(t,i,null),Lv(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield yu(t,s)}catch(s){yield ii(s)}}),rw.apply(this,arguments)}function cA(n,e,t){return kv.apply(this,arguments)}function kv(){return kv=(0,U.Z)(function*(n,e,t){const i=wn(n);try{const s=yield function(l,u){const m=wn(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let S;return m.mutationQueue.lookupMutationBatch(E,u).next(B=>(Gn(null!==B),S=B.keys(),m.mutationQueue.removeMutationBatch(E,B))).next(()=>m.mutationQueue.performConsistencyCheck(E)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(E,S,u)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,S)).next(()=>m.localDocuments.getDocuments(E,S))})}(i.localStore,e);Nv(i,e,t),Lv(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield yu(i,s)}catch(s){yield ii(s)}}),kv.apply(this,arguments)}function Fv(){return Fv=(0,U.Z)(function*(n,e){const t=wn(n);ld(t.remoteStore)||ln("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(l){const u=wn(l);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>u.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===i)return void e.resolve();const s=t.Ec.get(i)||[];s.push(e),t.Ec.set(i,s)}catch(i){const s=oh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),Fv.apply(this,arguments)}function Lv(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function Nv(n,e,t){const i=wn(n);let s=i.Tc[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Tc[i.currentUser.toKey()]=s}}function gf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||sw(n,i)})}function sw(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(eg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Vv(n))}function Bv(n,e,t){for(const i of t)i instanceof Jm?(n.Ic.addReference(i.key,e),dA(n,i)):i instanceof ew?(ln("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||sw(n,i.key)):On()}function dA(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(ln("SyncEngine","New document in limbo: "+t),n.mc.add(i),Vv(n))}function Vv(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new En(Ki.fromString(e)),i=n.Ac.next();n.yc.set(i,new tw(t)),n.gc=n.gc.insert(t,i),Wm(n.remoteStore,new bc(xo(tf(t.path)),i,"TargetPurposeLimboResolution",Gs.ct))}}function yu(n,e,t){return ah.apply(this,arguments)}function ah(){return ah=(0,U.Z)(function*(n,e,t){const i=wn(n),s=[],l=[],u=[];var m;i.wc.isEmpty()||(i.wc.forEach((m,E)=>{u.push(i.Rc(E,e,t).then(S=>{if((S||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(E.targetId,S?.fromCache?"not-current":"current"),S){s.push(S);const B=Yp.Li(E.targetId,S);l.push(B)}}))}),yield Promise.all(u),i.dc.nu(s),yield(m=(0,U.Z)(function*(E,S){const B=wn(E);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",Q=>At.forEach(S,$e=>At.forEach($e.Fi,st=>B.persistence.referenceDelegate.addReference(Q,$e.targetId,st)).next(()=>At.forEach($e.Bi,st=>B.persistence.referenceDelegate.removeReference(Q,$e.targetId,st)))))}catch(Q){if(!$u(Q))throw Q;ln("LocalStore","Failed to update sequence numbers: "+Q)}for(const Q of S){const $e=Q.targetId;if(!Q.fromCache){const st=B.Ji.get($e),Ft=st.withLastLimboFreeSnapshotVersion(st.snapshotVersion);B.Ji=B.Ji.insert($e,Ft)}}}),function(E,S){return m.apply(this,arguments)})(i.localStore,l))}),ah.apply(this,arguments)}function ow(n,e){return r_.apply(this,arguments)}function r_(){return r_=(0,U.Z)(function*(n,e){const t=wn(n);if(!t.currentUser.isEqual(e)){ln("SyncEngine","User change. New user:",e.toKey());const i=yield qC(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(u=>{u.forEach(m=>{m.reject(new en(kt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield yu(t,i.er)}var s}),r_.apply(this,arguments)}function aw(n,e){const t=wn(n),i=t.yc.get(e);if(i&&i.fc)return bi().add(i.key);{let s=bi();const l=t._c.get(e);if(!l)return s;for(const u of l){const m=t.wc.get(u);s=s.unionWith(m.view.nc)}return s}}function lw(n,e){return s_.apply(this,arguments)}function s_(){return s_=(0,U.Z)(function*(n,e){const t=wn(n),i=yield ev(t.localStore,e.query,!0),s=e.view.hc(i);return t.isPrimaryClient&&Bv(t,e.targetId,s.cc),s}),s_.apply(this,arguments)}function hA(n,e){return Uv.apply(this,arguments)}function Uv(){return Uv=(0,U.Z)(function*(n,e){const t=wn(n);return nv(t.localStore,e).then(i=>yu(t,i))}),Uv.apply(this,arguments)}function rx(n,e,t,i){return jv.apply(this,arguments)}function jv(){return jv=(0,U.Z)(function*(n,e,t,i){const s=wn(n),l=yield function(u,m){const E=wn(u),S=wn(E.mutationQueue);return E.persistence.runTransaction("Lookup mutation documents","readonly",B=>S.Sn(B,m).next(Q=>Q?E.localDocuments.getDocuments(B,Q):At.resolve(null)))}(s.localStore,e);var m;null!==l?("pending"===t?yield hf(s.remoteStore):"acknowledged"===t||"rejected"===t?(Nv(s,e,i||null),Lv(s,e),m=e,wn(wn(s.localStore).mutationQueue).Cn(m)):On(),yield yu(s,l)):ln("SyncEngine","Cannot apply mutation batch with id: "+e)}),jv.apply(this,arguments)}function Gv(){return Gv=(0,U.Z)(function*(n,e){const t=wn(n);if(lh(t),zv(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),s=yield cw(t,i.toArray());t.vc=!0,yield Ev(t.remoteStore,!0);for(const l of s)Wm(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const i=[];let s=Promise.resolve();t._c.forEach((l,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then(()=>(gf(t,u),_u(t.localStore,u,!0))),eg(t.remoteStore,u)}),yield s,yield cw(t,i),function(l){const u=wn(l);u.yc.forEach((m,E)=>{eg(u.remoteStore,E)}),u.Ic.Ts(),u.yc=new Map,u.gc=new Li(En.comparator)}(t),t.vc=!1,yield Ev(t.remoteStore,!1)}}),Gv.apply(this,arguments)}function cw(n,e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=(0,U.Z)(function*(n,e,t){const i=wn(n),s=[],l=[];for(const u of e){let m;const E=i._c.get(u);if(E&&0!==E.length){m=yield mu(i.localStore,xo(E[0]));for(const S of E){const B=i.wc.get(S),Q=yield lw(i,B);Q.snapshot&&l.push(Q.snapshot)}}else{const S=yield tv(i.localStore,u);m=yield mu(i.localStore,S),yield n_(i,mf(S),u,!1,m.resumeToken)}s.push(m)}return i.dc.nu(l),s}),Hv.apply(this,arguments)}function mf(n){return SC(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pA(n){const e=wn(n);return wn(wn(e.localStore).persistence).$i()}function $v(n,e,t,i){return _l.apply(this,arguments)}function _l(){return _l=(0,U.Z)(function*(n,e,t,i){const s=wn(n);if(s.vc)return void ln("SyncEngine","Ignoring unexpected query state notification.");const l=s._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const u=yield nv(s.localStore,N0(l[0])),m=vc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Cs.EMPTY_BYTE_STRING);yield yu(s,u,m);break}case"rejected":yield _u(s.localStore,e,!0),gf(s,e,i);break;default:On()}}),_l.apply(this,arguments)}function gA(n,e,t){return _f.apply(this,arguments)}function _f(){return _f=(0,U.Z)(function*(n,e,t){const i=lh(n);if(i.vc){for(const s of e){if(i._c.has(s)){ln("SyncEngine","Adding an already active target "+s);continue}const l=yield tv(i.localStore,s),u=yield mu(i.localStore,l);yield n_(i,mf(l),u.targetId,!1,u.resumeToken),Wm(i.remoteStore,u)}for(const s of t)i._c.has(s)&&(yield _u(i.localStore,s,!1).then(()=>{eg(i.remoteStore,s),gf(i,s)}).catch(ii))}}),_f.apply(this,arguments)}function lh(n){const e=wn(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lA.bind(null,e),e.dc.nu=Iv.bind(null,e.eventManager),e.dc.Pc=rA.bind(null,e.eventManager),e}function zv(n){const e=wn(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ix.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cA.bind(null,e),e}class rg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,U.Z)(function*(){t.serializer=Xp(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Jy(this.persistence,new KC,e.initialUser,this.serializer)}createPersistence(e){return new Bm(Wp.zs,this.serializer)}createSharedClientState(e){return new sv}terminate(){var e=this;return(0,U.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yf extends rg{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,U.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield zv(i.Vc.syncEngine),yield hf(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Jy(this.persistence,new KC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Yy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new w0(t,this.persistence);return new b0(e.asyncQueue,i)}createPersistence(e){const t=Sb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new Xy(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,ov(),Qp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new sv}}class uw extends yf{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,U.Z)(function*(){yield t().call(i,e);const s=i.Vc.syncEngine;i.sharedClientState instanceof Hm&&(i.sharedClientState.syncEngine={jr:rx.bind(null,s),zr:$v.bind(null,s),Wr:gA.bind(null,s),$i:pA.bind(null,s),Qr:hA.bind(null,s)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var l=(0,U.Z)(function*(u){yield function fA(n,e){return Gv.apply(this,arguments)}(i.Vc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=ov();if(!Hm.D(t))throw new en(kt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Sb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Hm(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class vf{initialize(e,t){var i=this;return(0,U.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>Ov(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=ow.bind(null,i.syncEngine),yield Ev(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dv}createDatastore(e){const t=Xp(e.databaseInfo.databaseId),i=new Bb(e.databaseInfo);return new ex(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,s=e.asyncQueue,l=m=>Ov(this.syncEngine,m,0),u=Nb.D()?new Nb:new Lb,new zm(t,i,s,l,u);var t,i,s,l,u}createSyncEngine(e,t){return function(i,s,l,u,m,E,S){const B=new Sv(i,s,l,u,m,E);return S&&(B.vc=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,U.Z)(function*(t){const i=wn(t);ln("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ih(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Wv(n,e=10240){let t=0;return{read:()=>(0,U.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,U.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Kv{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new cs,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,U.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,U.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,U.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),s=Number(i);isNaN(s)&&e.Mc(`length string (${i}) is not valid number`);const l=yield e.$c(s);return new Xb(JSON.parse(l),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,U.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,U.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,U.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class dw{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,U.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new en(kt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(s=(0,U.Z)(function*(l,u){const m=wn(l),E=Np(m.serializer)+"/documents",S={documents:u.map(st=>Fp(m.serializer,st))},B=yield m.vo("BatchGetDocuments",E,S,u.length),Q=new Map;B.forEach(st=>{const vt=function kC(n,e){return"found"in e?function(t,i){Gn(!!i.found);const s=zl(t,i.found.name),l=us(i.found.updateTime),u=i.found.createTime?us(i.found.createTime):Wn.min(),m=new co({mapValue:{fields:i.found.fields}});return _r.newFoundDocument(s,l,u,m)}(n,e):"missing"in e?function(t,i){Gn(!!i.missing),Gn(!!i.readTime);const s=zl(t,i.missing),l=us(i.readTime);return _r.newNoDocument(s,l)}(n,e):On()}(m.serializer,st);Q.set(vt.key.toString(),vt)});const $e=[];return u.forEach(st=>{const vt=Q.get(st.toString());Gn(!!vt),$e.push(vt)}),$e}),function(l,u){return s.apply(this,arguments)})(t.datastore,e);var s;return i.forEach(s=>t.recordVersion(s)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new sf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,U.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,s)=>{const l=En.fromPath(s);e.mutations.push(new Ay(l,e.precondition(l)))}),yield(i=(0,U.Z)(function*(s,l){const u=wn(s),m=Np(u.serializer)+"/documents",E={writes:l.map(S=>Zu(u.serializer,S))};yield u.Io("Commit",m,E)}),function(s,l){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw On();t=Wn.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new en(kt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Wn.min())?Kr.exists(!1):Kr.updateTime(t):Kr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wn.min()))throw new en(kt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Kr.updateTime(t)}return Kr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _A{constructor(e,t,i,s,l){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=l,this.Bc=i.maxAttempts,this.qo=new $m(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,U.Z)(function*(){const t=new dw(e.datastore),i=e.qc(t);i&&i.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(l=>{e.Uc(l)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!gp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!wm(t)}return!1}}class yA{constructor(e,t,i,s){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Jr.UNAUTHENTICATED,this.clientId=h0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,U.Z)(function*(m){ln("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(ln("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,U.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new en(kt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,U.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=oh(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function qv(n,e){return og.apply(this,arguments)}function og(){return og=(0,U.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ln("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,U.Z)(function*(l){i.isEqual(l)||(yield qC(e.localStore,l),i=l)});return function(l){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),og.apply(this,arguments)}function ag(n,e){return a_.apply(this,arguments)}function a_(){return a_=(0,U.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield lg(n);ln("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(s=>Zb(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,l)=>Zb(e.remoteStore,l)),n._onlineComponents=e}),a_.apply(this,arguments)}function l_(n){return"FirebaseError"===n.name?n.code===kt.FAILED_PRECONDITION||n.code===kt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function lg(n){return Yv.apply(this,arguments)}function Yv(){return Yv=(0,U.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ln("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!l_(t))throw t;hl("Error using user provided cache. Falling back to memory cache: "+t),yield qv(n,new rg)}}else ln("FirestoreClient","Using default OfflineComponentProvider"),yield qv(n,new rg);return n._offlineComponents}),Yv.apply(this,arguments)}function c_(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,U.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ln("FirestoreClient","Using user provided OnlineComponentProvider"),yield ag(n,n._uninitializedComponentsProvider._online)):(ln("FirestoreClient","Using default OnlineComponentProvider"),yield ag(n,new vf))),n._onlineComponents}),Zv.apply(this,arguments)}function hw(n){return lg(n).then(e=>e.persistence)}function cg(n){return lg(n).then(e=>e.localStore)}function u_(n){return c_(n).then(e=>e.remoteStore)}function d_(n){return c_(n).then(e=>e.syncEngine)}function ch(n){return h_.apply(this,arguments)}function h_(){return h_=(0,U.Z)(function*(n){const e=yield c_(n),t=e.eventManager;return t.onListen=nw.bind(null,e.syncEngine),t.onUnlisten=oA.bind(null,e.syncEngine),t}),h_.apply(this,arguments)}function gw(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return function(s,l,u,m,E){const S=new sg({next:Q=>{l.enqueueAndForget(()=>Cv(s,B));const $e=Q.docs.has(u);!$e&&Q.fromCache?E.reject(new en(kt.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&Q.fromCache&&m&&"server"===m.source?E.reject(new en(kt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(Q)},error:Q=>E.reject(Q)}),B=new ud(tf(u.path),S,{includeMetadataChanges:!0,Ku:!0});return Qm(s,B)}(yield ch(n),n.asyncQueue,e,t,i)})),i.promise}function _w(n,e,t={}){const i=new cs;return n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return function(s,l,u,m,E){const S=new sg({next:Q=>{l.enqueueAndForget(()=>Cv(s,B)),Q.fromCache&&"server"===m.source?E.reject(new en(kt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(Q)},error:Q=>E.reject(Q)}),B=new ud(u,S,{includeMetadataChanges:!0,Ku:!0});return Qm(s,B)}(yield ch(n),n.asyncQueue,e,t,i)})),i.promise}function wA(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const DA=new Map;function f_(n,e,t){if(!t)throw new en(kt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Xv(n,e,t,i){if(!0===e&&!0===i)throw new en(kt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bf(n){if(!En.isDocumentKey(n))throw new en(kt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yw(n){if(En.isDocumentKey(n))throw new en(kt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wf(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":On()}function Bi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new en(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wf(n);throw new en(kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Jv(n,e){if(e<=0)throw new en(kt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class vw{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new en(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new en(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Xv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wA(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new en(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new en(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new en(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new en(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new en(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vw(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new JD;switch(t.type){case"firstParty":return new iC(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new en(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=DA.get(e);t&&(ln("ComponentProvider","Removing Datastore"),DA.delete(e),t.terminate())}(this),Promise.resolve()}}function Ew(n,e,t,i={}){var s;const l=(n=Bi(n,ug))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==u&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),i.mockUserToken){let m,E;if("string"==typeof i.mockUserToken)m=i.mockUserToken,E=Jr.MOCK_USER;else{m=(0,De.Sg)(i.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new en(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Jr(S)}n._authCredentials=new eC(new $h(m,E))}}class yr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class eo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class Wl extends eo{constructor(e,t,i){super(e,t,tf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new En(e))}withConverter(e){return new Wl(this.firestore,e,this._path)}}function dg(n,e,...t){if(n=(0,De.m9)(n),f_("collection","path",e),n instanceof ug){const i=Ki.fromString(e,...t);return yw(i),new Wl(n,null,i)}{if(!(n instanceof yr||n instanceof Wl))throw new en(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ki.fromString(e,...t));return yw(i),new Wl(n.firestore,null,i)}}function tE(n,e,...t){if(n=(0,De.m9)(n),1===arguments.length&&(e=h0.A()),f_("doc","path",e),n instanceof ug){const i=Ki.fromString(e,...t);return bf(i),new yr(n,null,new En(i))}{if(!(n instanceof yr||n instanceof Wl))throw new en(kt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ki.fromString(e,...t));return bf(i),new yr(n.firestore,n instanceof Wl?n.converter:null,new En(i))}}function nE(n,e){return n=(0,De.m9)(n),e=(0,De.m9)(e),(n instanceof yr||n instanceof Wl)&&(e instanceof yr||e instanceof Wl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function iE(n,e){return n=(0,De.m9)(n),e=(0,De.m9)(e),n instanceof eo&&e instanceof eo&&n.firestore===e.firestore&&Cp(n._query,e._query)&&n.converter===e.converter}class bw{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $m(this,"async_queue_retry"),this.Xc=()=>{const t=Qp();t&&ln("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=Qp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Qp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new cs;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,U.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!$u(t))throw t;ln("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,es("INTERNAL UNHANDLED ERROR: ",function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),u}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=bv.createAndSchedule(this,e,t,i,l=>this.na(l));return this.zc.push(s),s}Zc(){this.Wc&&On()}verifyOperationInProgress(){}sa(){var e=this;return(0,U.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function dd(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class CA{constructor(){this._progressObserver={},this._taskCompletionResolver=new cs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class vr extends ug{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new bw,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Dw(this),this._firestoreClient.terminate()}}function AA(n,e){const t="object"==typeof n?n:(0,Re.getApp)(),i="string"==typeof n?n:e||"(default)",s=(0,Re._getProvider)(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=(0,De.P0)("firestore");l&&Ew(s,...l)}return s}function xs(n){return n._firestoreClient||Dw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Dw(n){var e,t,i;const s=n._freezeSettings(),l=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wC(n._databaseId,m,n._persistenceKey,(S=s).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,wA(S.experimentalLongPollingOptions),S.useFetchStreams));var m,S;n._firestoreClient=new yA(n._authCredentials,n._appCheckCredentials,n._queue,l),(null===(t=s.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(i=s.cache)||void 0===i?void 0:i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function rE(n,e,t){const i=new cs;return n.asyncQueue.enqueue((0,U.Z)(function*(){try{yield qv(n,t),yield ag(n,e),i.resolve()}catch(s){const l=s;if(!l_(l))throw l;hl("Error enabling indexeddb cache. Falling back to memory cache: "+l),i.reject(l)}})).then(()=>i.promise)}function Sw(n){if(n._initialized||n._terminated)throw new en(kt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(Cs.fromBase64String(e))}catch(t){throw new en(kt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kl(Cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new en(kt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uh{constructor(e){this._methodName=e}}class sE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new en(kt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new en(kt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _i(this._lat,e._lat)||_i(this._long,e._long)}}const Mw=/^__.*__$/;class ax{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new $l(e,this.data,this.fieldMask,t,this.fieldTransforms):new rf(e,this.data,t,this.fieldTransforms)}}class MA{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new $l(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function RA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw On()}}class oE{constructor(e,t,i,s,l,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new oE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:i,la:!1});return s.fa(e),s}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:i,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(RA(this.ca)&&Mw.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class lx{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xp(e)}ya(e,t,i,s=!1){return new oE({ca:e,methodName:t,ga:i,path:ts.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cf(n){const e=n._freezeSettings(),t=Xp(n._databaseId);return new lx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function aE(n,e,t,i,s,l={}){const u=n.ya(l.merge||l.mergeFields?2:0,e,t,s);Lw("Data must be an object, but it was:",u,i);const m=Fw(i,u);let E,S;if(l.merge)E=new Yo(u.fieldMask),S=u.fieldTransforms;else if(l.mergeFields){const B=[];for(const Q of l.mergeFields){const $e=fg(e,Q,t);if(!u.contains($e))throw new en(kt.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);Nw(B,$e)||B.push($e)}E=new Yo(B),S=u.fieldTransforms.filter(Q=>E.covers(Q.field))}else E=null,S=u.fieldTransforms;return new ax(new co(m),E,S)}class p_ extends uh{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof p_}}function hg(n,e,t){return new oE({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Rw extends uh{_toFieldTransform(e){return new Tp(e.path,new ua)}isEqual(e){return e instanceof Rw}}class Ow extends uh{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hg(this,e,!0),i=this.pa.map(l=>hd(l,t)),s=new _c(i);return new Tp(e.path,s)}isEqual(e){return this===e}}class g_ extends uh{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hg(this,e,!0),i=this.pa.map(l=>hd(l,t)),s=new Hl(i);return new Tp(e.path,s)}isEqual(e){return this===e}}class Pw extends uh{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new qu(e.serializer,wy(e.serializer,this.Ia));return new Tp(e.path,t)}isEqual(e){return this===e}}function m_(n,e,t,i){const s=n.ya(1,e,t);Lw("Data must be an object, but it was:",s,i);const l=[],u=co.empty();nu(i,(E,S)=>{const B=y_(e,E,t);S=(0,De.m9)(S);const Q=s.da(B);if(S instanceof p_)l.push(B);else{const $e=hd(S,Q);null!=$e&&(l.push(B),u.set(B,$e))}});const m=new Yo(l);return new MA(u,m,s.fieldTransforms)}function kw(n,e,t,i,s,l){const u=n.ya(1,e,t),m=[fg(e,i,t)],E=[s];if(l.length%2!=0)throw new en(kt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<l.length;$e+=2)m.push(fg(e,l[$e])),E.push(l[$e+1]);const S=[],B=co.empty();for(let $e=m.length-1;$e>=0;--$e)if(!Nw(S,m[$e])){const st=m[$e];let vt=E[$e];vt=(0,De.m9)(vt);const Ft=u.da(st);if(vt instanceof p_)S.push(st);else{const jt=hd(vt,Ft);null!=jt&&(S.push(st),B.set(st,jt))}}const Q=new Yo(S);return new MA(B,Q,u.fieldTransforms)}function __(n,e,t,i=!1){return hd(t,n.ya(i?4:3,e))}function hd(n,e){if(lE(n=(0,De.m9)(n)))return Lw("Unsupported field value:",e,n),Fw(n,e);if(n instanceof uh)return function(t,i){if(!RA(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const s=[];let l=0;for(const u of t){let m=hd(u,i.wa(l));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),l++}return{arrayValue:{values:s}}}(n,e)}return function(t,i){if(null===(t=(0,De.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return wy(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Ir.fromDate(t);return{timestampValue:Yd(i.serializer,s)}}if(t instanceof Ir){const s=new Ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,s)}}if(t instanceof sE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Kl)return{bytesValue:Sy(i.serializer,t._byteString)};if(t instanceof yr){const s=i.databaseId,l=t.firestore._databaseId;if(!l.isEqual(s))throw i._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ty(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${wf(t)}`)}(n,e)}function Fw(n,e){const t={};return _p(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nu(n,(i,s)=>{const l=hd(s,e.ha(i));null!=l&&(t[i]=l)}),{mapValue:{fields:t}}}function lE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ir||n instanceof sE||n instanceof Kl||n instanceof yr||n instanceof uh)}function Lw(n,e,t){if(!lE(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=wf(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function fg(n,e,t){if((e=(0,De.m9)(e))instanceof wc)return e._internalPath;if("string"==typeof e)return y_(n,e);throw dh("Field path arguments must be of type string or ",n,!1,void 0,t)}const OA=new RegExp("[~\\*/\\[\\]]");function y_(n,e,t){if(e.search(OA)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wc(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dh(n,e,t,i,s){const l=i&&!i.isEmpty(),u=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||u)&&(E+=" (found",l&&(E+=` in field ${i}`),u&&(E+=` in document ${s}`),E+=")"),new en(kt.INVALID_ARGUMENT,m+n+E)}function Nw(n,e){return n.some(t=>t.isEqual(e))}class v_{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cx extends v_{data(){return super.data()}}function cE(n,e){return"string"==typeof e?y_(n,e):e instanceof wc?e._internalPath:e._delegate._internalPath}function Bw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new en(kt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uE{}class pg extends uE{}function hh(n,e,...t){let i=[];e instanceof uE&&i.push(e),i=i.concat(t),function(s){const l=s.filter(m=>m instanceof fh).length,u=s.filter(m=>m instanceof gg).length;if(l>1||l>0&&u>0)throw new en(kt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class gg extends pg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new gg(e,t,i)}_apply(e){const t=this._parse(e);return Hw(e._query,t),new eo(e.firestore,e.converter,vy(e._query,t))}_parse(e){const t=Cf(e.firestore);return function(s,l,u,m,E,S,B){let Q;if(E.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new en(kt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){pE(B,S);const $e=[];for(const st of B)$e.push(fE(m,s,st));Q={arrayValue:{values:$e}}}else Q=fE(m,s,B)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||pE(B,S),Q=__(u,"where",B,"in"===S||"not-in"===S);return Ni.create(E,S,Q)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class fh extends uE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new fh(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:or.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let l=i;const u=s.getFlattenedFilters();for(const m of u)Hw(l,m),l=vy(l,m)}(e._query,t),new eo(e.firestore,e.converter,vy(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class dE extends pg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dE(e,t)}_apply(e){const t=function(i,s,l){if(null!==i.startAt)throw new en(kt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new en(kt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Ga(s,l);return function(m,E){if(null===hm(m)){const S=fm(m);null!==S&&gE(0,S,E.field)}}(i,u),u}(e._query,this._field,this._direction);return new eo(e.firestore,e.converter,function(i,s){const l=i.explicitOrderBy.concat([s]);return new au(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class E_ extends pg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new E_(e,t,i)}_apply(e){return new eo(e.firestore,e.converter,Dp(e._query,this._limit,this._limitType))}}class Af extends pg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Af(e,t,i)}_apply(e){const t=Gw(e,this.type,this._docOrFields,this._inclusive);return new eo(e.firestore,e.converter,(s=t,new au((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class If extends pg{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new If(e,t,i)}_apply(e){const t=Gw(e,this.type,this._docOrFields,this._inclusive);return new eo(e.firestore,e.converter,(s=t,new au((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function Gw(n,e,t,i){if(t[0]=(0,De.m9)(t[0]),t[0]instanceof v_)return function(s,l,u,m,E){if(!m)throw new en(kt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const S=[];for(const B of Hd(s))if(B.field.isKeyField())S.push(Qh(l,m.key));else{const Q=m.data.field(B.field);if(qh(Q))throw new en(kt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+B.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Q){const $e=B.field.canonicalString();throw new en(kt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$e}' (used as the orderBy) does not exist.`)}S.push(Q)}return new ou(S,E)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=Cf(n.firestore);return function(l,u,m,E,S,B){const Q=l.explicitOrderBy;if(S.length>Q.length)throw new en(kt.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $e=[];for(let st=0;st<S.length;st++){const vt=S[st];if(Q[st].field.isKeyField()){if("string"!=typeof vt)throw new en(kt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof vt}`);if(!yy(l)&&-1!==vt.indexOf("/"))throw new en(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${vt}' contains a slash.`);const Ft=l.path.child(Ki.fromString(vt));if(!En.isDocumentKey(Ft))throw new en(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Ft}' is not because it contains an odd number of segments.`);const jt=new En(Ft);$e.push(Qh(u,jt))}else{const Ft=__(m,E,vt);$e.push(Ft)}}return new ou($e,B)}(n._query,n.firestore._databaseId,s,e,t,i)}}function fE(n,e,t){if("string"==typeof(t=(0,De.m9)(t))){if(""===t)throw new en(kt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yy(e)&&-1!==t.indexOf("/"))throw new en(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ki.fromString(t));if(!En.isDocumentKey(i))throw new en(kt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Qh(n,new En(i))}if(t instanceof yr)return Qh(n,t._key);throw new en(kt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wf(t)}.`)}function pE(n,e){if(!Array.isArray(n)||0===n.length)throw new en(kt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Hw(n,e){if(e.isInequality()){const i=fm(n),s=e.field;if(null!==i&&!i.isEqual(s))throw new en(kt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const l=hm(n);null!==l&&gE(0,s,l)}const t=function(i,s){for(const l of i)for(const u of l.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new en(kt.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gE(n,e,t){if(!t.isEqual(e))throw new en(kt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class mg{convertValue(e,t="none"){switch(iu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw On()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return nu(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertGeoPoint(e){return new sE(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Yh(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(em(e));default:return null}}convertTimestamp(e){const t=Ul(e);return new Ir(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ki.fromString(e);Gn(Py(i));const s=new Wu(i.get(1),i.get(3)),l=new En(i.popFirst(5));return s.isEqual(t)||es(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function ql(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class zw extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}class ph{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends v_{constructor(e,t,i,s,l,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _g(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(cE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _g extends vu{data(e={}){return super.data(e)}}class Eu{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ph(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _g(this._firestore,this._userDataWriter,i.key,i,new ph(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new en(kt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new _g(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ph(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:l++}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>s||3!==u.type).map(u=>{const m=new _g(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ph(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let E=-1,S=-1;return 0!==u.type&&(E=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),1!==u.type&&(l=l.add(u.doc),S=l.indexOf(u.doc.key)),{type:dx(u.type),doc:m,oldIndex:E,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return On()}}function mE(n,e){return n instanceof vu&&e instanceof vu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Eu&&e instanceof Eu&&n._firestore===e._firestore&&iE(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class bu extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function yE(n,e,t){n=Bi(n,yr);const i=Bi(n.firestore,vr),s=ql(n.converter,e,t);return gh(i,[aE(Cf(i),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Kr.none())])}function vE(n,e,t,...i){n=Bi(n,yr);const s=Bi(n.firestore,vr),l=Cf(s);let u;return u="string"==typeof(e=(0,De.m9)(e))||e instanceof wc?kw(l,"updateDoc",n._key,e,t,i):m_(l,"updateDoc",n._key,e),gh(s,[u.toMutation(n._key,Kr.exists(!0))])}function EE(n,...e){var t,i,s;n=(0,De.m9)(n);let l={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||dd(e[u])||(l=e[u],u++);const m={includeMetadataChanges:l.includeMetadataChanges};if(dd(e[u])){const Q=e[u];e[u]=null===(t=Q.next)||void 0===t?void 0:t.bind(Q),e[u+1]=null===(i=Q.error)||void 0===i?void 0:i.bind(Q),e[u+2]=null===(s=Q.complete)||void 0===s?void 0:s.bind(Q)}let E,S,B;if(n instanceof yr)S=Bi(n.firestore,vr),B=tf(n._key.path),E={next:Q=>{e[u]&&e[u](D_(S,n,Q))},error:e[u+1],complete:e[u+2]};else{const Q=Bi(n,eo);S=Bi(Q.firestore,vr),B=Q._query;const $e=new bu(S);E={next:st=>{e[u]&&e[u](new Eu(S,$e,Q,st))},error:e[u+1],complete:e[u+2]},Bw(n._query)}return function(Q,$e,st,vt){const Ft=new sg(vt),jt=new ud($e,Ft,st);return Q.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return Qm(yield ch(Q),jt)})),()=>{Ft.Dc(),Q.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return Cv(yield ch(Q),jt)}))}}(xs(S),B,m,E)}function gh(n,e){return function(t,i){const s=new cs;return t.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return function aA(n,e,t){return Mv.apply(this,arguments)}(yield d_(t),i,s)})),s.promise}(xs(n),e)}function D_(n,e,t){const i=t.docs.get(e._key),s=new bu(n);return new vu(n,s,e._key,i,new ph(t.hasPendingWrites,t.fromCache),e.converter)}const C_={maxAttempts:5};class Qw{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cf(e)}set(e,t,i){this._verifyNotCommitted();const s=pd(e,this._firestore),l=ql(s.converter,t,i),u=aE(this._dataReader,"WriteBatch.set",s._key,l,null!==s.converter,i);return this._mutations.push(u.toMutation(s._key,Kr.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const l=pd(e,this._firestore);let u;return u="string"==typeof(t=(0,De.m9)(t))||t instanceof wc?kw(this._dataReader,"WriteBatch.update",l._key,t,i,s):m_(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Kr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pd(e,this._firestore);return this._mutations=this._mutations.concat(new sf(t._key,Kr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new en(kt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pd(n,e){if((n=(0,De.m9)(n)).firestore!==e)throw new en(kt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Xw extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cf(e)}get(e){const t=pd(e,this._firestore),i=new zw(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return On();const l=s[0];if(l.isFoundDocument())return new v_(this._firestore,i,l.key,l,t.converter);if(l.isNoDocument())return new v_(this._firestore,i,t._key,null,t.converter);throw On()})}set(e,t,i){const s=pd(e,this._firestore),l=ql(s.converter,t,i),u=aE(this._dataReader,"Transaction.set",s._key,l,null!==s.converter,i);return this._transaction.set(s._key,u),this}update(e,t,i,...s){const l=pd(e,this._firestore);let u;return u="string"==typeof(t=(0,De.m9)(t))||t instanceof wc?kw(this._dataReader,"Transaction.update",l._key,t,i,s):m_(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,u),this}delete(e){const t=pd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pd(e,this._firestore),i=new bu(this._firestore);return super.get(e).then(s=>new vu(this._firestore,i,t._key,s._document,new ph(!1,!1),t.converter))}}function tD(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new en("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function AE(){if(typeof Uint8Array>"u")throw new en("unimplemented","Uint8Arrays are not available in this environment.")}function nD(){if(!function WI(){return typeof atob<"u"}())throw new en("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hh=Re.SDK_VERSION,(0,Re._registerComponent)(new Te.wA("firestore",(t,{instanceIdentifier:i,options:s})=>{const l=t.getProvider("app").getImmediate(),u=new vr(new tC(t.getProvider("auth-internal")),new rC(t.getProvider("app-check-internal")),function(m,E){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new en(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wu(m.options.projectId,E)}(l,i),l);return s=Object.assign({useFetchStreams:e},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),(0,Re.registerVersion)(c0,"3.13.0",n),(0,Re.registerVersion)(c0,"3.13.0","esm2017")}();class yg{constructor(e){this._delegate=e}static fromBase64String(e){return nD(),new yg(Kl.fromBase64String(e))}static fromUint8Array(e){return AE(),new yg(Kl.fromUint8Array(e))}toBase64(){return nD(),this._delegate.toBase64()}toUint8Array(){return AE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IE(n){return function HA(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class iD{enableIndexedDbPersistence(e,t){return function IA(n,e){Sw(n=Bi(n,vr));const t=xs(n);if(t._uninitializedComponentsProvider)throw new en(kt.FAILED_PRECONDITION,"SDK cache is already specified.");hl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),s=new vf;return rE(t,s,new yf(s,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function xA(n){Sw(n=Bi(n,vr));const e=xs(n);if(e._uninitializedComponentsProvider)throw new en(kt.FAILED_PRECONDITION,"SDK cache is already specified.");hl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new vf;return rE(e,i,new uw(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Cw(n){if(n._initialized&&!n._terminated)throw new en(kt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,U.Z)(function*(){try{yield(t=(0,U.Z)(function*(i){if(!Vl.D())return Promise.resolve();const s=i+"main";yield Vl.delete(s)}),function(i){return t.apply(this,arguments)})(Sb(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class xE{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&hl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){Ew(this._delegate,e,t,i)}enableNetwork(){return function Aw(n){return function vA(n){return n.asyncQueue.enqueue((0,U.Z)(function*(){const e=yield hw(n),t=yield u_(n);return e.setNetworkEnabled(!0),function(i){const s=wn(i);return s.vu.delete(0),Jp(s)}(t)}))}(xs(n=Bi(n,vr)))}(this._delegate)}disableNetwork(){return function Iw(n){return function fw(n){return n.asyncQueue.enqueue((0,U.Z)(function*(){const e=yield hw(n),t=yield u_(n);return e.setNetworkEnabled(!1),(i=(0,U.Z)(function*(s){const l=wn(s);l.vu.add(0),yield ih(l),l.bu.set("Offline")}),function(s){return i.apply(this,arguments)})(t);var i}))}(xs(n=Bi(n,vr)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Xv("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function SA(n){return function(e){const t=new cs;return e.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return function uA(n,e){return Fv.apply(this,arguments)}(yield d_(e),t)})),t.promise}(xs(n=Bi(n,vr)))}(this._delegate)}onSnapshotsInSync(e){return function BA(n,e){return function Zo(n,e){const t=new sg(e);return n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return i=yield ch(n),s=t,wn(i).ku.add(s),void s.next();var i,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return i=yield ch(n),s=t,void wn(i).ku.delete(s);var i,s}))}}(xs(n=Bi(n,vr)),dd(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new en("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xf(this,dg(this._delegate,e))}catch(t){throw To(t,"collection()","Firestore.collection()")}}doc(e){try{return new Yl(this,tE(this._delegate,e))}catch(t){throw To(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new da(this,function eE(n,e){if(n=Bi(n,ug),f_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new en(kt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new eo(n,null,(t=e,new au(Ki.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw To(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function mh(n,e,t){n=Bi(n,vr);const i=Object.assign(Object.assign({},C_),t);return function(s){if(s.maxAttempts<1)throw new en(kt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(s,l,u){const m=new cs;return s.asyncQueue.enqueueAndForget((0,U.Z)(function*(){const E=yield function Qv(n){return c_(n).then(e=>e.datastore)}(s);new _A(s.asyncQueue,E,u,l,m).run()})),m.promise}(xs(n),s=>e(new Xw(n,s)),i)}(this._delegate,t=>e(new rD(this,t)))}batch(){return xs(this._delegate),new SE(new Qw(this._delegate,e=>gh(this._delegate,e)))}loadBundle(e){return function TA(n,e){const t=xs(n=Bi(n,vr)),i=new CA;return function Ef(n,e,t,i){const s=function(l,u){let m;return m="string"==typeof l?uo().encode(l):l,E=function(E,S){if(E instanceof Uint8Array)return Wv(E,S);if(E instanceof ArrayBuffer)return Wv(new Uint8Array(E),S);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new Kv(E,u);var E}(t,Xp(e));n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){!function mA(n,e,t){const i=wn(n);var s;(s=(0,U.Z)(function*(l,u,m){try{const E=yield u.getMetadata();if(yield function($e,st){const vt=wn($e),Ft=us(st.createTime);return vt.persistence.runTransaction("hasNewerBundle","readonly",jt=>vt.qs.getBundleMetadata(jt,st.id)).then(jt=>!!jt&&jt.createTime.compareTo(Ft)>=0)}(l.localStore,E))return yield u.close(),m._completeWith({taskState:"Success",documentsLoaded:($e=E).totalDocuments,bytesLoaded:$e.totalBytes,totalDocuments:$e.totalDocuments,totalBytes:$e.totalBytes}),Promise.resolve(new Set);m._updateProgress(xv(E));const S=new nx(E,l.localStore,u.serializer);let B=yield u.bc();for(;B;){const $e=yield S.zu(B);$e&&m._updateProgress($e),B=yield u.bc()}const Q=yield S.complete();return yield yu(l,Q.Ju,void 0),yield function($e,st){const vt=wn($e);return vt.persistence.runTransaction("Save bundle","readwrite",Ft=>vt.qs.saveBundleMetadata(Ft,st))}(l.localStore,E),m._completeWith(Q.progress),Promise.resolve(Q.Hu)}catch(E){return hl("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var $e}),function(l,u,m){return s.apply(this,arguments)})(i,e,t).then(s=>{i.sharedClientState.notifyBundleLoaded(s)})}(yield d_(n),s,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function xw(n,e){return function EA(n,e){return n.asyncQueue.enqueue((0,U.Z)(function*(){return function(t,i){const s=wn(t);return s.persistence.runTransaction("Get named query","readonly",l=>s.qs.getNamedQuery(l,i))}(yield cg(n),e)}))}(xs(n=Bi(n,vr)),e).then(t=>t?new eo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new da(this,t):null)}}class vg extends mg{constructor(e){super(),this.firestore=e}convertBytes(e){return new yg(new Kl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Yl.forKey(t,this.firestore,null)}}class rD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new vg(e)}get(e){const t=Sf(e);return this._delegate.get(t).then(i=>new Eg(this._firestore,new vu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const s=Sf(e);return i?(tD("Transaction.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const l=Sf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...s),this}delete(e){const t=Sf(e);return this._delegate.delete(t),this}}class SE{constructor(e){this._delegate=e}set(e,t,i){const s=Sf(e);return i?(tD("WriteBatch.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const l=Sf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,i,...s),this}delete(e){const t=Sf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wu{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new _g(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I_(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=wu.INSTANCES;let s=i.get(e);s||(s=new WeakMap,i.set(e,s));let l=s.get(t);return l||(l=new wu(e,new vg(e),t),s.set(t,l)),l}}wu.INSTANCES=new WeakMap;class Yl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vg(e)}static forPath(e,t,i){if(e.length%2!=0)throw new en("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Yl(t,new yr(t._delegate,i,new En(e)))}static forKey(e,t,i){return new Yl(t,new yr(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new xf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xf(this.firestore,dg(this._delegate,e))}catch(t){throw To(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,De.m9)(e))instanceof yr&&nE(this._delegate,e)}set(e,t){t=tD("DocumentReference.set",t);try{return t?yE(this._delegate,e,t):yE(this._delegate,e)}catch(i){throw To(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?vE(this._delegate,e):vE(this._delegate,e,t,...i)}catch(s){throw To(s,"updateDoc()","DocumentReference.update()")}}delete(){return function b_(n){return gh(Bi(n.firestore,vr),[new sf(n._key,Kr.none())])}(this._delegate)}onSnapshot(...e){const t=A_(e),i=sD(e,s=>new Eg(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return EE(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function hx(n){n=Bi(n,yr);const e=Bi(n.firestore,vr),t=xs(e),i=new bu(e);return function pw(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return(i=(0,U.Z)(function*(s,l,u){try{const m=yield function(E,S){const B=wn(E);return B.persistence.runTransaction("read document","readonly",Q=>B.localDocuments.getDocument(Q,S))}(s,l);m.isFoundDocument()?u.resolve(m):m.isNoDocument()?u.resolve(null):u.reject(new en(kt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=oh(m,`Failed to get document '${l} from cache`);u.reject(E)}}),function(s,l,u){return i.apply(this,arguments)})(yield cg(n),e,t);var i})),t.promise}(t,n._key).then(s=>new vu(e,i,n._key,s,new ph(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function _E(n){n=Bi(n,yr);const e=Bi(n.firestore,vr);return gw(xs(e),n._key,{source:"server"}).then(t=>D_(e,n,t))}(this._delegate):function NA(n){n=Bi(n,yr);const e=Bi(n.firestore,vr);return gw(xs(e),n._key).then(t=>D_(e,n,t))}(this._delegate),t.then(i=>new Eg(this.firestore,new vu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Yl(this.firestore,this._delegate.withConverter(e?wu.getInstance(this.firestore,e):null))}}function To(n,e,t){return n.message=n.message.replace(e,t),n}function A_(n){for(const e of n)if("object"==typeof e&&!IE(e))return e;return{}}function sD(n,e){var t,i;let s;return s=IE(n[0])?n[0]:IE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{s.next&&s.next(e(l))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(i=s.complete)||void 0===i?void 0:i.bind(s)}}class Eg{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Yl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return mE(this._delegate,e._delegate)}}class I_ extends Eg{data(e){const t=this._delegate.data(e);return function u0(n,e){n||On()}(void 0!==t),t}}class da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new vg(e)}where(e,t,i){try{return new da(this.firestore,hh(this._delegate,function Vw(n,e,t){const i=e,s=cE("where",n);return gg._create(s,i,t)}(e,t,i)))}catch(s){throw To(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new da(this.firestore,hh(this._delegate,function hE(n,e="asc"){const t=e,i=cE("orderBy",n);return dE._create(i,t)}(e,t)))}catch(i){throw To(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new da(this.firestore,hh(this._delegate,function yl(n){return Jv("limit",n),E_._create("limit",n,"F")}(e)))}catch(t){throw To(t,"limit()","Query.limit()")}}limitToLast(e){try{return new da(this.firestore,hh(this._delegate,function PA(n){return Jv("limitToLast",n),E_._create("limitToLast",n,"L")}(e)))}catch(t){throw To(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new da(this.firestore,hh(this._delegate,function kA(...n){return Af._create("startAt",n,!0)}(...e)))}catch(t){throw To(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new da(this.firestore,hh(this._delegate,function FA(...n){return Af._create("startAfter",n,!1)}(...e)))}catch(t){throw To(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new da(this.firestore,hh(this._delegate,function Uw(...n){return If._create("endBefore",n,!1)}(...e)))}catch(t){throw To(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new da(this.firestore,hh(this._delegate,function jw(...n){return If._create("endAt",n,!0)}(...e)))}catch(t){throw To(t,"endAt()","Query.endAt()")}}isEqual(e){return iE(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function qw(n){n=Bi(n,eo);const e=Bi(n.firestore,vr),t=xs(e),i=new bu(e);return function mw(n,e){const t=new cs;return n.asyncQueue.enqueueAndForget((0,U.Z)(function*(){return(i=(0,U.Z)(function*(s,l,u){try{const m=yield ev(s,l,!0),E=new e_(l,m.ir),S=E.sc(m.documents),B=E.applyChanges(S,!1);u.resolve(B.snapshot)}catch(m){const E=oh(m,`Failed to execute query '${l} against cache`);u.reject(E)}}),function(s,l,u){return i.apply(this,arguments)})(yield cg(n),e,t);var i})),t.promise}(t,n._query).then(s=>new Eu(e,i,n,s))}(this._delegate):"server"===e?.source?function Yw(n){n=Bi(n,eo);const e=Bi(n.firestore,vr),t=xs(e),i=new bu(e);return _w(t,n._query,{source:"server"}).then(s=>new Eu(e,i,n,s))}(this._delegate):function Kw(n){n=Bi(n,eo);const e=Bi(n.firestore,vr),t=xs(e),i=new bu(e);return Bw(n._query),_w(t,n._query).then(s=>new Eu(e,i,n,s))}(this._delegate),t.then(i=>new TE(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=A_(e),i=sD(e,s=>new TE(this.firestore,new Eu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return EE(this._delegate,t,i)}withConverter(e){return new da(this.firestore,this._delegate.withConverter(e?wu.getInstance(this.firestore,e):null))}}class zA{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I_(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new da(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I_(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new zA(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new I_(this._firestore,i))})}isEqual(e){return mE(this._delegate,e._delegate)}}class xf extends da{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Yl(this.firestore,e):null}doc(e){try{return new Yl(this.firestore,void 0===e?tE(this._delegate):tE(this._delegate,e))}catch(t){throw To(t,"doc()","CollectionReference.doc()")}}add(e){return function w_(n,e){const t=Bi(n.firestore,vr),i=tE(n),s=ql(n.converter,e);return gh(t,[aE(Cf(n.firestore),"addDoc",i._key,s,null!==n.converter,{}).toMutation(i._key,Kr.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Yl(this.firestore,t))}isEqual(e){return nE(this._delegate,e._delegate)}withConverter(e){return new xf(this.firestore,this._delegate.withConverter(e?wu.getInstance(this.firestore,e):null))}}function Sf(n){return Bi(n,yr)}class oD{constructor(...e){this._delegate=new wc(...e)}static documentId(){return new oD(ts.keyField().canonicalString())}isEqual(e){return(e=(0,De.m9)(e))instanceof wc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bE(){return new Rw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Tf(e)}static delete(){const e=function Jw(){return new p_("deleteField")}();return e._methodName="FieldValue.delete",new Tf(e)}static arrayUnion(...e){const t=function wE(...n){return new Ow("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tf(t)}static arrayRemove(...e){const t=function jA(...n){return new g_("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tf(t)}static increment(e){const t=function DE(n){return new Pw("increment",n)}(e);return t._methodName="FieldValue.increment",new Tf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Cx={Firestore:xE,GeoPoint:sE,Timestamp:Ir,Blob:yg,Transaction:rD,WriteBatch:SE,DocumentReference:Yl,DocumentSnapshot:Eg,Query:da,QueryDocumentSnapshot:I_,QuerySnapshot:TE,CollectionReference:xf,FieldPath:oD,FieldValue:Tf,setLogLevel:function $A(n){!function XD(n){ja.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function WA(n){(function Ax(n,e){n.INTERNAL.registerComponent(new Te.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(i,s)},"PUBLIC").setServiceProps(Object.assign({},Cx)))})(n,(e,t)=>new xE(e,t,new iD)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(ce.Z);var to=D(7579),ME=D(6451),RE=D(5363),Ix=D(4707),xx=D(3099);function KA(n,e,t){let i,s=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):i=n??1/0,(0,xx.B)({connector:()=>new Ix.t(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}var r=D(590),o=D(576);function a(n,e){return(0,o.m)(e)?(0,de.w)(()=>n,e):(0,de.w)(()=>n)}var c=D(9468);const g=new d.OlP("angularfire2.auth.use-emulator"),y=new d.OlP("angularfire2.auth.settings"),x=new d.OlP("angularfire2.auth.tenant-id"),M=new d.OlP("angularfire2.auth.langugage-code"),j=new d.OlP("angularfire2.auth.use-device-language"),X=new d.OlP("angularfire.auth.persistence"),be=(n,e,t,i,s,l,u,m)=>(0,k.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),i&&(E.tenantId=i),E.languageCode=s,l&&E.useDeviceLanguage(),u)for(const[S,B]of Object.entries(u))E.settings[S]=B;return m&&E.setPersistence(m),E},[t,i,s,l,u,m]);let Xe=(()=>{class n{constructor(t,i,s,l,u,m,E,S,B,Q,$e,st){const vt=new to.x,Ft=(0,ee.of)(void 0).pipe((0,RE.Q)(u.outsideAngular),(0,de.w)(()=>l.runOutsideAngular(()=>Promise.resolve().then(D.bind(D,9568)))),(0,he.U)(()=>(0,k.on)(t,l,i)),(0,he.U)(jt=>be(jt,l,m,S,B,Q,E,$e)),KA({bufferSize:1,refCount:!1}));if((0,ti.PM)(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{Ft.pipe((0,r.P)()).subscribe();const rn=Ft.pipe((0,de.w)(An=>An.getRedirectResult().then(hi=>hi,()=>null)),z.iC,KA({bufferSize:1,refCount:!1})),Sn=Ft.pipe((0,de.w)(An=>new re.y(hi=>({unsubscribe:l.runOutsideAngular(()=>An.onAuthStateChanged(ri=>hi.next(ri),ri=>hi.error(ri),()=>hi.complete()))})))),vn=Ft.pipe((0,de.w)(An=>new re.y(hi=>({unsubscribe:l.runOutsideAngular(()=>An.onIdTokenChanged(ri=>hi.next(ri),ri=>hi.error(ri),()=>hi.complete()))}))));this.authState=rn.pipe(a(Sn),(0,c.R)(u.outsideAngular),(0,RE.Q)(u.insideAngular)),this.user=rn.pipe(a(vn),(0,c.R)(u.outsideAngular),(0,RE.Q)(u.insideAngular)),this.idToken=this.user.pipe((0,de.w)(An=>An?(0,W.D)(An.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,de.w)(An=>An?(0,W.D)(An.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,ME.T)(rn,vt,this.authState.pipe((0,Ji.h)(An=>!An))).pipe((0,he.U)(An=>An?.user?An:null),(0,c.R)(u.outsideAngular),(0,RE.Q)(u.insideAngular))}return(0,k.pX)(this,Ft,l,{spy:{apply:(jt,rn,Sn)=>{(jt.startsWith("signIn")||jt.startsWith("createUser"))&&Sn.then(vn=>vt.next(vn))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(k.Dh),d.LFG(k.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(z.HU),d.LFG(g,8),d.LFG(y,8),d.LFG(x,8),d.LFG(M,8),d.LFG(j,8),d.LFG(X,8),d.LFG(Pa,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Ct=(()=>{class n{constructor(){Vs.Z.registerVersion("angularfire",z.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Xe]}),n})();function dn(n,e){return function qt(n,e=hn.z){return new re.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function Ln(n,e){return dn(n,e).pipe((0,he.U)(t=>({payload:t,type:"query"})))}function qn(n,e){return Ln(n,e).pipe((0,ei.O)(void 0),Fr(),(0,he.U)(([t,i])=>{const s=i.payload.docChanges(),l=s.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,m)=>{const E=s.find(B=>B.doc.ref.isEqual(u.ref)),S=t?.payload.docs.find(B=>B.ref.isEqual(u.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(u.metadata)||!E&&S&&JSON.stringify(S.metadata)===JSON.stringify(u.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:u}})}),l}))}function tn(n,e,t){return qn(n,t).pipe((0,Us.R)((i,s)=>function ui(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Nr(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return qi(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return qi(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return qi(n,e.oldIndex,1)}return n}(n,i))}),n}(i,s.map(l=>l.payload),e),[]),(0,Xs.x)(),(0,he.U)(i=>i.map(s=>({type:s.type,payload:s}))))}function qi(n,e,t,...i){const s=n.slice();return s.splice(e,t,...i),s}function gd(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class x_{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=qn(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,he.U)(i=>i.filter(s=>e.indexOf(s.type)>-1)))),t.pipe((0,ei.O)(void 0),Fr(),(0,Ji.h)(([i,s])=>s.length>0||!i),(0,he.U)(([i,s])=>s),z.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Us.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=gd(e);return tn(this.query,t,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(e={}){return Ln(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),z.iC)}get(e){return(0,W.D)(this.query.get(e)).pipe(z.iC)}add(e){return this.ref.add(e)}doc(e){return new S_(this.ref.doc(e),this.afs)}}class S_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:s,query:l}=R_(i,t);return new x_(s,l,this.afs)}snapshotChanges(){return function bn(n,e){return dn(n,e).pipe((0,ei.O)(void 0),Fr(),(0,he.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,he.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,W.D)(this.ref.get(e)).pipe(z.iC)}}class OE{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qn(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),(0,Ji.h)(t=>t.length>0),z.iC):qn(this.query,this.afs.schedulers.outsideAngular).pipe(z.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Us.R)((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=gd(e);return tn(this.query,t,this.afs.schedulers.outsideAngular).pipe(z.iC)}valueChanges(e={}){return Ln(this.query,this.afs.schedulers.outsideAngular).pipe((0,he.U)(i=>i.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),z.iC)}get(e){return(0,W.D)(this.query.get(e)).pipe(z.iC)}}const T_=new d.OlP("angularfire2.enableFirestorePersistence"),M_=new d.OlP("angularfire2.firestore.persistenceSettings"),PE=new d.OlP("angularfire2.firestore.settings"),kE=new d.OlP("angularfire2.firestore.use-emulator");function R_(n,e=(t=>t)){return{query:e(n),ref:n}}let FE=(()=>{class n{constructor(t,i,s,l,u,m,E,S,B,Q,$e,st,vt,Ft,jt,rn,Sn){this.schedulers=E;const vn=(0,k.on)(t,m,i),An=B;Q&&be(vn,m,$e,vt,Ft,jt,st,rn),[this.firestore,this.persistenceEnabled$]=(0,k.cc)(`${vn.name}.firestore`,"AngularFirestore",vn.name,()=>{const hi=m.runOutsideAngular(()=>vn.firestore());if(l&&hi.settings(l),An&&hi.useEmulator(...An),s&&!(0,ti.PM)(u)){const ri=()=>{try{return(0,W.D)(hi.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(ji){return typeof console<"u"&&console.warn(ji),(0,ee.of)(!1)}};return[hi,m.runOutsideAngular(ri)]}return[hi,(0,ee.of)(!1)]},[l,An,s])}collection(t,i){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:u}=R_(s,i),m=this.schedulers.ngZone.run(()=>l);return new x_(m,u,this)}collectionGroup(t,i){const s=i||(u=>u),l=this.firestore.collectionGroup(t);return new OE(s(l),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>i);return new S_(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(k.Dh),d.LFG(k.xv,8),d.LFG(T_,8),d.LFG(PE,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(z.HU),d.LFG(M_,8),d.LFG(kE,8),d.LFG(Xe,8),d.LFG(g,8),d.LFG(y,8),d.LFG(x,8),d.LFG(M,8),d.LFG(j,8),d.LFG(X,8),d.LFG(Pa,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wT=(()=>{class n{constructor(){Vs.Z.registerVersion("angularfire",z.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:T_,useValue:!0},{provide:M_,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FE]}),n})();var DT=D(1389);class qA{constructor(e){return e}}class YA{constructor(){return(0,z.vb)("auth")}}const ZA=new d.OlP("angularfire2.auth-instances");function AT(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new qA(i)}}const IT={provide:YA,deps:[[new d.FiY,ZA]]},xT={provide:qA,useFactory:function CT(n,e){const t=(0,z.JM)("auth",n,e);return t&&new qA(t)},deps:[[new d.FiY,ZA],Or]};let ST=(()=>{class n{constructor(){(0,jr.KN)("angularfire",z.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[xT,IT]}),n})();function TT(n,...e){return{ngModule:ST,providers:[{provide:ZA,useFactory:AT(n),multi:!0,deps:[d.R0b,d.zs3,z.HU,Gr,[new d.FiY,Pa],...e]}]}}const MT=(0,z.u3)(DT.o,!0);class QA{constructor(e){return e}}const Tx="firestore",XA=new d.OlP("angularfire2.firestore-instances");function PT(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new QA(i)}}const kT={provide:class RT{constructor(){return(0,z.vb)(Tx)}},deps:[[new d.FiY,XA]]},FT={provide:QA,useFactory:function OT(n,e){const t=(0,z.JM)(Tx,n,e);return t&&new QA(t)},deps:[[new d.FiY,XA],Or]};let LT=(()=>{class n{constructor(){(0,jr.KN)("angularfire",z.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FT,kT]}),n})();function NT(n,...e){return{ngModule:LT,providers:[{provide:XA,useFactory:PT(n),multi:!0,deps:[d.R0b,d.zs3,z.HU,Gr,[new d.FiY,YA],[new d.FiY,Pa],...e]}]}}const BT=(0,z.u3)(AA,!0);class JA{constructor(e){return e}}const Mx="storage",eI=new d.OlP("angularfire2.storage-instances");function jT(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new JA(i)}}const GT={provide:class VT{constructor(){return(0,z.vb)(Mx)}},deps:[[new d.FiY,eI]]},HT={provide:JA,useFactory:function UT(n,e){const t=(0,z.JM)(Mx,n,e);return t&&new JA(t)},deps:[[new d.FiY,eI],Or]};let $T=(()=>{class n{constructor(){(0,jr.KN)("angularfire",z.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[HT,GT]}),n})();function zT(n,...e){return{ngModule:$T,providers:[{provide:eI,useFactory:jT(n),multi:!0,deps:[d.R0b,d.zs3,z.HU,Gr,[new d.FiY,YA],[new d.FiY,Pa],...e]}]}}const WT=(0,z.u3)(go,!0);var aD=D(7799);const KT=[{path:"",children:[{path:"static",loadChildren:()=>D.e(177).then(D.bind(D,5177)).then(n=>n.StaticModule)},{path:"",pathMatch:"full",redirectTo:"static/welcome"}]},{path:"**",pathMatch:"full",redirectTo:"static/404"}];let qT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[aD.Bz.forRoot(KT),aD.Bz]}),n})();var lD=D(8184),bg=D(4080),Ss=D(3238),tI=D(4859),cD=D(3353),nI=D(5698),no=D(2722),Di=D(7340),wg=D(2687),iI=D(2289);function YT(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2)(1,"button",3),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s.action())}),d._uU(2),d.qZA()()}if(2&n){const t=d.oxw();d.xp6(2),d.Oqu(t.data.action)}}function ZT(n,e){}const rI=new d.OlP("MatSnackBarData");class uD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const QT=Math.pow(2,31)-1;class sI{constructor(e,t){this._overlayRef=t,this._afterDismissed=new to.x,this._afterOpened=new to.x,this._onAction=new to.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,QT))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let XT=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(sI),d.Y36(rI))},n.\u0275cmp=d.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(d.TgZ(0,"span",0),d._uU(1),d.qZA(),d.YNc(2,YT,3,1,"div",1)),2&t&&(d.xp6(1),d.Oqu(i.data.message),d.xp6(1),d.Q6J("ngIf",i.hasAction))},dependencies:[ti.O5,tI.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const JT={snackBarState:(0,Di.X$)("state",[(0,Di.SB)("void, hidden",(0,Di.oB)({transform:"scale(0.8)",opacity:0})),(0,Di.SB)("visible",(0,Di.oB)({transform:"scale(1)",opacity:1})),(0,Di.eR)("* => visible",(0,Di.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,Di.eR)("* => void, * => hidden",(0,Di.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,Di.oB)({opacity:0})))])};let eM=(()=>{class n extends bg.en{constructor(t,i,s,l,u){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=s,this._platform=l,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new to.x,this._onExit=new to.x,this._onEnter=new to.x,this._animationState="void",this.attachDomPortal=m=>{this._assertNotAttached();const E=this._portalOutlet.attachDomPortal(m);return this._afterPortalAttached(),E},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:s}=t;if(("void"===s&&"void"!==i||"hidden"===s)&&this._completeExit(),"visible"===s){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,nI.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>t.classList.add(s)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(s=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.R0b),d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(cD.t4),d.Y36(uD))},n.\u0275dir=d.lG2({type:n,viewQuery:function(t,i){if(1&t&&d.Gf(bg.Pl,7),2&t){let s;d.iGM(s=d.CRH())&&(i._portalOutlet=s.first)}},features:[d.qOj]}),n})(),tM=(()=>{class n extends eM{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&d.WFA("@state.done",function(l){return i.onAnimationEnd(l)}),2&t&&d.d8E("@state",i._animationState)},features:[d.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(d.TgZ(0,"div",0),d.YNc(1,ZT,0,0,"ng-template",1),d.qZA(),d._UZ(2,"div")),2&t&&(d.xp6(2),d.uIk("aria-live",i._live)("role",i._role))},dependencies:[bg.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[JT.snackBarState]}}),n})(),Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[lD.U8,bg.eL,ti.ez,tI.ot,Ss.BQ,Ss.BQ]}),n})();const Ox=new d.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function nM(){return new uD}});let iM=(()=>{class n{constructor(t,i,s,l,u,m){this._overlay=t,this._live=i,this._injector=s,this._breakpointObserver=l,this._parentSnackBar=u,this._defaultConfig=m,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",s){const l={...this._defaultConfig,...s};return l.data={message:t,action:i},l.announcementMessage===t&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const l=d.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:uD,useValue:i}]}),u=new bg.C5(this.snackBarContainerComponent,i.viewContainerRef,l),m=t.attach(u);return m.instance.snackBarConfig=i,m.instance}_attach(t,i){const s={...new uD,...this._defaultConfig,...i},l=this._createOverlay(s),u=this._attachSnackBarContainer(l,s),m=new sI(u,l);if(t instanceof d.Rgc){const E=new bg.UE(t,null,{$implicit:s.data,snackBarRef:m});m.instance=u.attachTemplatePortal(E)}else{const E=this._createInjector(s,m),S=new bg.C5(t,void 0,E),B=u.attachComponentPortal(S);m.instance=B.instance}return this._breakpointObserver.observe(iI.u3.HandsetPortrait).pipe((0,no.R)(l.detachments())).subscribe(E=>{l.overlayElement.classList.toggle(this.handsetCssClass,E.matches)}),s.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(m,s),this._openedSnackBarRef=m,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new lD.X_;i.direction=t.direction;let s=this._overlay.position().global();const l="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!l||"end"===t.horizontalPosition&&l,m=!u&&"center"!==t.horizontalPosition;return u?s.left("0"):m?s.right("0"):s.centerHorizontally(),"top"===t.verticalPosition?s.top("0"):s.bottom("0"),i.positionStrategy=s,this._overlay.create(i)}_createInjector(t,i){return d.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:sI,useValue:i},{provide:rI,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lD.aV),d.LFG(wg.Kd),d.LFG(d.zs3),d.LFG(iI.Yg),d.LFG(n,12),d.LFG(Ox))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),rM=(()=>{class n extends iM{constructor(t,i,s,l,u,m){super(t,i,s,l,u,m),this.simpleSnackBarComponent=XT,this.snackBarContainerComponent=tM,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(lD.aV),d.LFG(wg.Kd),d.LFG(d.zs3),d.LFG(iI.Yg),d.LFG(n,12),d.LFG(Ox))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:Rx}),n})(),Px=(()=>{class n{constructor(t){this.data=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(rI))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-notification"]],decls:2,vars:1,template:function(t,i){1&t&&(d.TgZ(0,"span"),d._uU(1),d.qZA()),2&t&&(d.xp6(1),d.Oqu(i.data.message))}}),n})(),kx=(()=>{class n{constructor(t){this.snackBar=t}error(t){this.snackBar.openFromComponent(Px,{duration:3e3,data:{message:t},panelClass:["mat-snackbar_error"]})}success(t){this.snackBar.openFromComponent(Px,{duration:3e3,data:{message:t},panelClass:["mat-snackbar_success"]})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(rM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var Du=D(8341),dD=D(445),ds=D(1281),_h=D(9521),sM=D(4968),Fx=D(9718);const hD=["*"],oM=["content"];function aM(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function lM(n,e){1&n&&(d.TgZ(0,"mat-drawer-content"),d.Hsn(1,2),d.qZA())}const cM=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],uM=["mat-drawer","mat-drawer-content","*"];function dM(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"div",2),d.NdJ("click",function(){d.CHM(t);const s=d.oxw();return d.KtG(s._onBackdropClicked())}),d.qZA()}if(2&n){const t=d.oxw();d.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function hM(n,e){1&n&&(d.TgZ(0,"mat-sidenav-content"),d.Hsn(1,2),d.qZA())}const fM=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],pM=["mat-sidenav","mat-sidenav-content","*"],Lx={transformDrawer:(0,Di.X$)("transform",[(0,Di.SB)("open, open-instant",(0,Di.oB)({transform:"none",visibility:"visible"})),(0,Di.SB)("void",(0,Di.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Di.eR)("void => open-instant",(0,Di.jt)("0ms")),(0,Di.eR)("void <=> open, open-instant => void",(0,Di.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},mM=new d.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function _M(){return!1}}),oI=new d.OlP("MAT_DRAWER_CONTAINER");let fD=(()=>{class n extends Du.PQ{constructor(t,i,s,l,u){super(s,l,u),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>Bx)),d.Y36(d.SBq),d.Y36(Du.mF),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:Du.PQ,useExisting:n}]),d.qOj],ngContentSelectors:hD,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Nx=(()=>{class n{constructor(t,i,s,l,u,m,E,S){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=l,this._ngZone=u,this._interactivityChecker=m,this._doc=E,this._container=S,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new to.x,this._animationEnd=new to.x,this._animationState="void",this.openedChange=new d.vpe(!0),this._openedStream=this.openedChange.pipe((0,Ji.h)(B=>B),(0,he.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,Ji.h)(B=>B.fromState!==B.toState&&0===B.toState.indexOf("open")),(0,Fx.h)(void 0)),this._closedStream=this.openedChange.pipe((0,Ji.h)(B=>!B),(0,he.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,Ji.h)(B=>B.fromState!==B.toState&&"void"===B.toState),(0,Fx.h)(void 0)),this._destroyed=new to.x,this.onPositionChanged=new d.vpe,this._modeChanged=new to.x,this.openedChange.subscribe(B=>{B?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,sM.R)(this._elementRef.nativeElement,"keydown").pipe((0,Ji.h)(B=>B.keyCode===_h.hY&&!this.disableClose&&!(0,_h.Vb)(B)),(0,no.R)(this._destroyed)).subscribe(B=>this._ngZone.run(()=>{this.close(),B.stopPropagation(),B.preventDefault()}))}),this._animationEnd.pipe((0,Xs.x)((B,Q)=>B.fromState===Q.fromState&&B.toState===Q.toState)).subscribe(B=>{const{fromState:Q,toState:$e}=B;(0===$e.indexOf("open")&&"void"===Q||"void"===$e&&0===Q.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=(0,ds.Ig)(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=(0,ds.Ig)(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle((0,ds.Ig)(t))}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(i)}_focusByCssSelector(t,i){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const s=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),s}_setOpen(t,i,s){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe((0,nI.q)(1)).subscribe(u=>l(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,s=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,i)),s.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(wg.qV),d.Y36(wg.tE),d.Y36(cD.t4),d.Y36(d.R0b),d.Y36(wg.ic),d.Y36(ti.K0,8),d.Y36(oI,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&d.Gf(oM,5),2&t){let s;d.iGM(s=d.CRH())&&(i._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&d.WFA("@transform.start",function(l){return i._animationStarted.next(l)})("@transform.done",function(l){return i._animationEnd.next(l)}),2&t&&(d.uIk("align",null),d.d8E("@transform",i._animationState),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:hD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[Du.PQ],encapsulation:2,data:{animation:[Lx.transformDrawer]},changeDetection:0}),n})(),Bx=(()=>{class n{constructor(t,i,s,l,u,m=!1,E){this._dir=t,this._element=i,this._ngZone=s,this._changeDetectorRef=l,this._animationMode=E,this._drawers=new d.n_E,this.backdropClick=new d.vpe,this._destroyed=new to.x,this._doCheckSubject=new to.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new to.x,t&&t.change.pipe((0,no.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe((0,no.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=m}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=(0,ds.Ig)(t)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(t){this._backdropOverride=null==t?null:(0,ds.Ig)(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ei.O)(this._allDrawers),(0,no.R)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ei.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Ee.b)(10),(0,no.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();t+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,t-=s}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe((0,Ji.h)(i=>i.fromState!==i.toState),(0,no.R)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe((0,no.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){!t||t.onPositionChanged.pipe((0,no.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,nI.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe((0,no.R)((0,ME.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";t?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(dD.Is,8),d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(d.sBO),d.Y36(Du.rL),d.Y36(mM),d.Y36(d.QbO,8))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,s){if(1&t&&(d.Suo(s,fD,5),d.Suo(s,Nx,5)),2&t){let l;d.iGM(l=d.CRH())&&(i._content=l.first),d.iGM(l=d.CRH())&&(i._allDrawers=l)}},viewQuery:function(t,i){if(1&t&&d.Gf(fD,5),2&t){let s;d.iGM(s=d.CRH())&&(i._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[d._Bn([{provide:oI,useExisting:n}])],ngContentSelectors:uM,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(cM),d.YNc(0,aM,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,lM,2,0,"mat-drawer-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[ti.O5,fD],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),aI=(()=>{class n extends fD{constructor(t,i,s,l,u){super(t,i,s,l,u)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.sBO),d.Y36((0,d.Gpc)(()=>Vx)),d.Y36(d.SBq),d.Y36(Du.mF),d.Y36(d.R0b))},n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&d.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[d._Bn([{provide:Du.PQ,useExisting:n}]),d.qOj],ngContentSelectors:hD,decls:1,vars:0,template:function(t,i){1&t&&(d.F$t(),d.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),yM=(()=>{class n extends Nx{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=(0,ds.Ig)(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=(0,ds.su)(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=(0,ds.su)(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(d.uIk("align",null),d.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),d.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[d.qOj],ngContentSelectors:hD,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(d.F$t(),d.TgZ(0,"div",0,1),d.Hsn(2),d.qZA())},dependencies:[Du.PQ],encapsulation:2,data:{animation:[Lx.transformDrawer]},changeDetection:0}),n})(),Vx=(()=>{class n extends Bx{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275cmp=d.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,s){if(1&t&&(d.Suo(s,aI,5),d.Suo(s,yM,5)),2&t){let l;d.iGM(l=d.CRH())&&(i._content=l.first),d.iGM(l=d.CRH())&&(i._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&d.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[d._Bn([{provide:oI,useExisting:n}]),d.qOj],ngContentSelectors:pM,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(d.F$t(fM),d.YNc(0,dM,1,2,"div",0),d.Hsn(1),d.Hsn(2,1),d.YNc(3,hM,2,0,"mat-sidenav-content",1)),2&t&&(d.Q6J("ngIf",i.hasBackdrop),d.xp6(3),d.Q6J("ngIf",!i._content))},dependencies:[ti.O5,aI],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ti.ez,Ss.BQ,Du.ZD,Du.ZD,Ss.BQ]}),n})();var Ux=D(3683),pD=D(7392),EM=D(1135);function jx(n){for(let e in n){let t=n[e]??"";switch(e){case"display":n.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":n["-webkit-"+e]=t;break;case"flex-direction":n["-webkit-flex-direction"]=t,n["flex-direction"]=t;break;case"order":n.order=n["-webkit-"+e]=isNaN(+t)?"0":t}}return n}const lI="inline",gD=["row","column","row-reverse","column-reverse"];function Gx(n){let[e,t,i]=Hx(n);return function wM(n,e=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":n,"flex-wrap":e||null}}(e,t,i)}function Hx(n){n=n?.toLowerCase()??"";let[e,t,i]=n.split(" ");return gD.find(s=>s===e)||(e=gD[0]),t===lI&&(t=i!==lI?i:"",i=lI),[e,bM(t),!!i]}function LE(n){let[e]=Hx(n);return e.indexOf("row")>-1}function bM(n){if(n)switch(n.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":n="wrap-reverse";break;case"no":case"none":case"nowrap":n="nowrap";break;default:n="wrap"}return n}function yh(n,...e){if(null==n)throw TypeError("Cannot convert undefined or null to object");for(let t of e)if(null!=t)for(let i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}var DM=D(8505);const AM={provide:d.tb,useFactory:function CM(n,e){return()=>{if((0,ti.NF)(e)){const t=Array.from(n.querySelectorAll(`[class*=${$x}]`)),i=/\bflex-layout-.+?\b/g;t.forEach(s=>{s.classList.contains(`${$x}ssr`)&&s.parentNode?s.parentNode.removeChild(s):s.className.replace(i,"")})}}},deps:[ti.K0,d.Lbi],multi:!0},$x="flex-layout-";let cI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[AM]}),n})();class Dg{constructor(e=!1,t="all",i="",s="",l=0){this.matches=e,this.mediaQuery=t,this.mqAlias=i,this.suffix=s,this.priority=l,this.property=""}clone(){return new Dg(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let IM=(()=>{class n{constructor(){this.stylesheet=new Map}addStyleToElement(t,i,s){const l=this.stylesheet.get(t);l?l.set(i,s):this.stylesheet.set(t,new Map([[i,s]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,i){const s=this.stylesheet.get(t);let l="";if(s){const u=s.get(i);("number"==typeof u||"string"==typeof u)&&(l=u+"")}return l}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uI={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Cu=new d.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>uI}),O_=new d.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),dI=new d.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function zx(n,e){return n=n?.clone()??new Dg,e&&(n.mqAlias=e.alias,n.mediaQuery=e.mediaQuery,n.suffix=e.suffix,n.priority=e.priority),n}class Ts{constructor(){this.shouldCache=!0}sideEffect(e,t,i){}}let qr=(()=>{class n{constructor(t,i,s,l){this._serverStylesheet=t,this._serverModuleLoaded=i,this._platformId=s,this.layoutConfig=l}applyStyleToElement(t,i,s=null){let l={};"string"==typeof i&&(l[i]=s,i=l),l=this.layoutConfig.disableVendorPrefixes?i:jx(i),this._applyMultiValueStyleToElement(l,t)}applyStyleToElements(t,i=[]){const s=this.layoutConfig.disableVendorPrefixes?t:jx(t);i.forEach(l=>{this._applyMultiValueStyleToElement(s,l)})}getFlowDirection(t){const i="flex-direction";let s=this.lookupStyle(t,i);return[s||"row",this.lookupInlineStyle(t,i)||(0,ti.PM)(this._platformId)&&this._serverModuleLoaded?s:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,i){return t.getAttribute(i)??""}lookupInlineStyle(t,i){return(0,ti.NF)(this._platformId)?t.style.getPropertyValue(i):function xM(n,e){return Wx(n)[e]??""}(t,i)}lookupStyle(t,i,s=!1){let l="";return t&&((l=this.lookupInlineStyle(t,i))||((0,ti.NF)(this._platformId)?s||(l=getComputedStyle(t).getPropertyValue(i)):this._serverModuleLoaded&&(l=this._serverStylesheet.getStyleForElement(t,i)))),l?l.trim():""}_applyMultiValueStyleToElement(t,i){Object.keys(t).sort().forEach(s=>{const l=t[s],u=Array.isArray(l)?l:[l];u.sort();for(let m of u)m=m?m+"":"",(0,ti.NF)(this._platformId)||!this._serverModuleLoaded?(0,ti.NF)(this._platformId)?i.style.setProperty(s,m):SM(i,s,m):this._serverStylesheet.addStyleToElement(i,s,m)})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(IM),d.LFG(O_),d.LFG(d.Lbi),d.LFG(Cu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SM(n,e,t){e=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const i=Wx(n);i[e]=t??"",function TM(n,e){let t="";for(const i in e)e[i]&&(t+=`${i}:${e[i]};`);n.setAttribute("style",t)}(n,i)}function Wx(n){const e={},t=n.getAttribute("style");if(t){const i=t.split(/;+/g);for(let s=0;s<i.length;s++){const l=i[s].trim();if(l.length>0){const u=l.indexOf(":");if(-1===u)throw new Error(`Invalid CSS style: ${l}`);e[l.substr(0,u).trim()]=l.substr(u+1).trim()}}}return e}function NE(n,e){return(e&&e.priority||0)-(n&&n.priority||0)}function MM(n,e){return(n.priority||0)-(e.priority||0)}let hI=(()=>{class n{constructor(t,i,s){this._zone=t,this._platformId=i,this._document=s,this.source=new EM.X(new Dg(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((i,s)=>{i.matches&&t.push(s)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(s=>s.matches)}observe(t,i=!1){if(t&&t.length){const s=this._observable$.pipe((0,Ji.h)(u=>!i||t.indexOf(u.mediaQuery)>-1)),l=new re.y(u=>{const m=this.registerQuery(t);if(m.length){const E=m.pop();m.forEach(S=>{u.next(S)}),this.source.next(E)}u.complete()});return(0,ME.T)(l,s)}return this._observable$}registerQuery(t){const i=Array.isArray(t)?t:[t],s=[];return function RM(n,e){const t=n.filter(i=>!Kx[i]);if(t.length>0){const i=t.join(", ");try{const s=e.createElement("style");s.setAttribute("type","text/css"),s.styleSheet||s.appendChild(e.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${i} {.fx-query-test{ }}\n`)),e.head.appendChild(s),t.forEach(l=>Kx[l]=s)}catch(s){console.error(s)}}}(i,this._document),i.forEach(l=>{const u=E=>{this._zone.run(()=>this.source.next(new Dg(E.matches,l)))};let m=this.registry.get(l);m||(m=this.buildMQL(l),m.addListener(u),this.pendingRemoveListenerFns.push(()=>m.removeListener(u)),this.registry.set(l,m)),m.matches&&s.push(new Dg(!0,l))}),s}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function PM(n,e){return e&&window.matchMedia("all").addListener?window.matchMedia(n):function OM(n){const e=new EventTarget;return e.matches="all"===n||""===n,e.media=n,e.addListener=()=>{},e.removeListener=()=>{},e.addEventListener=()=>{},e.dispatchEvent=()=>!1,e.onchange=null,e}(n)}(t,(0,ti.NF)(this._platformId))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.R0b),d.LFG(d.Lbi),d.LFG(ti.K0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kx={},kM=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],qx="(orientation: portrait) and (max-width: 599.98px)",Yx="(orientation: landscape) and (max-width: 959.98px)",Zx="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",Qx="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Xx="(orientation: portrait) and (min-width: 840px)",Jx="(orientation: landscape) and (min-width: 1280px)",vh={HANDSET:`${qx}, ${Yx}`,TABLET:`${Zx} , ${Qx}`,WEB:`${Xx}, ${Jx} `,HANDSET_PORTRAIT:`${qx}`,TABLET_PORTRAIT:`${Zx} `,WEB_PORTRAIT:`${Xx}`,HANDSET_LANDSCAPE:`${Yx}`,TABLET_LANDSCAPE:`${Qx}`,WEB_LANDSCAPE:`${Jx}`},FM=[{alias:"handset",priority:2e3,mediaQuery:vh.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:vh.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:vh.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:vh.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:vh.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:vh.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:vh.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:vh.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:vh.WEB_PORTRAIT,overlapping:!0}],LM=/(\.|-|_)/g;function NM(n){let e=n.length>0?n.charAt(0):"",t=n.length>1?n.slice(1):"";return e.toUpperCase()+t}const jM=new d.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const n=(0,d.f3M)(dI),e=(0,d.f3M)(Cu),t=[].concat.apply([],(n||[]).map(s=>Array.isArray(s)?s:[s]));return function UM(n,e=[]){const t={};return n.forEach(i=>{t[i.alias]=i}),e.forEach(i=>{t[i.alias]?yh(t[i.alias],i):t[i.alias]=i}),function VM(n){return n.forEach(e=>{e.suffix||(e.suffix=function BM(n){return n.replace(LM,"|").split("|").map(NM).join("")}(e.alias),e.overlapping=!!e.overlapping)}),n}(Object.keys(t).map(i=>t[i]))}((e.disableDefaultBps?[]:kM).concat(e.addOrientationBps?FM:[]),t)}});let fI=(()=>{class n{constructor(t){this.findByMap=new Map,this.items=[...t].sort(MM)}findByAlias(t){return t?this.findWithPredicate(t,i=>i.alias===t):null}findByQuery(t){return this.findWithPredicate(t,i=>i.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,i){let s=this.findByMap.get(t);return s||(s=this.items.find(i)??null,this.findByMap.set(t,s)),s??null}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(jM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P_="print",GM={alias:P_,mediaQuery:P_,priority:1e3};let HM=(()=>{class n{constructor(t,i,s){this.breakpoints=t,this.layoutConfig=i,this._document=s,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new $M,this.deactivations=[]}withPrintQuery(t){return[...t,P_]}isPrintEvent(t){return t.mediaQuery.startsWith(P_)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const i=this.breakpoints.findByQuery(t);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort(NE)}updateEvent(t){let i=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(i=this.getEventBreakpoints(t)[0],t.mediaQuery=i?.mediaQuery??""),zx(t,i)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Dg(!0,P_))),t.updateStyles())},s=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",s),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(s)}interceptEvents(t){return i=>{this.isPrintEvent(i)?i.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(i)),t.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,i)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,i){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!i.matches){const s=this.breakpoints.findByQuery(i.mediaQuery);if(s){const l=this.formerActivations&&this.formerActivations.includes(s),u=!this.formerActivations&&t.activatedBreakpoints.includes(s);(l||u)&&(this.deactivations.push(s),this.deactivations.sort(NE))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(fI),d.LFG(Cu),d.LFG(ti.K0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $M{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(e){return e.push(GM),e.sort(NE),e.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(e){e&&void 0===this.printBreakpoints.find(i=>i.mediaQuery===e.mediaQuery)&&(this.printBreakpoints=function zM(n){return n?.mediaQuery.startsWith(P_)??!1}(e)?[e,...this.printBreakpoints]:[...this.printBreakpoints,e])}clear(){this.printBreakpoints=[]}}let ns=(()=>{class n{constructor(t,i,s){this.matchMedia=t,this.breakpoints=i,this.hook=s,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new to.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const i=this.findByQuery(t.mediaQuery);if(i){t=zx(t,i);const s=this.activatedBreakpoints.indexOf(i);t.matches&&-1===s?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort(NE),this.updateStyles()):!t.matches&&-1!==s&&(this._activatedBreakpoints.splice(s,1),this._activatedBreakpoints.sort(NE),this.updateStyles())}}init(t,i,s,l,u=[]){eS(this.updateMap,t,i,s),eS(this.clearMap,t,i,l),this.buildElementKeyMap(t,i),this.watchExtraTriggers(t,i,u)}getValue(t,i,s){const l=this.elementMap.get(t);if(l){const u=void 0!==s?l.get(s):this.getActivatedValues(l,i);if(u)return u.get(i)}}hasValue(t,i){const s=this.elementMap.get(t);if(s){const l=this.getActivatedValues(s,i);if(l)return void 0!==l.get(i)||!1}return!1}setValue(t,i,s,l){let u=this.elementMap.get(t);if(u){const E=(u.get(l)??new Map).set(i,s);u.set(l,E),this.elementMap.set(t,u)}else u=(new Map).set(l,(new Map).set(i,s)),this.elementMap.set(t,u);const m=this.getValue(t,i);void 0!==m&&this.updateElement(t,i,m)}trackValue(t,i){return this.subject.asObservable().pipe((0,Ji.h)(s=>s.element===t&&s.key===i))}updateStyles(){this.elementMap.forEach((t,i)=>{const s=new Set(this.elementKeyMap.get(i));let l=this.getActivatedValues(t);l&&l.forEach((u,m)=>{this.updateElement(i,m,u),s.delete(m)}),s.forEach(u=>{if(l=this.getActivatedValues(t,u),l){const m=l.get(u);this.updateElement(i,u,m)}else this.clearElement(i,u)})})}clearElement(t,i){const s=this.clearMap.get(t);if(s){const l=s.get(i);l&&(l(),this.subject.next({element:t,key:i,value:""}))}}updateElement(t,i,s){const l=this.updateMap.get(t);if(l){const u=l.get(i);u&&(u(s),this.subject.next({element:t,key:i,value:s}))}}releaseElement(t){const i=this.watcherMap.get(t);i&&(i.forEach(l=>l.unsubscribe()),this.watcherMap.delete(t));const s=this.elementMap.get(t);s&&(s.forEach((l,u)=>s.delete(u)),this.elementMap.delete(t))}triggerUpdate(t,i){const s=this.elementMap.get(t);if(s){const l=this.getActivatedValues(s,i);l&&(i?this.updateElement(t,i,l.get(i)):l.forEach((u,m)=>this.updateElement(t,m,u)))}}buildElementKeyMap(t,i){let s=this.elementKeyMap.get(t);s||(s=new Set,this.elementKeyMap.set(t,s)),s.add(i)}watchExtraTriggers(t,i,s){if(s&&s.length){let l=this.watcherMap.get(t);if(l||(l=new Map,this.watcherMap.set(t,l)),!l.get(i)){const m=(0,ME.T)(...s).subscribe(()=>{const E=this.getValue(t,i);this.updateElement(t,i,E)});l.set(i,m)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,i){for(let l=0;l<this.activatedBreakpoints.length;l++){const m=t.get(this.activatedBreakpoints[l].alias);if(m&&(void 0===i||m.has(i)&&null!=m.get(i)))return m}if(!this._useFallbacks)return;const s=t.get("");return void 0===i||s&&s.has(i)?s:void 0}observeActivations(){const t=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe((0,DM.b)(this.hook.interceptEvents(this)),(0,Ji.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(hI),d.LFG(fI),d.LFG(HM))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eS(n,e,t,i){if(void 0!==i){const s=n.get(e)??new Map;s.set(t,i),n.set(e,s)}}let hs=(()=>{class n{constructor(t,i,s,l){this.elementRef=t,this.styleBuilder=i,this.styler=s,this.marshal=l,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new to.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const s=i.split(".").slice(1).join(".");this.setValue(t[i].currentValue,s)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,i){const s=this.styleBuilder,l=s.shouldCache;let u=this.styleCache.get(t);(!u||!l)&&(u=s.buildStyles(t,i),l&&this.styleCache.set(t,u)),this.mru={...u},this.applyStyleToElement(u),s.sideEffect(t,u,i)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,i=!1){if(t){const[s,l]=this.styler.getFlowDirection(t);if(!l&&i){const u=Gx(s);this.styler.applyStyleToElements(u,[t])}return s.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,i,s=this.nativeElement){this.styler.applyStyleToElement(s,t,i)}setValue(t,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,i)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(Ts),d.Y36(qr),d.Y36(ns))},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();function tS(n,e="1",t="1"){let i=[e,t,n],s=n.indexOf("calc");if(s>0){i[2]=nS(n.substring(s).trim());let l=n.substr(0,s).trim().split(" ");2==l.length&&(i[0]=l[0],i[1]=l[1])}else if(0==s)i[2]=nS(n.trim());else{let l=n.split(" ");i=3===l.length?l:[e,t,n]}return i}function nS(n){return n.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function mD(n,e){if(void 0===e)return n;const t=i=>{const s=+i.slice(0,-"x".length);return n.endsWith("x")&&!isNaN(s)?`${s*e.value}${e.unit}`:n};return n.includes(" ")?n.split(" ").map(t).join(" "):t(n)}EventTarget;let qM=(()=>{class n extends Ts{buildStyles(t,{display:i}){const s=Gx(t);return{...s,display:"none"===i?i:s.display}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YM=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let ZM=(()=>{class n extends hs{constructor(t,i,s,l,u){super(t,s,i,l),this._config=u,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){const s=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=rS.get(s)??new Map,rS.set(s,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:s}),this.currentValue=t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(qr),d.Y36(qM),d.Y36(ns),d.Y36(Cu))},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})(),pI=(()=>{class n extends ZM{constructor(){super(...arguments),this.inputs=YM}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[d.qOj]}),n})();const rS=new Map,sS={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let QM=(()=>{class n extends Ts{constructor(t,i){super(),this._styler=t,this._config=i}buildStyles(t,i){return t.endsWith(_D)?function sR(n,e){const[t,i]=n.split(" "),l=S=>`-${S}`;let u="0px",m=l(i??t),E="0px";return"rtl"===e?E=l(t):u=l(t),{margin:`0px ${u} ${m} ${E}`}}(t=mD(t=t.slice(0,t.indexOf(_D)),this._config.multiplier),i.directionality):{}}sideEffect(t,i,s){const l=s.items;if(t.endsWith(_D)){const u=function rR(n,e){const[t,i]=n.split(" ");let l="0px",m="0px";return"rtl"===e?m=t:l=t,{padding:`0px ${l} ${i??t} ${m}`}}(t=mD(t=t.slice(0,t.indexOf(_D)),this._config.multiplier),s.directionality);this._styler.applyStyleToElements(u,s.items)}else{t=mD(t,this._config.multiplier),t=this.addFallbackUnit(t);const u=l.pop(),m=function oR(n,e){const t=aS(e.directionality,e.layout),i={...sS};return i[t]=n,i}(t,s);this._styler.applyStyleToElements(m,l),this._styler.applyStyleToElements(sS,[u])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(qr),d.LFG(Cu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XM=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let JM=(()=>{class n extends hs{constructor(t,i,s,l,u,m){super(t,u,l,m),this.zone=i,this.directionality=s,this.styleUtils=l,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new to.x;const E=[this.directionality.change,this.observerSubject.asObservable()];this.init(E),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,no.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,i=[];for(let s=t.length;s--;)i[s]=t[s];return i}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const s=t.value.split(" ");this.layout=s[0],gD.find(l=>l===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const i=this.childrenNodes.filter(s=>1===s.nodeType&&this.willDisplay(s)).sort((s,l)=>{const u=+this.styler.lookupStyle(s,"order"),m=+this.styler.lookupStyle(l,"order");return isNaN(u)||isNaN(m)||u===m?0:u>m?1:-1});if(i.length>0){const s=this.directionality.value,l=this.layout;"row"===l&&"rtl"===s?this.styleCache=eR:"row"===l&&"rtl"!==s?this.styleCache=nR:"column"===l&&"rtl"===s?this.styleCache=tR:"column"===l&&"rtl"!==s&&(this.styleCache=iR),this.addStyles(t,{directionality:s,items:i,layout:l})}}clearStyles(){const t=Object.keys(this.mru).length>0,i=t?"padding":aS(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(t){const i=this.marshal.getValue(t,"show-hide");return!0===i||void 0===i&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(t=>{t.some(s=>s.addedNodes&&s.addedNodes.length>0||s.removedNodes&&s.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(dD.Is),d.Y36(qr),d.Y36(QM),d.Y36(ns))},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})(),oS=(()=>{class n extends JM{constructor(){super(...arguments),this.inputs=XM}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[d.qOj]}),n})();const eR=new Map,tR=new Map,nR=new Map,iR=new Map,_D=" grid";function aS(n,e){switch(e){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===n?"margin-left":"margin-right";case"row-reverse":return"rtl"===n?"margin-right":"margin-left"}}let aR=(()=>{class n extends Ts{constructor(t){super(),this.layoutConfig=t}buildStyles(t,i){let[s,l,...u]=t.split(" "),m=u.join(" ");const E=i.direction.indexOf("column")>-1?"column":"row",S=LE(E)?"max-width":"max-height",B=LE(E)?"min-width":"min-height",Q=String(m).indexOf("calc")>-1,$e=Q||"auto"===m,st=String(m).indexOf("%")>-1&&!Q,vt=String(m).indexOf("px")>-1||String(m).indexOf("rem")>-1||String(m).indexOf("em")>-1||String(m).indexOf("vw")>-1||String(m).indexOf("vh")>-1;let Ft=Q||vt;s="0"==s?0:s,l="0"==l?0:l;const jt=!s&&!l;let rn={};const Sn={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(m||""){case"":const vn=!1!==this.layoutConfig.useColumnBasisZero;m="row"===E?"0%":vn?"0.000000001px":"auto";break;case"initial":case"nogrow":s=0,m="auto";break;case"grow":m="100%";break;case"noshrink":l=0,m="auto";break;case"auto":break;case"none":s=0,l=0,m="auto";break;default:!Ft&&!st&&!isNaN(m)&&(m+="%"),"0%"===m&&(Ft=!0),"0px"===m&&(m="0%"),rn=yh(Sn,Q?{"flex-grow":s,"flex-shrink":l,"flex-basis":Ft?m:"100%"}:{flex:`${s} ${l} ${Ft?m:"100%"}`})}return rn.flex||rn["flex-grow"]||(rn=yh(Sn,Q?{"flex-grow":s,"flex-shrink":l,"flex-basis":m}:{flex:`${s} ${l} ${m}`})),"0%"!==m&&"0px"!==m&&"0.000000001px"!==m&&"auto"!==m&&(rn[B]=jt||Ft&&s?m:null,rn[S]=jt||!$e&&l?m:null),rn[B]||rn[S]?i.hasWrap&&(rn[Q?"flex-basis":"flex"]=rn[S]?Q?rn[S]:`${s} ${l} ${rn[S]}`:Q?rn[B]:`${s} ${l} ${rn[B]}`):rn=yh(Sn,Q?{"flex-grow":s,"flex-shrink":l,"flex-basis":m}:{flex:`${s} ${l} ${m}`}),yh(rn,{"box-sizing":"border-box"})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lR=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let cR=(()=>{class n extends hs{constructor(t,i,s,l,u){super(t,l,i,u),this.layoutConfig=s,this.marshal=u,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,no.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,no.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const s=t.value.split(" ");this.direction=s[0],this.wrap=void 0!==s[1]&&"wrap"===s[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const s=this.direction,l=s.startsWith("row"),u=this.wrap;l&&u?this.styleCache=hR:l&&!u?this.styleCache=uR:!l&&u?this.styleCache=fR:!l&&!u&&(this.styleCache=dR);const E=tS(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(E.join(" "),{direction:s,hasWrap:u})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const i=tS(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(qr),d.Y36(Cu),d.Y36(aR),d.Y36(ns))},n.\u0275dir=d.lG2({type:n,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[d.qOj]}),n})(),lS=(()=>{class n extends cR{constructor(){super(...arguments),this.inputs=lR}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[d.qOj]}),n})();const uR=new Map,dR=new Map,hR=new Map,fR=new Map;let LR=(()=>{class n extends Ts{buildStyles(t,i){const s={},[l,u]=t.split(" ");switch(l){case"center":s["justify-content"]="center";break;case"space-around":s["justify-content"]="space-around";break;case"space-between":s["justify-content"]="space-between";break;case"space-evenly":s["justify-content"]="space-evenly";break;case"end":case"flex-end":s["justify-content"]="flex-end";break;default:s["justify-content"]="flex-start"}switch(u){case"start":case"flex-start":s["align-items"]=s["align-content"]="flex-start";break;case"center":s["align-items"]=s["align-content"]="center";break;case"end":case"flex-end":s["align-items"]=s["align-content"]="flex-end";break;case"space-between":s["align-content"]="space-between",s["align-items"]="stretch";break;case"space-around":s["align-content"]="space-around",s["align-items"]="stretch";break;case"baseline":s["align-content"]="stretch",s["align-items"]="baseline";break;default:s["align-items"]=s["align-content"]="stretch"}return yh(s,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":"stretch"===u?LE(i.layout)?null:"100%":null,"max-height":"stretch"===u&&LE(i.layout)?"100%":null})}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NR=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let BR=(()=>{class n extends hs{constructor(t,i,s,l){super(t,s,i,l),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,no.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(t){const i=this.layout||"row",s=this.inline;"row"===i&&s?this.styleCache=HR:"row"!==i||s?"row-reverse"===i&&s?this.styleCache=zR:"row-reverse"!==i||s?"column"===i&&s?this.styleCache=$R:"column"!==i||s?"column-reverse"===i&&s?this.styleCache=WR:"column-reverse"===i&&!s&&(this.styleCache=GR):this.styleCache=UR:this.styleCache=jR:this.styleCache=VR,this.addStyles(t,{layout:i,inline:s})}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],this.inline=t.value.includes("inline"),gD.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(qr),d.Y36(LR),d.Y36(ns))},n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})(),gI=(()=>{class n extends BR{constructor(){super(...arguments),this.inputs=NR}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[d.qOj]}),n})();const VR=new Map,UR=new Map,jR=new Map,GR=new Map,HR=new Map,$R=new Map,zR=new Map,WR=new Map;let cS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cI,dD.vT]}),n})(),tO=(()=>{class n extends Ts{buildStyles(t,i){return{display:"true"===t?i.display||(i.isServer?"initial":""):"none"}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nO=(()=>{class n extends hs{constructor(t,i,s,l,u,m,E){super(t,i,s,l),this.layoutConfig=u,this.platformId=m,this.serverModuleLoaded=E,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const t=Array.from(this.nativeElement.children);for(let s=0;s<t.length;s++)if(this.marshal.hasValue(t[s],"flex")){this.hasFlexChild=!0;break}mI.has(this.nativeElement)?this.display=mI.get(this.nativeElement):(this.display=this.getDisplayStyle(),mI.set(this.nativeElement,this.display)),this.init();const i=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===i||""===i?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(t){Object.keys(t).forEach(i=>{if(-1!==this.inputs.indexOf(i)){const s=i.split("."),l=s.slice(1).join("."),u=t[i].currentValue;let m=""===u||0!==u&&(0,ds.Ig)(u);"fxHide"===s[0]&&(m=!m),this.setValue(m,l)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(t=>{this.marshal.trackValue(this.nativeElement,t).pipe((0,no.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(t=!0){if(""===t)return;const i=(0,ti.PM)(this.platformId);this.addStyles(t?"true":"false",{display:this.display,isServer:i}),i&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(tO),d.Y36(qr),d.Y36(ns),d.Y36(Cu),d.Y36(d.Lbi),d.Y36(O_))},n.\u0275dir=d.lG2({type:n,features:[d.qOj,d.TTD]}),n})();const mI=new WeakMap,iO=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let uS=(()=>{class n extends nO{constructor(){super(...arguments),this.inputs=iO}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=d.n5z(n)))(i||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[d.qOj]}),n})(),mS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cI]}),n})(),uO=(()=>{class n{constructor(){this.menuToggle=new d.vpe,this.signOut=new d.vpe}ngOnInit(){}onMenuToggleDispatch(){this.menuToggle.emit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],inputs:{isAuthorized:"isAuthorized"},outputs:{menuToggle:"menuToggle",signOut:"signOut"},decls:11,vars:0,consts:[["color","primary"],["fxFlex","","fxLayout","row",1,"brandName"],["fxLayout","row","fxLayoutGap","10px"],["fxFlex","","fxLayout","row","fxLayoutAlign","flex-end","fxHide.xs",""],["fxLayout","row","fxLayoutGap","10px",1,"navigation-menu"],["svgIcon","whatsapp"],["href","https://wa.me/59177909950","target","_blank"]],template:function(t,i){1&t&&(d.TgZ(0,"mat-toolbar",0)(1,"div",1)(2,"span",2),d._uU(3,"FAZUUPER"),d.qZA()(),d.TgZ(4,"div",3)(5,"ul",4)(6,"li"),d._UZ(7,"mat-icon",5),d.qZA(),d.TgZ(8,"li")(9,"a",6),d._uU(10," Contact Us! "),d.qZA()()()()())},dependencies:[Ux.Ye,pD.Hw,pI,oS,gI,lS,uS],styles:[".navigation-menu[_ngcontent-%COMP%]{list-style:none;margin:0}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;cursor:pointer}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#dbcde6}.mat-toolbar[_ngcontent-%COMP%]{background-color:#15694d}.brandName[_ngcontent-%COMP%]{padding-left:400px;font-size:x-large;font-weight:1000}"]}),n})(),dO=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-footer"]],decls:16,vars:0,consts:[["fxLayout","column","fxLayoutAlign","center"],["fxLayout","column",1,"navigation-menu"],["fxLayout","row","fxLayoutAlign","center center",1,"social-links"],[2,"padding","10px"],["href","https://wa.me/59177909950","target","_blank","rel","noopener noreferrer"],["svgIcon","whatsapp"],["href","https://www.instagram.com/fazuuper?igsh=ang5dDQxN3Z2cDBy","target","_blank","rel","noopener noreferrer"],["svgIcon","instagram"]],template:function(t,i){1&t&&(d.TgZ(0,"div",0)(1,"ul",1)(2,"li")(3,"p"),d._uU(4,"412 W 7th ST STE 707 Clovis, NM, 88101 United States"),d.qZA()(),d.TgZ(5,"li")(6,"ul",2)(7,"li",3)(8,"a",4),d._UZ(9,"mat-icon",5),d.qZA()(),d.TgZ(10,"li",3)(11,"a",6),d._UZ(12,"mat-icon",7),d.qZA()()()(),d.TgZ(13,"li")(14,"p"),d._uU(15,"\xa9 2024 Fazuuper LLC Consultoring Inc."),d.qZA()()()())},dependencies:[pD.Hw,pI,gI],styles:[".navigation-menu[_ngcontent-%COMP%]{list-style:none;text-align:center;margin:0;color:#fff;background-color:#15694d}.social-links[_ngcontent-%COMP%]{list-style:none}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;cursor:pointer}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#dbcde6}.mat-toolbar[_ngcontent-%COMP%]{background-color:#15694d}"]}),n})(),hO=(()=>{class n{constructor(t,i){this.notification=t,this.router=i,this.showSpinner=!1,this.title="Fazzuper LLC Page"}ngOnInit(){}onToggleSpinner(){this.showSpinner=!this.showSpinner}onFilesChanged(t){console.log("urls",t)}onSuccess(){this.notification.success("Procedure was succesful!")}onError(){this.notification.error("Errors were found during the process")}onSignOut(){localStorage.removeItem("token"),this.router.navigate(["/auth/login"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(kx),d.Y36(aD.F0))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[[1,"main-content"]],template:function(t,i){1&t&&(d.TgZ(0,"mat-sidenav-container")(1,"mat-sidenav-content"),d._UZ(2,"app-header"),d.TgZ(3,"main",0),d._UZ(4,"router-outlet"),d.qZA(),d._UZ(5,"app-footer"),d.qZA()())},dependencies:[aD.lC,Vx,aI,uO,dO],styles:["mat-sidenav-container[_ngcontent-%COMP%], mat-sidenav-content[_ngcontent-%COMP%], mat-sidenav[_ngcontent-%COMP%], mat-nav-list[_ngcontent-%COMP%]{height:100%}mat-sidenav[_ngcontent-%COMP%]{width:250px}app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:1000}.main-content[_ngcontent-%COMP%]{padding-top:64px}"]}),n})();const yD_firebase_config={apiKey:"AIzaSyBljiaFUG4xuAui1CfZqMCvrLYVndKNUI0",authDomain:"edificacion-app-9e206.firebaseapp.com",projectId:"edificacion-app-9e206",storageBucket:"edificacion-app-9e206.appspot.com",messagingSenderId:"399997171899",appId:"1:399997171899:web:0d55ade49b8c93ecb6119e"};var fO=D(727);function pO(n,e){if(1&n&&(d.O4$(),d._UZ(0,"circle",4)),2&n){const t=d.oxw(),i=d.MAs(1);d.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),d.uIk("r",t._getCircleRadius())}}function gO(n,e){if(1&n&&(d.O4$(),d._UZ(0,"circle",4)),2&n){const t=d.oxw(),i=d.MAs(1);d.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(i)),d.uIk("r",t._getCircleRadius())}}const _O=(0,Ss.pj)(class{constructor(n){this._elementRef=n}},"primary"),yO=new d.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function vO(){return{diameter:100}}});class Mf extends _O{constructor(e,t,i,s,l,u,m,E){super(e),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=fO.w0.EMPTY,this.mode="determinate";const S=Mf._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),S.has(i.head)||S.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!l&&!l._forceAnimations,"mat-spinner"===e.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),l&&(l.color&&(this.color=this.defaultColor=l.color),l.diameter&&(this.diameter=l.diameter),l.strokeWidth&&(this.strokeWidth=l.strokeWidth)),t.isBrowser&&t.SAFARI&&m&&u&&E&&(this._resizeSubscription=m.change(150).subscribe(()=>{"indeterminate"===this.mode&&E.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(e){this._diameter=(0,ds.su)(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=(0,ds.su)(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,(0,ds.su)(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=(0,cD.kV)(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(e){const t=50*(e.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,i=Mf._diameters;let s=i.get(e);if(!s||!s.has(t)){const l=this._document.createElement("style");l.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),l.textContent=this._getAnimationText(),e.appendChild(l),s||(s=new Set,i.set(e,s)),s.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}Mf._diameters=new WeakMap,Mf.\u0275fac=function(e){return new(e||Mf)(d.Y36(d.SBq),d.Y36(cD.t4),d.Y36(ti.K0,8),d.Y36(d.QbO,8),d.Y36(yO),d.Y36(d.sBO),d.Y36(Du.rL),d.Y36(d.R0b))},Mf.\u0275cmp=d.Xpm({type:Mf,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(d.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),d.Udp("width",t.diameter,"px")("height",t.diameter,"px"),d.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[d.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(d.O4$(),d.TgZ(0,"svg",0,1),d.YNc(2,pO,1,11,"circle",2),d.YNc(3,gO,1,9,"circle",3),d.qZA()),2&e&&(d.Udp("width",t.diameter,"px")("height",t.diameter,"px"),d.Q6J("ngSwitch","indeterminate"===t.mode),d.uIk("viewBox",t._getViewBox()),d.xp6(2),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1))},dependencies:[ti.RF,ti.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let bO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Ss.BQ,ti.ez,Ss.BQ]}),n})(),_S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ti.ez,bO]}),n})(),wO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ti.ez,_S,_S]}),n})();function yS(n){return new d.vHH(3e3,!1)}function iP(){return typeof window<"u"&&typeof window.document<"u"}function yI(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rf(n){switch(n.length){case 0:return new Di.ZN;case 1:return n[0];default:return new Di.ZE(n)}}function vS(n,e,t,i,s=new Map,l=new Map){const u=[],m=[];let E=-1,S=null;if(i.forEach(B=>{const Q=B.get("offset"),$e=Q==E,st=$e&&S||new Map;B.forEach((vt,Ft)=>{let jt=Ft,rn=vt;if("offset"!==Ft)switch(jt=e.normalizePropertyName(jt,u),rn){case Di.k1:rn=s.get(Ft);break;case Di.l3:rn=l.get(Ft);break;default:rn=e.normalizeStyleValue(Ft,jt,rn,u)}st.set(jt,rn)}),$e||m.push(st),S=st,E=Q}),u.length)throw function zO(n){return new d.vHH(3502,!1)}();return m}function vI(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&EI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&EI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&EI(t,"destroy",n)))}}function EI(n,e,t){const l=bI(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(l._data=u),l}function bI(n,e,t,i,s="",l=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:s,totalTime:l,disabled:!!u}}function Zl(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function ES(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let wI=(n,e)=>!1,bS=(n,e,t)=>[],wS=null;function DI(n){const e=n.parentNode||n.host;return e===wS?null:e}(yI()||typeof Element<"u")&&(iP()?(wS=(()=>document.documentElement)(),wI=(n,e)=>{for(;e;){if(e===n)return!0;e=DI(e)}return!1}):wI=(n,e)=>n.contains(e),bS=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Cg=null,DS=!1;const CS=wI,AS=bS;let IS=(()=>{class n{validateStyleProperty(t){return function sP(n){Cg||(Cg=function oP(){return typeof document<"u"?document.body:null}()||{},DS=!!Cg.style&&"WebkitAppearance"in Cg.style);let e=!0;return Cg.style&&!function rP(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Cg.style,!e&&DS&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Cg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return CS(t,i)}getParentElement(t){return DI(t)}query(t,i,s){return AS(t,i,s)}computeStyle(t,i,s){return s||""}animate(t,i,s,l,u,m=[],E){return new Di.ZN(s,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),CI=(()=>{class n{}return n.NOOP=new IS,n})();const AI="ng-enter",vD="ng-leave",ED="ng-trigger",bD=".ng-trigger",SS="ng-animating",II=".ng-animating";function Eh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:xI(parseFloat(e[1]),e[2])}function xI(n,e){return"s"===e?1e3*n:n}function wD(n,e,t){return n.hasOwnProperty("duration")?n:function cP(n,e,t){let s,l=0,u="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(yS()),{duration:0,delay:0,easing:""};s=xI(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(l=xI(parseFloat(E),m[4]));const S=m[5];S&&(u=S)}else s=n;if(!t){let m=!1,E=e.length;s<0&&(e.push(function DO(){return new d.vHH(3100,!1)}()),m=!0),l<0&&(e.push(function CO(){return new d.vHH(3101,!1)}()),m=!0),m&&e.splice(E,0,yS())}return{duration:s,delay:l,easing:u}}(n,e,t)}function BE(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function TS(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Of(n,e=new Map,t){if(t)for(let[i,s]of t)e.set(i,s);for(let[i,s]of n)e.set(i,s);return e}function RS(n,e,t){return t?e+":"+t+";":""}function OS(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=RS(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=RS(0,fP(t),n.style[t]));n.setAttribute("style",e)}function md(n,e,t){n.style&&(e.forEach((i,s)=>{const l=TI(s);t&&!t.has(s)&&t.set(s,n.style[l]),n.style[l]=i}),yI()&&OS(n))}function Ag(n,e){n.style&&(e.forEach((t,i)=>{const s=TI(i);n.style[s]=""}),yI()&&OS(n))}function VE(n){return Array.isArray(n)?1==n.length?n[0]:(0,Di.vP)(n):n}const SI=new RegExp("{{\\s*(.+?)\\s*}}","g");function PS(n){let e=[];if("string"==typeof n){let t;for(;t=SI.exec(n);)e.push(t[1]);SI.lastIndex=0}return e}function UE(n,e,t){const i=n.toString(),s=i.replace(SI,(l,u)=>{let m=e[u];return null==m&&(t.push(function IO(n){return new d.vHH(3003,!1)}()),m=""),m.toString()});return s==i?n:s}function DD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const hP=/-+([a-z0-9])/g;function TI(n){return n.replace(hP,(...e)=>e[1].toUpperCase())}function fP(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ql(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function xO(n){return new d.vHH(3004,!1)}()}}function kS(n,e){return window.getComputedStyle(n)[e]}function vP(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function EP(n,e,t){if(":"==n[0]){const E=function bP(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function jO(n){return new d.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function UO(n){return new d.vHH(3015,!1)}()),e;const s=i[1],l=i[2],u=i[3];e.push(FS(s,u));"<"==l[0]&&!("*"==s&&"*"==u)&&e.push(FS(u,s))}(i,t,e)):t.push(n),t}const xD=new Set(["true","1"]),SD=new Set(["false","0"]);function FS(n,e){const t=xD.has(n)||SD.has(n),i=xD.has(e)||SD.has(e);return(s,l)=>{let u="*"==n||n==s,m="*"==e||e==l;return!u&&t&&"boolean"==typeof s&&(u=s?xD.has(n):SD.has(n)),!m&&i&&"boolean"==typeof l&&(m=l?xD.has(e):SD.has(e)),u&&m}}const wP=new RegExp("s*:selfs*,?","g");function MI(n,e,t,i){return new DP(n).build(e,t,i)}class DP{constructor(e){this._driver=e}build(e,t,i){const s=new IP(t);return this._resetContextStyleTimingState(s),Ql(this,VE(e),s)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,s=t.depCount=0;const l=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function TO(){return new d.vHH(3006,!1)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,S=E.name;S.toString().split(/\s*,\s*/).forEach(B=>{E.name=B,l.push(this.visitState(E,t))}),E.name=S}else if(1==m.type){const E=this.visitTransition(m,t);i+=E.queryCount,s+=E.depCount,u.push(E)}else t.errors.push(function MO(){return new d.vHH(3007,!1)}())}),{type:7,name:e.name,states:l,transitions:u,queryCount:i,depCount:s,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(i.containsDynamicStyles){const l=new Set,u=s||{};i.styles.forEach(m=>{m instanceof Map&&m.forEach(E=>{PS(E).forEach(S=>{u.hasOwnProperty(S)||l.add(S)})})}),l.size&&(DD(l.values()),t.errors.push(function RO(n,e){return new d.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ql(this,VE(e.animation),t);return{type:1,matchers:vP(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ig(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ql(this,i,t)),options:Ig(e.options)}}visitGroup(e,t){const i=t.currentTime;let s=0;const l=e.steps.map(u=>{t.currentTime=i;const m=Ql(this,u,t);return s=Math.max(s,t.currentTime),m});return t.currentTime=s,{type:3,steps:l,options:Ig(e.options)}}visitAnimate(e,t){const i=function SP(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return RI(wD(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=RI(0,0,"");return l.dynamic=!0,l.strValue=t,l}const s=wD(t,e);return RI(s.duration,s.delay,s.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let s,l=e.styles?e.styles:(0,Di.oB)({});if(5==l.type)s=this.visitKeyframes(l,t);else{let u=e.styles,m=!1;if(!u){m=!0;const S={};i.easing&&(S.easing=i.easing),u=(0,Di.oB)(S)}t.currentTime+=i.duration+i.delay;const E=this.visitStyle(u,t);E.isEmptyStep=m,s=E}return t.currentAnimateTimings=null,{type:4,timings:i,style:s,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],s=Array.isArray(e.styles)?e.styles:[e.styles];for(let m of s)"string"==typeof m?m===Di.l3?i.push(m):t.errors.push(new d.vHH(3002,!1)):i.push(TS(m));let l=!1,u=null;return i.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(u=m.get("easing"),m.delete("easing")),!l))for(let E of m.values())if(E.toString().indexOf("{{")>=0){l=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let s=t.currentTime,l=t.currentTime;i&&l>0&&(l-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((m,E)=>{const S=t.collectedStyles.get(t.currentQuerySelector),B=S.get(E);let Q=!0;B&&(l!=s&&l>=B.startTime&&s<=B.endTime&&(t.errors.push(function PO(n,e,t,i,s){return new d.vHH(3010,!1)}()),Q=!1),l=B.startTime),Q&&S.set(E,{startTime:l,endTime:s}),t.options&&function dP(n,e,t){const i=e.params||{},s=PS(n);s.length&&s.forEach(l=>{i.hasOwnProperty(l)||t.push(function AO(n){return new d.vHH(3001,!1)}())})}(m,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function kO(){return new d.vHH(3011,!1)}()),i;let l=0;const u=[];let m=!1,E=!1,S=0;const B=e.steps.map(rn=>{const Sn=this._makeStyleAst(rn,t);let vn=null!=Sn.offset?Sn.offset:function xP(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Sn.styles),An=0;return null!=vn&&(l++,An=Sn.offset=vn),E=E||An<0||An>1,m=m||An<S,S=An,u.push(An),Sn});E&&t.errors.push(function FO(){return new d.vHH(3012,!1)}()),m&&t.errors.push(function LO(){return new d.vHH(3200,!1)}());const Q=e.steps.length;let $e=0;l>0&&l<Q?t.errors.push(function NO(){return new d.vHH(3202,!1)}()):0==l&&($e=1/(Q-1));const st=Q-1,vt=t.currentTime,Ft=t.currentAnimateTimings,jt=Ft.duration;return B.forEach((rn,Sn)=>{const vn=$e>0?Sn==st?1:$e*Sn:u[Sn],An=vn*jt;t.currentTime=vt+Ft.delay+An,Ft.duration=An,this._validateStyleAst(rn,t),rn.offset=vn,i.styles.push(rn)}),i}visitReference(e,t){return{type:8,animation:Ql(this,VE(e.animation),t),options:Ig(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ig(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ig(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[l,u]=function CP(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(wP,"")),n=n.replace(/@\*/g,bD).replace(/@\w+/g,t=>bD+"-"+t.slice(1)).replace(/:animating/g,II),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+l:l,Zl(t.collectedStyles,t.currentQuerySelector,new Map);const m=Ql(this,VE(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:l,limit:s.limit||0,optional:!!s.optional,includeSelf:u,animation:m,originalSelector:e.selector,options:Ig(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function BO(){return new d.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:wD(e.timings,t.errors,!0);return{type:12,animation:Ql(this,VE(e.animation),t),timings:i,options:null}}}class IP{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ig(n){return n?(n=BE(n)).params&&(n.params=function AP(n){return n?BE(n):null}(n.params)):n={},n}function RI(n,e,t){return{duration:n,delay:e,easing:t}}function OI(n,e,t,i,s,l,u=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:s,delay:l,totalTime:s+l,easing:u,subTimeline:m}}class TD{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RP=new RegExp(":enter","g"),PP=new RegExp(":leave","g");function PI(n,e,t,i,s,l=new Map,u=new Map,m,E,S=[]){return(new kP).buildKeyframes(n,e,t,i,s,l,u,m,E,S)}class kP{buildKeyframes(e,t,i,s,l,u,m,E,S,B=[]){S=S||new TD;const Q=new kI(e,t,S,s,l,B,[]);Q.options=E;const $e=E.delay?Eh(E.delay):0;Q.currentTimeline.delayNextStep($e),Q.currentTimeline.setStyles([u],null,Q.errors,E),Ql(this,i,Q);const st=Q.timelines.filter(vt=>vt.containsAnimation());if(st.length&&m.size){let vt;for(let Ft=st.length-1;Ft>=0;Ft--){const jt=st[Ft];if(jt.element===t){vt=jt;break}}vt&&!vt.allowOnlyTimelineStyles()&&vt.setStyles([m],null,Q.errors,E)}return st.length?st.map(vt=>vt.buildKeyframes()):[OI(t,[],[],[],0,$e,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const s=t.createSubContext(e.options),l=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,s,s.options);l!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const s of e){const l=s?.delay;if(l){const u="number"==typeof l?l:Eh(UE(l,s?.params??{},t.errors));i.delayNextStep(u)}}}_visitSubInstructions(e,t,i){let l=t.currentTimeline.currentTime;const u=null!=i.duration?Eh(i.duration):null,m=null!=i.delay?Eh(i.delay):null;return 0!==u&&e.forEach(E=>{const S=t.appendInstructionToTimeline(E,u,m);l=Math.max(l,S.duration+S.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Ql(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let s=t;const l=e.options;if(l&&(l.params||l.delay)&&(s=t.createSubContext(l),s.transformIntoNewTimeline(),null!=l.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=MD);const u=Eh(l.delay);s.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Ql(this,u,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let s=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Eh(e.options.delay):0;e.steps.forEach(u=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),Ql(this,u,m),s=Math.max(s,m.currentTimeline.currentTime),i.push(m.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return wD(t.params?UE(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),s.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(i.duration),this.visitStyle(l,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,s=t.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();const l=s&&s.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(l):i.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,s=t.currentTimeline.duration,l=i.duration,m=t.createSubContext().currentTimeline;m.easing=i.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*l),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(s+l),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,s=e.options||{},l=s.delay?Eh(s.delay):0;l&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=MD);let u=i;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((S,B)=>{t.currentQueryIndex=B;const Q=t.createSubContext(e.options,S);l&&Q.delayNextStep(l),S===t.element&&(E=Q.currentTimeline),Ql(this,e.animation,Q),Q.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,Q.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,s=t.currentTimeline,l=e.timings,u=Math.abs(l.duration),m=u*(t.currentQueryTotal-1);let E=u*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=m-E;break;case"full":E=i.currentStaggerTime}const B=t.currentTimeline;E&&B.delayNextStep(E);const Q=B.currentTime;Ql(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=s.currentTime-Q+(s.startTime-i.currentTimeline.startTime)}}const MD={};class kI{constructor(e,t,i,s,l,u,m,E){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=l,this.errors=u,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=MD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new RD(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let s=this.options;null!=i.duration&&(s.duration=Eh(i.duration)),null!=i.delay&&(s.delay=Eh(i.delay));const l=i.params;if(l){let u=s.params;u||(u=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!u.hasOwnProperty(m))&&(u[m]=UE(l[m],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(s=>{i[s]=t[s]})}}return e}createSubContext(e=null,t,i){const s=t||this.element,l=new kI(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=MD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const s={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},l=new FP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(l),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,s,l,u){let m=[];if(s&&m.push(this.element),e.length>0){e=(e=e.replace(RP,"."+this._enterClassName)).replace(PP,"."+this._leaveClassName);let S=this._driver.query(this.element,e,1!=i);0!==i&&(S=i<0?S.slice(S.length+i,S.length):S.slice(0,i)),m.push(...S)}return!l&&0==m.length&&u.push(function VO(n){return new d.vHH(3014,!1)}()),m}}class RD{constructor(e,t,i,s){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new RD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Di.l3),this._currentKeyframe.set(t,Di.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,s){t&&this._previousKeyframe.set("easing",t);const l=s&&s.params||{},u=function LP(n,e){const t=new Map;let i;return n.forEach(s=>{if("*"===s){i=i||e.keys();for(let l of i)t.set(l,Di.l3)}else Of(s,t)}),t}(e,this._globalTimelineStyles);for(let[m,E]of u){const S=UE(E,l,i);this._pendingStyles.set(m,S),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Di.l3),this._updateStyle(m,S)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const s=this._styleSummary.get(i);(!s||t.time>s.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((m,E)=>{const S=Of(m,new Map,this._backFill);S.forEach((B,Q)=>{B===Di.k1?e.add(Q):B===Di.l3&&t.add(Q)}),i||S.set("offset",E/this.duration),s.push(S)});const l=e.size?DD(e.values()):[],u=t.size?DD(t.values()):[];if(i){const m=s[0],E=new Map(m);m.set("offset",0),E.set("offset",1),s=[m,E]}return OI(this.element,s,l,u,this.duration,this.startTime,this.easing,!1)}}class FP extends RD{constructor(e,t,i,s,l,u,m=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],u=i+t,m=t/u,E=Of(e[0]);E.set("offset",0),l.push(E);const S=Of(e[0]);S.set("offset",BS(m)),l.push(S);const B=e.length-1;for(let Q=1;Q<=B;Q++){let $e=Of(e[Q]);const st=$e.get("offset");$e.set("offset",BS((t+st*i)/u)),l.push($e)}i=u,t=0,s="",e=l}return OI(this.element,e,this.preStyleProps,this.postStyleProps,i,t,s,!0)}}function BS(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class FI{}const NP=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class BP extends FI{normalizePropertyName(e,t){return TI(e)}normalizeStyleValue(e,t,i,s){let l="";const u=i.toString().trim();if(NP.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)l="px";else{const m=i.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&s.push(function SO(n,e){return new d.vHH(3005,!1)}())}return u+l}}function VS(n,e,t,i,s,l,u,m,E,S,B,Q,$e){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:l,toState:i,toStyles:u,timelines:m,queriedElements:E,preStyleProps:S,postStyleProps:B,totalTime:Q,errors:$e}}const LI={};class US{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,s){return function VP(n,e,t,i,s){return n.some(l=>l(e,t,i,s))}(this.ast.matchers,e,t,i,s)}buildStyles(e,t,i){let s=this._stateStyles.get("*");return void 0!==e&&(s=this._stateStyles.get(e?.toString())||s),s?s.buildStyles(t,i):new Map}build(e,t,i,s,l,u,m,E,S,B){const Q=[],$e=this.ast.options&&this.ast.options.params||LI,vt=this.buildStyles(i,m&&m.params||LI,Q),Ft=E&&E.params||LI,jt=this.buildStyles(s,Ft,Q),rn=new Set,Sn=new Map,vn=new Map,An="void"===s,hi={params:UP(Ft,$e),delay:this.ast.options?.delay},ri=B?[]:PI(e,t,this.ast.animation,l,u,vt,jt,hi,S,Q);let ji=0;if(ri.forEach(ha=>{ji=Math.max(ha.duration+ha.delay,ji)}),Q.length)return VS(t,this._triggerName,i,s,An,vt,jt,[],[],Sn,vn,ji,Q);ri.forEach(ha=>{const bh=ha.element,fT=Zl(Sn,bh,new Set);ha.preStyleProps.forEach(xg=>fT.add(xg));const GE=Zl(vn,bh,new Set);ha.postStyleProps.forEach(xg=>GE.add(xg)),bh!==t&&rn.add(bh)});const fs=DD(rn.values());return VS(t,this._triggerName,i,s,An,vt,jt,ri,fs,Sn,vn,ji)}}function UP(n,e){const t=BE(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class jP{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,s=BE(this.defaultParams);return Object.keys(e).forEach(l=>{const u=e[l];null!==u&&(s[l]=u)}),this.styles.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,m)=>{u&&(u=UE(u,s,t));const E=this.normalizer.normalizePropertyName(m,t);u=this.normalizer.normalizeStyleValue(m,E,u,t),i.set(E,u)})}),i}}class HP{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(s=>{this.states.set(s.name,new jP(s.style,s.options&&s.options.params||{},i))}),jS(this.states,"true","1"),jS(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new US(e,s,this.states))}),this.fallbackTransition=function $P(n,e,t){return new US(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,s){return this.transitionFactories.find(u=>u.match(e,t,i,s))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function jS(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const zP=new TD;class WP{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],l=MI(this._driver,t,i,[]);if(i.length)throw function WO(n){return new d.vHH(3503,!1)}();this._animations.set(e,l)}_buildPlayer(e,t,i){const s=e.element,l=vS(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(s,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const s=[],l=this._animations.get(e);let u;const m=new Map;if(l?(u=PI(this._driver,t,l,AI,vD,new Map,new Map,i,zP,s),u.forEach(B=>{const Q=Zl(m,B.element,new Map);B.postStyleProps.forEach($e=>Q.set($e,null))})):(s.push(function KO(){return new d.vHH(3300,!1)}()),u=[]),s.length)throw function qO(n){return new d.vHH(3504,!1)}();m.forEach((B,Q)=>{B.forEach(($e,st)=>{B.set(st,this._driver.computeStyle(Q,st,Di.l3))})});const S=Rf(u.map(B=>{const Q=m.get(B.element);return this._buildPlayer(B,new Map,Q)}));return this._playersById.set(e,S),S.onDestroy(()=>this.destroy(e)),this.players.push(S),S}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function YO(n){return new d.vHH(3301,!1)}();return t}listen(e,t,i,s){const l=bI(t,"","","");return vI(this._getPlayer(e),i,l,s),()=>{}}command(e,t,i,s){if("register"==i)return void this.register(e,s[0]);if("create"==i)return void this.create(e,t,s[0]||{});const l=this._getPlayer(e);switch(i){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const GS="ng-animate-queued",NI="ng-animate-disabled",QP=[],HS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},XP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Cc="__ng_removed";class BI{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function nk(n){return n??null}(i?e.value:e),i){const l=BE(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(s=>{null==i[s]&&(i[s]=t[s])})}}}const jE="void",VI=new BI(jE);class JP{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ac(t,this._hostClassName)}listen(e,t,i,s){if(!this._triggers.has(t))throw function ZO(n,e){return new d.vHH(3302,!1)}();if(null==i||0==i.length)throw function QO(n){return new d.vHH(3303,!1)}();if(!function ik(n){return"start"==n||"done"==n}(i))throw function XO(n,e){return new d.vHH(3400,!1)}();const l=Zl(this._elementListeners,e,[]),u={name:t,phase:i,callback:s};l.push(u);const m=Zl(this._engine.statesByElement,e,new Map);return m.has(t)||(Ac(e,ED),Ac(e,ED+"-"+t),m.set(t,VI)),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(u);E>=0&&l.splice(E,1),this._triggers.has(t)||m.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function JO(n){return new d.vHH(3401,!1)}();return t}trigger(e,t,i,s=!0){const l=this._getTrigger(t),u=new UI(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Ac(e,ED),Ac(e,ED+"-"+t),this._engine.statesByElement.set(e,m=new Map));let E=m.get(t);const S=new BI(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&E&&S.absorbOptions(E.options),m.set(t,S),E||(E=VI),S.value!==jE&&E.value===S.value){if(!function ok(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let s=0;s<t.length;s++){const l=t[s];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,S.params)){const Ft=[],jt=l.matchStyles(E.value,E.params,Ft),rn=l.matchStyles(S.value,S.params,Ft);Ft.length?this._engine.reportError(Ft):this._engine.afterFlush(()=>{Ag(e,jt),md(e,rn)})}return}const $e=Zl(this._engine.playersByElement,e,[]);$e.forEach(Ft=>{Ft.namespaceId==this.id&&Ft.triggerName==t&&Ft.queued&&Ft.destroy()});let st=l.matchTransition(E.value,S.value,e,S.params),vt=!1;if(!st){if(!s)return;st=l.fallbackTransition,vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:st,fromState:E,toState:S,player:u,isFallbackTransition:vt}),vt||(Ac(e,GS),u.onStart(()=>{k_(e,GS)})),u.onDone(()=>{let Ft=this.players.indexOf(u);Ft>=0&&this.players.splice(Ft,1);const jt=this._engine.playersByElement.get(e);if(jt){let rn=jt.indexOf(u);rn>=0&&jt.splice(rn,1)}}),this.players.push(u),$e.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,bD,!0);i.forEach(s=>{if(s[Cc])return;const l=this._engine.fetchNamespacesByElement(s);l.size?l.forEach(u=>u.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,i,s){const l=this._engine.statesByElement.get(e),u=new Map;if(l){const m=[];if(l.forEach((E,S)=>{if(u.set(S,E.value),this._triggers.has(S)){const B=this.trigger(e,S,jE,s);B&&m.push(B)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Rf(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const s=new Set;t.forEach(l=>{const u=l.name;if(s.has(u))return;s.add(u);const E=this._triggers.get(u).fallbackTransition,S=i.get(u)||VI,B=new BI(jE),Q=new UI(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:E,fromState:S,toState:B,player:Q,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(i.totalAnimations){const l=i.players.length?i.playersByQueriedElement.get(e):[];if(l&&l.length)s=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)i.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Cc];(!l||l===HS)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ac(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const s=i.player;if(s.destroyed)return;const l=i.element,u=this._elementListeners.get(l);u&&u.forEach(m=>{if(m.name==i.triggerName){const E=bI(l,i.triggerName,i.fromState.value,i.toState.value);E._data=e,vI(i.player,m.phase,E,m.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(i)}),this._queue=[],t.sort((i,s)=>{const l=i.transition.ast.depCount,u=s.transition.ast.depCount;return 0==l||0==u?l-u:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class ek{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new JP(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,m=this.driver.getParentElement(t);for(;m;){const E=s.get(m);if(E){const S=i.indexOf(E);i.splice(S+1,0,e),u=!0;break}m=this.driver.getParentElement(m)}u||i.unshift(e)}else i.push(e);return s.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let s=this._namespaceLookup[e];s&&s.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let s of i.values())if(s.namespaceId){const l=this._fetchNamespace(s.namespaceId);l&&t.add(l)}return t}trigger(e,t,i,s){if(OD(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,i,s),!0}return!1}insertNode(e,t,i,s){if(!OD(t))return;const l=t[Cc];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ac(e,NI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),k_(e,NI))}removeNode(e,t,i,s){if(OD(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,i,s,l){this.collectedLeaveElements.push(t),t[Cc]={namespaceId:e,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,i,s,l){return OD(t)?this._fetchNamespace(e).listen(t,i,s,l):()=>{}}_buildInstruction(e,t,i,s,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,s,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,bD,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,II,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rf(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Cc];if(t&&t.setForRemoval){if(e[Cc]=HS,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(NI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ac(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Rf(t).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(e){throw function eP(n){return new d.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new TD,s=[],l=new Map,u=[],m=new Map,E=new Map,S=new Map,B=new Set;this.disabledNodes.forEach(Hn=>{B.add(Hn);const si=this.driver.query(Hn,".ng-animate-queued",!0);for(let mi=0;mi<si.length;mi++)B.add(si[mi])});const Q=this.bodyNode,$e=Array.from(this.statesByElement.keys()),st=WS($e,this.collectedEnterElements),vt=new Map;let Ft=0;st.forEach((Hn,si)=>{const mi=AI+Ft++;vt.set(si,mi),Hn.forEach(nr=>Ac(nr,mi))});const jt=[],rn=new Set,Sn=new Set;for(let Hn=0;Hn<this.collectedLeaveElements.length;Hn++){const si=this.collectedLeaveElements[Hn],mi=si[Cc];mi&&mi.setForRemoval&&(jt.push(si),rn.add(si),mi.hasAnimation?this.driver.query(si,".ng-star-inserted",!0).forEach(nr=>rn.add(nr)):Sn.add(si))}const vn=new Map,An=WS($e,Array.from(rn));An.forEach((Hn,si)=>{const mi=vD+Ft++;vn.set(si,mi),Hn.forEach(nr=>Ac(nr,mi))}),e.push(()=>{st.forEach((Hn,si)=>{const mi=vt.get(si);Hn.forEach(nr=>k_(nr,mi))}),An.forEach((Hn,si)=>{const mi=vn.get(si);Hn.forEach(nr=>k_(nr,mi))}),jt.forEach(Hn=>{this.processLeaveNode(Hn)})});const hi=[],ri=[];for(let Hn=this._namespaceList.length-1;Hn>=0;Hn--)this._namespaceList[Hn].drainQueuedTransitions(t).forEach(mi=>{const nr=mi.player,Mo=mi.element;if(hi.push(nr),this.collectedEnterElements.length){const fa=Mo[Cc];if(fa&&fa.setForMove){if(fa.previousTriggersValues&&fa.previousTriggersValues.has(mi.triggerName)){const Sg=fa.previousTriggersValues.get(mi.triggerName),Ic=this.statesByElement.get(mi.element);if(Ic&&Ic.has(mi.triggerName)){const FD=Ic.get(mi.triggerName);FD.value=Sg,Ic.set(mi.triggerName,FD)}}return void nr.destroy()}}const _d=!Q||!this.driver.containsElement(Q,Mo),Xl=vn.get(Mo),Pf=vt.get(Mo),ps=this._buildInstruction(mi,i,Pf,Xl,_d);if(ps.errors&&ps.errors.length)return void ri.push(ps);if(_d)return nr.onStart(()=>Ag(Mo,ps.fromStyles)),nr.onDestroy(()=>md(Mo,ps.toStyles)),void s.push(nr);if(mi.isFallbackTransition)return nr.onStart(()=>Ag(Mo,ps.fromStyles)),nr.onDestroy(()=>md(Mo,ps.toStyles)),void s.push(nr);const mT=[];ps.timelines.forEach(fa=>{fa.stretchStartingKeyframe=!0,this.disabledNodes.has(fa.element)||mT.push(fa)}),ps.timelines=mT,i.append(Mo,ps.timelines),u.push({instruction:ps,player:nr,element:Mo}),ps.queriedElements.forEach(fa=>Zl(m,fa,[]).push(nr)),ps.preStyleProps.forEach((fa,Sg)=>{if(fa.size){let Ic=E.get(Sg);Ic||E.set(Sg,Ic=new Set),fa.forEach((FD,HI)=>Ic.add(HI))}}),ps.postStyleProps.forEach((fa,Sg)=>{let Ic=S.get(Sg);Ic||S.set(Sg,Ic=new Set),fa.forEach((FD,HI)=>Ic.add(HI))})});if(ri.length){const Hn=[];ri.forEach(si=>{Hn.push(function tP(n,e){return new d.vHH(3505,!1)}())}),hi.forEach(si=>si.destroy()),this.reportError(Hn)}const ji=new Map,fs=new Map;u.forEach(Hn=>{const si=Hn.element;i.has(si)&&(fs.set(si,si),this._beforeAnimationBuild(Hn.player.namespaceId,Hn.instruction,ji))}),s.forEach(Hn=>{const si=Hn.element;this._getPreviousPlayers(si,!1,Hn.namespaceId,Hn.triggerName,null).forEach(nr=>{Zl(ji,si,[]).push(nr),nr.destroy()})});const ha=jt.filter(Hn=>qS(Hn,E,S)),bh=new Map;zS(bh,this.driver,Sn,S,Di.l3).forEach(Hn=>{qS(Hn,E,S)&&ha.push(Hn)});const GE=new Map;st.forEach((Hn,si)=>{zS(GE,this.driver,new Set(Hn),E,Di.k1)}),ha.forEach(Hn=>{const si=bh.get(Hn),mi=GE.get(Hn);bh.set(Hn,new Map([...Array.from(si?.entries()??[]),...Array.from(mi?.entries()??[])]))});const xg=[],pT=[],gT={};u.forEach(Hn=>{const{element:si,player:mi,instruction:nr}=Hn;if(i.has(si)){if(B.has(si))return mi.onDestroy(()=>md(si,nr.toStyles)),mi.disabled=!0,mi.overrideTotalTime(nr.totalTime),void s.push(mi);let Mo=gT;if(fs.size>1){let Xl=si;const Pf=[];for(;Xl=Xl.parentNode;){const ps=fs.get(Xl);if(ps){Mo=ps;break}Pf.push(Xl)}Pf.forEach(ps=>fs.set(ps,Mo))}const _d=this._buildAnimation(mi.namespaceId,nr,ji,l,GE,bh);if(mi.setRealPlayer(_d),Mo===gT)xg.push(mi);else{const Xl=this.playersByElement.get(Mo);Xl&&Xl.length&&(mi.parentPlayer=Rf(Xl)),s.push(mi)}}else Ag(si,nr.fromStyles),mi.onDestroy(()=>md(si,nr.toStyles)),pT.push(mi),B.has(si)&&s.push(mi)}),pT.forEach(Hn=>{const si=l.get(Hn.element);if(si&&si.length){const mi=Rf(si);Hn.setRealPlayer(mi)}}),s.forEach(Hn=>{Hn.parentPlayer?Hn.syncPlayerEvents(Hn.parentPlayer):Hn.destroy()});for(let Hn=0;Hn<jt.length;Hn++){const si=jt[Hn],mi=si[Cc];if(k_(si,vD),mi&&mi.hasAnimation)continue;let nr=[];if(m.size){let _d=m.get(si);_d&&_d.length&&nr.push(..._d);let Xl=this.driver.query(si,II,!0);for(let Pf=0;Pf<Xl.length;Pf++){let ps=m.get(Xl[Pf]);ps&&ps.length&&nr.push(...ps)}}const Mo=nr.filter(_d=>!_d.destroyed);Mo.length?rk(this,si,Mo):this.processLeaveNode(si)}return jt.length=0,xg.forEach(Hn=>{this.players.push(Hn),Hn.onDone(()=>{Hn.destroy();const si=this.players.indexOf(Hn);this.players.splice(si,1)}),Hn.play()}),xg}elementContainsData(e,t){let i=!1;const s=t[Cc];return s&&s.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,s,l){let u=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(u=m)}else{const m=this.playersByElement.get(e);if(m){const E=!l||l==jE;m.forEach(S=>{S.queued||!E&&S.triggerName!=s||u.push(S)})}}return(i||s)&&(u=u.filter(m=>!(i&&i!=m.namespaceId||s&&s!=m.triggerName))),u}_beforeAnimationBuild(e,t,i){const l=t.element,u=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const S=E.element,B=S!==l,Q=Zl(i,S,[]);this._getPreviousPlayers(S,B,u,m,t.toState).forEach(st=>{const vt=st.getRealPlayer();vt.beforeDestroy&&vt.beforeDestroy(),st.destroy(),Q.push(st)})}Ag(l,t.fromStyles)}_buildAnimation(e,t,i,s,l,u){const m=t.triggerName,E=t.element,S=[],B=new Set,Q=new Set,$e=t.timelines.map(vt=>{const Ft=vt.element;B.add(Ft);const jt=Ft[Cc];if(jt&&jt.removedBeforeQueried)return new Di.ZN(vt.duration,vt.delay);const rn=Ft!==E,Sn=function sk(n){const e=[];return KS(n,e),e}((i.get(Ft)||QP).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===Ft),vn=l.get(Ft),An=u.get(Ft),hi=vS(0,this._normalizer,0,vt.keyframes,vn,An),ri=this._buildPlayer(vt,hi,Sn);if(vt.subTimeline&&s&&Q.add(Ft),rn){const ji=new UI(e,m,Ft);ji.setRealPlayer(ri),S.push(ji)}return ri});S.forEach(vt=>{Zl(this.playersByQueriedElement,vt.element,[]).push(vt),vt.onDone(()=>function tk(n,e,t){let i=n.get(e);if(i){if(i.length){const s=i.indexOf(t);i.splice(s,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,vt.element,vt))}),B.forEach(vt=>Ac(vt,SS));const st=Rf($e);return st.onDestroy(()=>{B.forEach(vt=>k_(vt,SS)),md(E,t.toStyles)}),Q.forEach(vt=>{Zl(s,vt,[]).push(st)}),st}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Di.ZN(e.duration,e.delay)}}class UI{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Di.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(s=>vI(e,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Zl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function OD(n){return n&&1===n.nodeType}function $S(n,e){const t=n.style.display;return n.style.display=e??"none",t}function zS(n,e,t,i,s){const l=[];t.forEach(E=>l.push($S(E)));const u=[];i.forEach((E,S)=>{const B=new Map;E.forEach(Q=>{const $e=e.computeStyle(S,Q,s);B.set(Q,$e),(!$e||0==$e.length)&&(S[Cc]=XP,u.push(S))}),n.set(S,B)});let m=0;return t.forEach(E=>$S(E,l[m++])),u}function WS(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const s=new Set(e),l=new Map;function u(m){if(!m)return 1;let E=l.get(m);if(E)return E;const S=m.parentNode;return E=t.has(S)?S:s.has(S)?1:u(S),l.set(m,E),E}return e.forEach(m=>{const E=u(m);1!==E&&t.get(E).push(m)}),t}function Ac(n,e){n.classList?.add(e)}function k_(n,e){n.classList?.remove(e)}function rk(n,e,t){Rf(t).onDone(()=>n.processLeaveNode(e))}function KS(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Di.ZE?KS(i.players,e):e.push(i)}}function qS(n,e,t){const i=t.get(n);if(!i)return!1;let s=e.get(n);return s?i.forEach(l=>s.add(l)):e.set(n,i),t.delete(n),!0}class PD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,l)=>{},this._transitionEngine=new ek(e,t,i),this._timelineEngine=new WP(e,t,i),this._transitionEngine.onRemovalComplete=(s,l)=>this.onRemovalComplete(s,l)}registerTrigger(e,t,i,s,l){const u=e+"-"+s;let m=this._triggerCache[u];if(!m){const E=[],B=MI(this._driver,l,E,[]);if(E.length)throw function $O(n,e){return new d.vHH(3404,!1)}();m=function GP(n,e,t){return new HP(n,e,t)}(s,B,this._normalizer),this._triggerCache[u]=m}this._transitionEngine.registerTrigger(t,s,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,s){this._transitionEngine.insertNode(e,t,i,s)}onRemove(e,t,i,s){this._transitionEngine.removeNode(e,t,s||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,s){if("@"==i.charAt(0)){const[l,u]=ES(i);this._timelineEngine.command(l,t,u,s)}else this._transitionEngine.trigger(e,t,i,s)}listen(e,t,i,s,l){if("@"==i.charAt(0)){const[u,m]=ES(i);return this._timelineEngine.listen(u,t,m,l)}return this._transitionEngine.listen(e,t,i,s,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let lk=(()=>{class n{constructor(t,i,s){this._element=t,this._startStyles=i,this._endStyles=s,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&md(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(md(this._element,this._initialStyles),this._endStyles&&(md(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ag(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ag(this._element,this._endStyles),this._endStyles=null),md(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function jI(n){let e=null;return n.forEach((t,i)=>{(function ck(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class YS{constructor(e,t,i,s){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{"offset"!==s&&e.set(s,this._finished?i:kS(this.element,s))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class uk{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return CS(e,t)}getParentElement(e){return DI(e)}query(e,t,i){return AS(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,s,l,u=[]){const E={duration:i,delay:s,fill:0==s?"both":"forwards"};l&&(E.easing=l);const S=new Map,B=u.filter(st=>st instanceof YS);(function pP(n,e){return 0===n||0===e})(i,s)&&B.forEach(st=>{st.currentSnapshot.forEach((vt,Ft)=>S.set(Ft,vt))});let Q=function uP(n){return n.length?n[0]instanceof Map?n:n.map(e=>TS(e)):[]}(t).map(st=>Of(st));Q=function gP(n,e,t){if(t.size&&e.length){let i=e[0],s=[];if(t.forEach((l,u)=>{i.has(u)||s.push(u),i.set(u,l)}),s.length)for(let l=1;l<e.length;l++){let u=e[l];s.forEach(m=>u.set(m,kS(n,m)))}}return e}(e,Q,S);const $e=function ak(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=jI(e[0]),e.length>1&&(i=jI(e[e.length-1]))):e instanceof Map&&(t=jI(e)),t||i?new lk(n,t,i):null}(e,Q);return new YS(e,Q,E,$e)}}let dk=(()=>{class n extends Di._j{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:d.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?(0,Di.vP)(t):t;return ZS(this._renderer,null,i,"register",[s]),new hk(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(ti.K0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class hk extends Di.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fk(this._id,e,t||{},this._renderer)}}class fk{constructor(e,t,i,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return ZS(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ZS(n,e,t,i,s){return n.setProperty(e,`@@${t}:${i}`,s)}const QS="@.disabled";let pk=(()=>{class n{constructor(t,i,s){this.delegate=t,this.engine=i,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(l,u)=>{const m=u?.parentNode(l);m&&u.removeChild(m,l)}}createRenderer(t,i){const l=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let B=this._rendererCache.get(l);return B||(B=new XS("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,B)),B}const u=i.id,m=i.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=B=>{Array.isArray(B)?B.forEach(E):this.engine.registerTrigger(u,m,t,B.name,B)};return i.data.animation.forEach(E),new gk(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,s){t>=0&&t<this._microtaskId?this._zone.run(()=>i(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[u,m]=l;u(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.FYo),d.LFG(PD),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class XS{constructor(e,t,i,s){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=s,this.destroyNode=this.delegate.destroyNode?l=>t.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,s=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,s){this.delegate.setAttribute(e,t,i,s)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,s){this.delegate.setStyle(e,t,i,s)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==QS?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gk extends XS{constructor(e,t,i,s,l){super(t,i,s,l),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==QS?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const s=function mk(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.slice(1),u="";return"@"!=l.charAt(0)&&([l,u]=function _k(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(l)),this.engine.listen(this.namespaceId,s,l,u,m=>{this.factory.scheduleListenerCallback(m._data||-1,i,m)})}return this.delegate.listen(e,t,i)}}let yk=(()=>{class n extends PD{constructor(t,i,s,l){super(t.body,i,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ti.K0),d.LFG(CI),d.LFG(FI),d.LFG(d.z2F))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const JS=[{provide:Di._j,useClass:dk},{provide:FI,useFactory:function vk(){return new BP}},{provide:PD,useClass:yk},{provide:d.FYo,useFactory:function Ek(n,e,t){return new pk(n,e,t)},deps:[f.se,PD,d.R0b]}],GI=[{provide:CI,useFactory:()=>new uk},{provide:d.QbO,useValue:"BrowserAnimations"},...JS],eT=[{provide:CI,useClass:IS},{provide:d.QbO,useValue:"NoopAnimations"},...JS];let bk=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?eT:GI}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:GI,imports:[f.b2]}),n})();var wk=D(5412);let tT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ti.ez,wk.Is]}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ti.ez,tT,tT]}),n})(),Ck=(()=>{class n{static forRoot(){return{ngModule:n,providers:[kx]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[ti.ez,Rx]}),n})(),cT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cI]}),n})(),WF=(()=>{class n{constructor(t,i){(0,ti.PM)(i)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,i=[]){return{ngModule:n,providers:t.serverLoaded?[{provide:Cu,useValue:{...uI,...t}},{provide:dI,useValue:i,multi:!0},{provide:O_,useValue:!0}]:[{provide:Cu,useValue:{...uI,...t}},{provide:dI,useValue:i,multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(O_),d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[cS,mS,cT,cS,mS,cT]}),n})();D(4006);let qF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Ss.BQ,Ss.BQ]}),n})(),c1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Ss.uc,Ss.si,Ss.BQ,Ss.us,ti.ez,Ss.uc,Ss.BQ,Ss.us,qF]}),n})();D(825);var hT=D(529);let d1=(()=>{class n{constructor(){}intercept(t,i){const s=localStorage.getItem("token");if(!s)return i.handle(t);const l=t.clone({headers:t.headers.set("Authorization","Bearer "+s)});return i.handle(l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const h1=[];let f1=(()=>{class n{constructor(t,i){this.matIconRegistry=t,this.domSanitizer=i,this.matIconRegistry.addSvgIcon("whatsapp",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/whatsapp.svg")),this.matIconRegistry.addSvgIcon("instagram",this.domSanitizer.bypassSecurityTrustResourceUrl("assets/icons/instagram.svg"))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(pD.jv),d.LFG(f.H7))},n.\u0275mod=d.oAB({type:n,bootstrap:[hO]}),n.\u0275inj=d.cJS({providers:[{provide:hT.TP,useClass:d1,multi:!0}],imports:[f.b2,qT,L(()=>kn(yD_firebase_config)),NT(()=>BT()),zT(()=>WT()),TT(()=>MT()),k.hO.initializeApp(yD_firebase_config),Nt,wT,Ct,wO,bk,Dk,Ck.forRoot(),vM,Ux.g0,pD.Ps,tI.ot,WF,c1,h1,hT.JF]}),n})();(0,d.G48)(),f.q6().bootstrapModule(f1).catch(n=>console.error(n))},1135:(He,ge,D)=>{D.d(ge,{X:()=>d});var f=D(7579);class d extends f.x{constructor(re){super(),this._value=re}get value(){return this.getValue()}_subscribe(re){const ee=super._subscribe(re);return!ee.closed&&re.next(this._value),ee}getValue(){const{hasError:re,thrownError:ee,_value:W}=this;if(re)throw ee;return this._throwIfClosed(),W}next(re){super.next(this._value=re)}}},9751:(He,ge,D)=>{D.d(ge,{y:()=>he});var f=D(930),d=D(727),k=D(8822),re=D(9635),ee=D(2416),W=D(576),Ee=D(2806);let he=(()=>{class U{constructor(De){De&&(this._subscribe=De)}lift(De){const Te=new U;return Te.source=this,Te.operator=De,Te}subscribe(De,Te,nt){const Ze=function ce(U){return U&&U instanceof f.Lv||function z(U){return U&&(0,W.m)(U.next)&&(0,W.m)(U.error)&&(0,W.m)(U.complete)}(U)&&(0,d.Nn)(U)}(De)?De:new f.Hp(De,Te,nt);return(0,Ee.x)(()=>{const{operator:Fe,source:It}=this;Ze.add(Fe?Fe.call(Ze,It):It?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(De){try{return this._subscribe(De)}catch(Te){De.error(Te)}}forEach(De,Te){return new(Te=de(Te))((nt,Ze)=>{const Fe=new f.Hp({next:It=>{try{De(It)}catch(Et){Ze(Et),Fe.unsubscribe()}},error:Ze,complete:nt});this.subscribe(Fe)})}_subscribe(De){var Te;return null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(De)}[k.L](){return this}pipe(...De){return(0,re.U)(De)(this)}toPromise(De){return new(De=de(De))((Te,nt)=>{let Ze;this.subscribe(Fe=>Ze=Fe,Fe=>nt(Fe),()=>Te(Ze))})}}return U.create=Re=>new U(Re),U})();function de(U){var Re;return null!==(Re=U??ee.v.Promise)&&void 0!==Re?Re:Promise}},4707:(He,ge,D)=>{D.d(ge,{t:()=>k});var f=D(7579),d=D(6063);class k extends f.x{constructor(ee=1/0,W=1/0,Ee=d.l){super(),this._bufferSize=ee,this._windowTime=W,this._timestampProvider=Ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=W===1/0,this._bufferSize=Math.max(1,ee),this._windowTime=Math.max(1,W)}next(ee){const{isStopped:W,_buffer:Ee,_infiniteTimeWindow:he,_timestampProvider:de,_windowTime:z}=this;W||(Ee.push(ee),!he&&Ee.push(de.now()+z)),this._trimBuffer(),super.next(ee)}_subscribe(ee){this._throwIfClosed(),this._trimBuffer();const W=this._innerSubscribe(ee),{_infiniteTimeWindow:Ee,_buffer:he}=this,de=he.slice();for(let z=0;z<de.length&&!ee.closed;z+=Ee?1:2)ee.next(de[z]);return this._checkFinalizedStatuses(ee),W}_trimBuffer(){const{_bufferSize:ee,_timestampProvider:W,_buffer:Ee,_infiniteTimeWindow:he}=this,de=(he?1:2)*ee;if(ee<1/0&&de<Ee.length&&Ee.splice(0,Ee.length-de),!he){const z=W.now();let ce=0;for(let U=1;U<Ee.length&&Ee[U]<=z;U+=2)ce=U;ce&&Ee.splice(0,ce+1)}}}},7579:(He,ge,D)=>{D.d(ge,{x:()=>Ee});var f=D(9751),d=D(727);const re=(0,D(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=D(8737),W=D(2806);let Ee=(()=>{class de extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ce){const U=new he(this,this);return U.operator=ce,U}_throwIfClosed(){if(this.closed)throw new re}next(ce){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(ce)}})}error(ce){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ce;const{observers:U}=this;for(;U.length;)U.shift().error(ce)}})}complete(){(0,W.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ce}=this;for(;ce.length;)ce.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ce;return(null===(ce=this.observers)||void 0===ce?void 0:ce.length)>0}_trySubscribe(ce){return this._throwIfClosed(),super._trySubscribe(ce)}_subscribe(ce){return this._throwIfClosed(),this._checkFinalizedStatuses(ce),this._innerSubscribe(ce)}_innerSubscribe(ce){const{hasError:U,isStopped:Re,observers:De}=this;return U||Re?d.Lc:(this.currentObservers=null,De.push(ce),new d.w0(()=>{this.currentObservers=null,(0,ee.P)(De,ce)}))}_checkFinalizedStatuses(ce){const{hasError:U,thrownError:Re,isStopped:De}=this;U?ce.error(Re):De&&ce.complete()}asObservable(){const ce=new f.y;return ce.source=this,ce}}return de.create=(z,ce)=>new he(z,ce),de})();class he extends Ee{constructor(z,ce){super(),this.destination=z,this.source=ce}next(z){var ce,U;null===(U=null===(ce=this.destination)||void 0===ce?void 0:ce.next)||void 0===U||U.call(ce,z)}error(z){var ce,U;null===(U=null===(ce=this.destination)||void 0===ce?void 0:ce.error)||void 0===U||U.call(ce,z)}complete(){var z,ce;null===(ce=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===ce||ce.call(z)}_subscribe(z){var ce,U;return null!==(U=null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(z))&&void 0!==U?U:d.Lc}}},930:(He,ge,D)=>{D.d(ge,{Hp:()=>nt,Lv:()=>U});var f=D(576),d=D(727),k=D(2416),re=D(7849),ee=D(5032);const W=de("C",void 0,void 0);function de(Be,fe,Pe){return{kind:Be,value:fe,error:Pe}}var z=D(3410),ce=D(2806);class U extends d.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,d.Nn)(fe)&&fe.add(this)):this.destination=Et}static create(fe,Pe,Ge){return new nt(fe,Pe,Ge)}next(fe){this.isStopped?It(function he(Be){return de("N",Be,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?It(function Ee(Be){return de("E",void 0,Be)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?It(W,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function De(Be,fe){return Re.call(Be,fe)}class Te{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(fe)}catch(Ge){Ze(Ge)}}error(fe){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(fe)}catch(Ge){Ze(Ge)}else Ze(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Pe){Ze(Pe)}}}class nt extends U{constructor(fe,Pe,Ge){let qe;if(super(),(0,f.m)(fe)||!fe)qe={next:fe??void 0,error:Pe??void 0,complete:Ge??void 0};else{let Ve;this&&k.v.useDeprecatedNextContext?(Ve=Object.create(fe),Ve.unsubscribe=()=>this.unsubscribe(),qe={next:fe.next&&De(fe.next,Ve),error:fe.error&&De(fe.error,Ve),complete:fe.complete&&De(fe.complete,Ve)}):qe=fe}this.destination=new Te(qe)}}function Ze(Be){k.v.useDeprecatedSynchronousErrorHandling?(0,ce.O)(Be):(0,re.h)(Be)}function It(Be,fe){const{onStoppedNotification:Pe}=k.v;Pe&&z.z.setTimeout(()=>Pe(Be,fe))}const Et={closed:!0,next:ee.Z,error:function Fe(Be){throw Be},complete:ee.Z}},727:(He,ge,D)=>{D.d(ge,{Lc:()=>W,w0:()=>ee,Nn:()=>Ee});var f=D(576);const k=(0,D(3888).d)(de=>function(ce){de(this),this.message=ce?`${ce.length} errors occurred during unsubscription:\n${ce.map((U,Re)=>`${Re+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ce});var re=D(8737);class ee{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:ce}=this;if(ce)if(this._parentage=null,Array.isArray(ce))for(const De of ce)De.remove(this);else ce.remove(this);const{initialTeardown:U}=this;if((0,f.m)(U))try{U()}catch(De){z=De instanceof k?De.errors:[De]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const De of Re)try{he(De)}catch(Te){z=z??[],Te instanceof k?z=[...z,...Te.errors]:z.push(Te)}}if(z)throw new k(z)}}add(z){var ce;if(z&&z!==this)if(this.closed)he(z);else{if(z instanceof ee){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(ce=this._finalizers)&&void 0!==ce?ce:[]).push(z)}}_hasParent(z){const{_parentage:ce}=this;return ce===z||Array.isArray(ce)&&ce.includes(z)}_addParent(z){const{_parentage:ce}=this;this._parentage=Array.isArray(ce)?(ce.push(z),ce):ce?[ce,z]:z}_removeParent(z){const{_parentage:ce}=this;ce===z?this._parentage=null:Array.isArray(ce)&&(0,re.P)(ce,z)}remove(z){const{_finalizers:ce}=this;ce&&(0,re.P)(ce,z),z instanceof ee&&z._removeParent(this)}}ee.EMPTY=(()=>{const de=new ee;return de.closed=!0,de})();const W=ee.EMPTY;function Ee(de){return de instanceof ee||de&&"closed"in de&&(0,f.m)(de.remove)&&(0,f.m)(de.add)&&(0,f.m)(de.unsubscribe)}function he(de){(0,f.m)(de)?de():de.unsubscribe()}},2416:(He,ge,D)=>{D.d(ge,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(He,ge,D)=>{D.d(ge,{a:()=>z});var f=D(9751),d=D(4742),k=D(8996),re=D(4671),ee=D(3268),W=D(3269),Ee=D(1810),he=D(5403),de=D(9672);function z(...Re){const De=(0,W.yG)(Re),Te=(0,W.jO)(Re),{args:nt,keys:Ze}=(0,d.D)(Re);if(0===nt.length)return(0,k.D)([],De);const Fe=new f.y(function ce(Re,De,Te=re.y){return nt=>{U(De,()=>{const{length:Ze}=Re,Fe=new Array(Ze);let It=Ze,Et=Ze;for(let Be=0;Be<Ze;Be++)U(De,()=>{const fe=(0,k.D)(Re[Be],De);let Pe=!1;fe.subscribe((0,he.x)(nt,Ge=>{Fe[Be]=Ge,Pe||(Pe=!0,Et--),Et||nt.next(Te(Fe.slice()))},()=>{--It||nt.complete()}))},nt)},nt)}}(nt,De,Ze?It=>(0,Ee.n)(Ze,It):re.y));return Te?Fe.pipe((0,ee.Z)(Te)):Fe}function U(Re,De,Te){Re?(0,de.f)(Te,Re,De):De()}},7272:(He,ge,D)=>{D.d(ge,{z:()=>ee});var f=D(8189),k=D(3269),re=D(8996);function ee(...W){return function d(){return(0,f.J)(1)}()((0,re.D)(W,(0,k.yG)(W)))}},9770:(He,ge,D)=>{D.d(ge,{P:()=>k});var f=D(9751),d=D(8421);function k(re){return new f.y(ee=>{(0,d.Xf)(re()).subscribe(ee)})}},515:(He,ge,D)=>{D.d(ge,{E:()=>d});const d=new(D(9751).y)(ee=>ee.complete())},4128:(He,ge,D)=>{D.d(ge,{D:()=>he});var f=D(9751),d=D(4742),k=D(8421),re=D(3269),ee=D(5403),W=D(3268),Ee=D(1810);function he(...de){const z=(0,re.jO)(de),{args:ce,keys:U}=(0,d.D)(de),Re=new f.y(De=>{const{length:Te}=ce;if(!Te)return void De.complete();const nt=new Array(Te);let Ze=Te,Fe=Te;for(let It=0;It<Te;It++){let Et=!1;(0,k.Xf)(ce[It]).subscribe((0,ee.x)(De,Be=>{Et||(Et=!0,Fe--),nt[It]=Be},()=>Ze--,void 0,()=>{(!Ze||!Et)&&(Fe||De.next(U?(0,Ee.n)(U,nt):nt),De.complete())}))}});return z?Re.pipe((0,W.Z)(z)):Re}},8996:(He,ge,D)=>{D.d(ge,{D:()=>fe});var f=D(8421),d=D(5363),k=D(9468),W=D(9751),he=D(2202),de=D(576),z=D(9672);function U(Pe,Ge){if(!Pe)throw new Error("Iterable cannot be null");return new W.y(qe=>{(0,z.f)(qe,Ge,()=>{const Ve=Pe[Symbol.asyncIterator]();(0,z.f)(qe,Ge,()=>{Ve.next().then(wt=>{wt.done?qe.complete():qe.next(wt.value)})},0,!0)})})}var Re=D(3670),De=D(8239),Te=D(1144),nt=D(6495),Ze=D(2206),Fe=D(4532),It=D(3260);function fe(Pe,Ge){return Ge?function Be(Pe,Ge){if(null!=Pe){if((0,Re.c)(Pe))return function re(Pe,Ge){return(0,f.Xf)(Pe).pipe((0,k.R)(Ge),(0,d.Q)(Ge))}(Pe,Ge);if((0,Te.z)(Pe))return function Ee(Pe,Ge){return new W.y(qe=>{let Ve=0;return Ge.schedule(function(){Ve===Pe.length?qe.complete():(qe.next(Pe[Ve++]),qe.closed||this.schedule())})})}(Pe,Ge);if((0,De.t)(Pe))return function ee(Pe,Ge){return(0,f.Xf)(Pe).pipe((0,k.R)(Ge),(0,d.Q)(Ge))}(Pe,Ge);if((0,Ze.D)(Pe))return U(Pe,Ge);if((0,nt.T)(Pe))return function ce(Pe,Ge){return new W.y(qe=>{let Ve;return(0,z.f)(qe,Ge,()=>{Ve=Pe[he.h](),(0,z.f)(qe,Ge,()=>{let wt,Zt;try{({value:wt,done:Zt}=Ve.next())}catch(Ht){return void qe.error(Ht)}Zt?qe.complete():qe.next(wt)},0,!0)}),()=>(0,de.m)(Ve?.return)&&Ve.return()})}(Pe,Ge);if((0,It.L)(Pe))return function Et(Pe,Ge){return U((0,It.Q)(Pe),Ge)}(Pe,Ge)}throw(0,Fe.z)(Pe)}(Pe,Ge):(0,f.Xf)(Pe)}},4968:(He,ge,D)=>{D.d(ge,{R:()=>z});var f=D(8421),d=D(9751),k=D(5577),re=D(1144),ee=D(576),W=D(3268);const Ee=["addListener","removeListener"],he=["addEventListener","removeEventListener"],de=["on","off"];function z(Te,nt,Ze,Fe){if((0,ee.m)(Ze)&&(Fe=Ze,Ze=void 0),Fe)return z(Te,nt,Ze).pipe((0,W.Z)(Fe));const[It,Et]=function De(Te){return(0,ee.m)(Te.addEventListener)&&(0,ee.m)(Te.removeEventListener)}(Te)?he.map(Be=>fe=>Te[Be](nt,fe,Ze)):function U(Te){return(0,ee.m)(Te.addListener)&&(0,ee.m)(Te.removeListener)}(Te)?Ee.map(ce(Te,nt)):function Re(Te){return(0,ee.m)(Te.on)&&(0,ee.m)(Te.off)}(Te)?de.map(ce(Te,nt)):[];if(!It&&(0,re.z)(Te))return(0,k.z)(Be=>z(Be,nt,Ze))((0,f.Xf)(Te));if(!It)throw new TypeError("Invalid event target");return new d.y(Be=>{const fe=(...Pe)=>Be.next(1<Pe.length?Pe:Pe[0]);return It(fe),()=>Et(fe)})}function ce(Te,nt){return Ze=>Fe=>Te[Ze](nt,Fe)}},8421:(He,ge,D)=>{D.d(ge,{Xf:()=>Re});var f=D(7582),d=D(1144),k=D(8239),re=D(9751),ee=D(3670),W=D(2206),Ee=D(4532),he=D(6495),de=D(3260),z=D(576),ce=D(7849),U=D(8822);function Re(Be){if(Be instanceof re.y)return Be;if(null!=Be){if((0,ee.c)(Be))return function De(Be){return new re.y(fe=>{const Pe=Be[U.L]();if((0,z.m)(Pe.subscribe))return Pe.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,d.z)(Be))return function Te(Be){return new re.y(fe=>{for(let Pe=0;Pe<Be.length&&!fe.closed;Pe++)fe.next(Be[Pe]);fe.complete()})}(Be);if((0,k.t)(Be))return function nt(Be){return new re.y(fe=>{Be.then(Pe=>{fe.closed||(fe.next(Pe),fe.complete())},Pe=>fe.error(Pe)).then(null,ce.h)})}(Be);if((0,W.D)(Be))return Fe(Be);if((0,he.T)(Be))return function Ze(Be){return new re.y(fe=>{for(const Pe of Be)if(fe.next(Pe),fe.closed)return;fe.complete()})}(Be);if((0,de.L)(Be))return function It(Be){return Fe((0,de.Q)(Be))}(Be)}throw(0,Ee.z)(Be)}function Fe(Be){return new re.y(fe=>{(function Et(Be,fe){var Pe,Ge,qe,Ve;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,f.KL)(Be);!(Ge=yield Pe.next()).done;)if(fe.next(Ge.value),fe.closed)return}catch(wt){qe={error:wt}}finally{try{Ge&&!Ge.done&&(Ve=Pe.return)&&(yield Ve.call(Pe))}finally{if(qe)throw qe.error}}fe.complete()})})(Be,fe).catch(Pe=>fe.error(Pe))})}},6451:(He,ge,D)=>{D.d(ge,{T:()=>W});var f=D(8189),d=D(8421),k=D(515),re=D(3269),ee=D(8996);function W(...Ee){const he=(0,re.yG)(Ee),de=(0,re._6)(Ee,1/0),z=Ee;return z.length?1===z.length?(0,d.Xf)(z[0]):(0,f.J)(de)((0,ee.D)(z,he)):k.E}},9646:(He,ge,D)=>{D.d(ge,{of:()=>k});var f=D(3269),d=D(8996);function k(...re){const ee=(0,f.yG)(re);return(0,d.D)(re,ee)}},2843:(He,ge,D)=>{D.d(ge,{_:()=>k});var f=D(9751),d=D(576);function k(re,ee){const W=(0,d.m)(re)?re:()=>re,Ee=he=>he.error(W());return new f.y(ee?he=>ee.schedule(Ee,0,he):Ee)}},5403:(He,ge,D)=>{D.d(ge,{x:()=>d});var f=D(930);function d(re,ee,W,Ee,he){return new k(re,ee,W,Ee,he)}class k extends f.Lv{constructor(ee,W,Ee,he,de,z){super(ee),this.onFinalize=de,this.shouldUnsubscribe=z,this._next=W?function(ce){try{W(ce)}catch(U){ee.error(U)}}:super._next,this._error=he?function(ce){try{he(ce)}catch(U){ee.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(ce){ee.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:W}=this;super.unsubscribe(),!W&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},262:(He,ge,D)=>{D.d(ge,{K:()=>re});var f=D(8421),d=D(5403),k=D(4482);function re(ee){return(0,k.e)((W,Ee)=>{let z,he=null,de=!1;he=W.subscribe((0,d.x)(Ee,void 0,void 0,ce=>{z=(0,f.Xf)(ee(ce,re(ee)(W))),he?(he.unsubscribe(),he=null,z.subscribe(Ee)):de=!0})),de&&(he.unsubscribe(),he=null,z.subscribe(Ee))})}},4351:(He,ge,D)=>{D.d(ge,{b:()=>k});var f=D(5577),d=D(576);function k(re,ee){return(0,d.m)(ee)?(0,f.z)(re,ee,1):(0,f.z)(re,1)}},8372:(He,ge,D)=>{D.d(ge,{b:()=>re});var f=D(4986),d=D(4482),k=D(5403);function re(ee,W=f.z){return(0,d.e)((Ee,he)=>{let de=null,z=null,ce=null;const U=()=>{if(de){de.unsubscribe(),de=null;const De=z;z=null,he.next(De)}};function Re(){const De=ce+ee,Te=W.now();if(Te<De)return de=this.schedule(void 0,De-Te),void he.add(de);U()}Ee.subscribe((0,k.x)(he,De=>{z=De,ce=W.now(),de||(de=W.schedule(Re,ee),he.add(de))},()=>{U(),he.complete()},void 0,()=>{z=de=null}))})}},6590:(He,ge,D)=>{D.d(ge,{d:()=>k});var f=D(4482),d=D(5403);function k(re){return(0,f.e)((ee,W)=>{let Ee=!1;ee.subscribe((0,d.x)(W,he=>{Ee=!0,W.next(he)},()=>{Ee||W.next(re),W.complete()}))})}},1884:(He,ge,D)=>{D.d(ge,{x:()=>re});var f=D(4671),d=D(4482),k=D(5403);function re(W,Ee=f.y){return W=W??ee,(0,d.e)((he,de)=>{let z,ce=!0;he.subscribe((0,k.x)(de,U=>{const Re=Ee(U);(ce||!W(z,Re))&&(ce=!1,z=Re,de.next(U))}))})}function ee(W,Ee){return W===Ee}},9300:(He,ge,D)=>{D.d(ge,{h:()=>k});var f=D(4482),d=D(5403);function k(re,ee){return(0,f.e)((W,Ee)=>{let he=0;W.subscribe((0,d.x)(Ee,de=>re.call(ee,de,he++)&&Ee.next(de)))})}},8746:(He,ge,D)=>{D.d(ge,{x:()=>d});var f=D(4482);function d(k){return(0,f.e)((re,ee)=>{try{re.subscribe(ee)}finally{ee.add(k)}})}},590:(He,ge,D)=>{D.d(ge,{P:()=>Ee});var f=D(6805),d=D(9300),k=D(5698),re=D(6590),ee=D(8068),W=D(4671);function Ee(he,de){const z=arguments.length>=2;return ce=>ce.pipe(he?(0,d.h)((U,Re)=>he(U,Re,ce)):W.y,(0,k.q)(1),z?(0,re.d)(de):(0,ee.T)(()=>new f.K))}},4004:(He,ge,D)=>{D.d(ge,{U:()=>k});var f=D(4482),d=D(5403);function k(re,ee){return(0,f.e)((W,Ee)=>{let he=0;W.subscribe((0,d.x)(Ee,de=>{Ee.next(re.call(ee,de,he++))}))})}},9718:(He,ge,D)=>{D.d(ge,{h:()=>d});var f=D(4004);function d(k){return(0,f.U)(()=>k)}},8189:(He,ge,D)=>{D.d(ge,{J:()=>k});var f=D(5577),d=D(4671);function k(re=1/0){return(0,f.z)(d.y,re)}},5577:(He,ge,D)=>{D.d(ge,{z:()=>he});var f=D(4004),d=D(8421),k=D(4482),re=D(9672),ee=D(5403),Ee=D(576);function he(de,z,ce=1/0){return(0,Ee.m)(z)?he((U,Re)=>(0,f.U)((De,Te)=>z(U,De,Re,Te))((0,d.Xf)(de(U,Re))),ce):("number"==typeof z&&(ce=z),(0,k.e)((U,Re)=>function W(de,z,ce,U,Re,De,Te,nt){const Ze=[];let Fe=0,It=0,Et=!1;const Be=()=>{Et&&!Ze.length&&!Fe&&z.complete()},fe=Ge=>Fe<U?Pe(Ge):Ze.push(Ge),Pe=Ge=>{De&&z.next(Ge),Fe++;let qe=!1;(0,d.Xf)(ce(Ge,It++)).subscribe((0,ee.x)(z,Ve=>{Re?.(Ve),De?fe(Ve):z.next(Ve)},()=>{qe=!0},void 0,()=>{if(qe)try{for(Fe--;Ze.length&&Fe<U;){const Ve=Ze.shift();Te?(0,re.f)(z,Te,()=>Pe(Ve)):Pe(Ve)}Be()}catch(Ve){z.error(Ve)}}))};return de.subscribe((0,ee.x)(z,fe,()=>{Et=!0,Be()})),()=>{nt?.()}}(U,Re,de,ce)))}},5363:(He,ge,D)=>{D.d(ge,{Q:()=>re});var f=D(9672),d=D(4482),k=D(5403);function re(ee,W=0){return(0,d.e)((Ee,he)=>{Ee.subscribe((0,k.x)(he,de=>(0,f.f)(he,ee,()=>he.next(de),W),()=>(0,f.f)(he,ee,()=>he.complete(),W),de=>(0,f.f)(he,ee,()=>he.error(de),W)))})}},5026:(He,ge,D)=>{D.d(ge,{R:()=>re});var f=D(4482),d=D(5403);function k(ee,W,Ee,he,de){return(z,ce)=>{let U=Ee,Re=W,De=0;z.subscribe((0,d.x)(ce,Te=>{const nt=De++;Re=U?ee(Re,Te,nt):(U=!0,Te),he&&ce.next(Re)},de&&(()=>{U&&ce.next(Re),ce.complete()})))}}function re(ee,W){return(0,f.e)(k(ee,W,arguments.length>=2,!0))}},3099:(He,ge,D)=>{D.d(ge,{B:()=>ee});var f=D(8421),d=D(7579),k=D(930),re=D(4482);function ee(Ee={}){const{connector:he=(()=>new d.x),resetOnError:de=!0,resetOnComplete:z=!0,resetOnRefCountZero:ce=!0}=Ee;return U=>{let Re,De,Te,nt=0,Ze=!1,Fe=!1;const It=()=>{De?.unsubscribe(),De=void 0},Et=()=>{It(),Re=Te=void 0,Ze=Fe=!1},Be=()=>{const fe=Re;Et(),fe?.unsubscribe()};return(0,re.e)((fe,Pe)=>{nt++,!Fe&&!Ze&&It();const Ge=Te=Te??he();Pe.add(()=>{nt--,0===nt&&!Fe&&!Ze&&(De=W(Be,ce))}),Ge.subscribe(Pe),!Re&&nt>0&&(Re=new k.Hp({next:qe=>Ge.next(qe),error:qe=>{Fe=!0,It(),De=W(Et,de,qe),Ge.error(qe)},complete:()=>{Ze=!0,It(),De=W(Et,z),Ge.complete()}}),(0,f.Xf)(fe).subscribe(Re))})(U)}}function W(Ee,he,...de){if(!0===he)return void Ee();if(!1===he)return;const z=new k.Hp({next:()=>{z.unsubscribe(),Ee()}});return he(...de).subscribe(z)}},5684:(He,ge,D)=>{D.d(ge,{T:()=>d});var f=D(9300);function d(k){return(0,f.h)((re,ee)=>k<=ee)}},8675:(He,ge,D)=>{D.d(ge,{O:()=>re});var f=D(7272),d=D(3269),k=D(4482);function re(...ee){const W=(0,d.yG)(ee);return(0,k.e)((Ee,he)=>{(W?(0,f.z)(ee,Ee,W):(0,f.z)(ee,Ee)).subscribe(he)})}},9468:(He,ge,D)=>{D.d(ge,{R:()=>d});var f=D(4482);function d(k,re=0){return(0,f.e)((ee,W)=>{W.add(k.schedule(()=>ee.subscribe(W),re))})}},3900:(He,ge,D)=>{D.d(ge,{w:()=>re});var f=D(8421),d=D(4482),k=D(5403);function re(ee,W){return(0,d.e)((Ee,he)=>{let de=null,z=0,ce=!1;const U=()=>ce&&!de&&he.complete();Ee.subscribe((0,k.x)(he,Re=>{de?.unsubscribe();let De=0;const Te=z++;(0,f.Xf)(ee(Re,Te)).subscribe(de=(0,k.x)(he,nt=>he.next(W?W(Re,nt,Te,De++):nt),()=>{de=null,U()}))},()=>{ce=!0,U()}))})}},5698:(He,ge,D)=>{D.d(ge,{q:()=>re});var f=D(515),d=D(4482),k=D(5403);function re(ee){return ee<=0?()=>f.E:(0,d.e)((W,Ee)=>{let he=0;W.subscribe((0,k.x)(Ee,de=>{++he<=ee&&(Ee.next(de),ee<=he&&Ee.complete())}))})}},2722:(He,ge,D)=>{D.d(ge,{R:()=>ee});var f=D(4482),d=D(5403),k=D(8421),re=D(5032);function ee(W){return(0,f.e)((Ee,he)=>{(0,k.Xf)(W).subscribe((0,d.x)(he,()=>he.complete(),re.Z)),!he.closed&&Ee.subscribe(he)})}},8505:(He,ge,D)=>{D.d(ge,{b:()=>ee});var f=D(576),d=D(4482),k=D(5403),re=D(4671);function ee(W,Ee,he){const de=(0,f.m)(W)||Ee||he?{next:W,error:Ee,complete:he}:W;return de?(0,d.e)((z,ce)=>{var U;null===(U=de.subscribe)||void 0===U||U.call(de);let Re=!0;z.subscribe((0,k.x)(ce,De=>{var Te;null===(Te=de.next)||void 0===Te||Te.call(de,De),ce.next(De)},()=>{var De;Re=!1,null===(De=de.complete)||void 0===De||De.call(de),ce.complete()},De=>{var Te;Re=!1,null===(Te=de.error)||void 0===Te||Te.call(de,De),ce.error(De)},()=>{var De,Te;Re&&(null===(De=de.unsubscribe)||void 0===De||De.call(de)),null===(Te=de.finalize)||void 0===Te||Te.call(de)}))}):re.y}},8068:(He,ge,D)=>{D.d(ge,{T:()=>re});var f=D(6805),d=D(4482),k=D(5403);function re(W=ee){return(0,d.e)((Ee,he)=>{let de=!1;Ee.subscribe((0,k.x)(he,z=>{de=!0,he.next(z)},()=>de?he.complete():he.error(W())))})}function ee(){return new f.K}},7414:(He,ge,D)=>{D.d(ge,{V:()=>de});var f=D(4986),d=D(1165),k=D(4482),re=D(8421),ee=D(3888),W=D(5403),Ee=D(9672);const he=(0,ee.d)(ce=>function(Re=null){ce(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Re});function de(ce,U){const{first:Re,each:De,with:Te=z,scheduler:nt=U??f.z,meta:Ze=null}=(0,d.q)(ce)?{first:ce}:"number"==typeof ce?{each:ce}:ce;if(null==Re&&null==De)throw new TypeError("No timeout provided.");return(0,k.e)((Fe,It)=>{let Et,Be,fe=null,Pe=0;const Ge=qe=>{Be=(0,Ee.f)(It,nt,()=>{try{Et.unsubscribe(),(0,re.Xf)(Te({meta:Ze,lastValue:fe,seen:Pe})).subscribe(It)}catch(Ve){It.error(Ve)}},qe)};Et=Fe.subscribe((0,W.x)(It,qe=>{Be?.unsubscribe(),Pe++,It.next(fe=qe),De>0&&Ge(De)},void 0,void 0,()=>{Be?.closed||Be?.unsubscribe(),fe=null})),!Pe&&Ge(null!=Re?"number"==typeof Re?Re:+Re-nt.now():De)})}function z(ce){throw new he(ce)}},1365:(He,ge,D)=>{D.d(ge,{M:()=>Ee});var f=D(4482),d=D(5403),k=D(8421),re=D(4671),ee=D(5032),W=D(3269);function Ee(...he){const de=(0,W.jO)(he);return(0,f.e)((z,ce)=>{const U=he.length,Re=new Array(U);let De=he.map(()=>!1),Te=!1;for(let nt=0;nt<U;nt++)(0,k.Xf)(he[nt]).subscribe((0,d.x)(ce,Ze=>{Re[nt]=Ze,!Te&&!De[nt]&&(De[nt]=!0,(Te=De.every(re.y))&&(De=null))},ee.Z));z.subscribe((0,d.x)(ce,nt=>{if(Te){const Ze=[nt,...Re];ce.next(de?de(...Ze):Ze)}}))})}},4408:(He,ge,D)=>{D.d(ge,{o:()=>ee});var f=D(727);class d extends f.w0{constructor(Ee,he){super()}schedule(Ee,he=0){return this}}const k={setInterval(W,Ee,...he){const{delegate:de}=k;return de?.setInterval?de.setInterval(W,Ee,...he):setInterval(W,Ee,...he)},clearInterval(W){const{delegate:Ee}=k;return(Ee?.clearInterval||clearInterval)(W)},delegate:void 0};var re=D(8737);class ee extends d{constructor(Ee,he){super(Ee,he),this.scheduler=Ee,this.work=he,this.pending=!1}schedule(Ee,he=0){var de;if(this.closed)return this;this.state=Ee;const z=this.id,ce=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(ce,z,he)),this.pending=!0,this.delay=he,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(ce,this.id,he),this}requestAsyncId(Ee,he,de=0){return k.setInterval(Ee.flush.bind(Ee,this),de)}recycleAsyncId(Ee,he,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return he;null!=he&&k.clearInterval(he)}execute(Ee,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(Ee,he);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,he){let z,de=!1;try{this.work(Ee)}catch(ce){de=!0,z=ce||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:he}=this,{actions:de}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(de,this),null!=Ee&&(this.id=this.recycleAsyncId(he,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(He,ge,D)=>{D.d(ge,{v:()=>k});var f=D(6063);class d{constructor(ee,W=d.now){this.schedulerActionCtor=ee,this.now=W}schedule(ee,W=0,Ee){return new this.schedulerActionCtor(this,ee).schedule(Ee,W)}}d.now=f.l.now;class k extends d{constructor(ee,W=d.now){super(ee,W),this.actions=[],this._active=!1}flush(ee){const{actions:W}=this;if(this._active)return void W.push(ee);let Ee;this._active=!0;do{if(Ee=ee.execute(ee.state,ee.delay))break}while(ee=W.shift());if(this._active=!1,Ee){for(;ee=W.shift();)ee.unsubscribe();throw Ee}}}},4986:(He,ge,D)=>{D.d(ge,{P:()=>re,z:()=>k});var f=D(4408);const k=new(D(7565).v)(f.o),re=k},6063:(He,ge,D)=>{D.d(ge,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},233:(He,ge,D)=>{D.d(ge,{N:()=>ee});var f=D(4408),k=D(7565);const ee=new class re extends k.v{}(class d extends f.o{constructor(he,de){super(he,de),this.scheduler=he,this.work=de}schedule(he,de=0){return de>0?super.schedule(he,de):(this.delay=de,this.state=he,this.scheduler.flush(this),this)}execute(he,de){return de>0||this.closed?super.execute(he,de):this._execute(he,de)}requestAsyncId(he,de,z=0){return null!=z&&z>0||null==z&&this.delay>0?super.requestAsyncId(he,de,z):(he.flush(this),0)}})},3410:(He,ge,D)=>{D.d(ge,{z:()=>f});const f={setTimeout(d,k,...re){const{delegate:ee}=f;return ee?.setTimeout?ee.setTimeout(d,k,...re):setTimeout(d,k,...re)},clearTimeout(d){const{delegate:k}=f;return(k?.clearTimeout||clearTimeout)(d)},delegate:void 0}},2202:(He,ge,D)=>{D.d(ge,{h:()=>d});const d=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(He,ge,D)=>{D.d(ge,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(He,ge,D)=>{D.d(ge,{K:()=>d});const d=(0,D(3888).d)(k=>function(){k(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(He,ge,D)=>{D.d(ge,{_6:()=>W,jO:()=>re,yG:()=>ee});var f=D(576),d=D(3532);function k(Ee){return Ee[Ee.length-1]}function re(Ee){return(0,f.m)(k(Ee))?Ee.pop():void 0}function ee(Ee){return(0,d.K)(k(Ee))?Ee.pop():void 0}function W(Ee,he){return"number"==typeof k(Ee)?Ee.pop():he}},4742:(He,ge,D)=>{D.d(ge,{D:()=>ee});const{isArray:f}=Array,{getPrototypeOf:d,prototype:k,keys:re}=Object;function ee(Ee){if(1===Ee.length){const he=Ee[0];if(f(he))return{args:he,keys:null};if(function W(Ee){return Ee&&"object"==typeof Ee&&d(Ee)===k}(he)){const de=re(he);return{args:de.map(z=>he[z]),keys:de}}}return{args:Ee,keys:null}}},8737:(He,ge,D)=>{function f(d,k){if(d){const re=d.indexOf(k);0<=re&&d.splice(re,1)}}D.d(ge,{P:()=>f})},3888:(He,ge,D)=>{function f(d){const re=d(ee=>{Error.call(ee),ee.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}D.d(ge,{d:()=>f})},1810:(He,ge,D)=>{function f(d,k){return d.reduce((re,ee,W)=>(re[ee]=k[W],re),{})}D.d(ge,{n:()=>f})},2806:(He,ge,D)=>{D.d(ge,{O:()=>re,x:()=>k});var f=D(2416);let d=null;function k(ee){if(f.v.useDeprecatedSynchronousErrorHandling){const W=!d;if(W&&(d={errorThrown:!1,error:null}),ee(),W){const{errorThrown:Ee,error:he}=d;if(d=null,Ee)throw he}}else ee()}function re(ee){f.v.useDeprecatedSynchronousErrorHandling&&d&&(d.errorThrown=!0,d.error=ee)}},9672:(He,ge,D)=>{function f(d,k,re,ee=0,W=!1){const Ee=k.schedule(function(){re(),W?d.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(d.add(Ee),!W)return Ee}D.d(ge,{f:()=>f})},4671:(He,ge,D)=>{function f(d){return d}D.d(ge,{y:()=>f})},1144:(He,ge,D)=>{D.d(ge,{z:()=>f});const f=d=>d&&"number"==typeof d.length&&"function"!=typeof d},2206:(He,ge,D)=>{D.d(ge,{D:()=>d});var f=D(576);function d(k){return Symbol.asyncIterator&&(0,f.m)(k?.[Symbol.asyncIterator])}},1165:(He,ge,D)=>{function f(d){return d instanceof Date&&!isNaN(d)}D.d(ge,{q:()=>f})},576:(He,ge,D)=>{function f(d){return"function"==typeof d}D.d(ge,{m:()=>f})},3670:(He,ge,D)=>{D.d(ge,{c:()=>k});var f=D(8822),d=D(576);function k(re){return(0,d.m)(re[f.L])}},6495:(He,ge,D)=>{D.d(ge,{T:()=>k});var f=D(2202),d=D(576);function k(re){return(0,d.m)(re?.[f.h])}},8239:(He,ge,D)=>{D.d(ge,{t:()=>d});var f=D(576);function d(k){return(0,f.m)(k?.then)}},3260:(He,ge,D)=>{D.d(ge,{L:()=>re,Q:()=>k});var f=D(7582),d=D(576);function k(ee){return(0,f.FC)(this,arguments,function*(){const Ee=ee.getReader();try{for(;;){const{value:he,done:de}=yield(0,f.qq)(Ee.read());if(de)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{Ee.releaseLock()}})}function re(ee){return(0,d.m)(ee?.getReader)}},3532:(He,ge,D)=>{D.d(ge,{K:()=>d});var f=D(576);function d(k){return k&&(0,f.m)(k.schedule)}},4482:(He,ge,D)=>{D.d(ge,{A:()=>d,e:()=>k});var f=D(576);function d(re){return(0,f.m)(re?.lift)}function k(re){return ee=>{if(d(ee))return ee.lift(function(W){try{return re(W,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(He,ge,D)=>{D.d(ge,{Z:()=>re});var f=D(4004);const{isArray:d}=Array;function re(ee){return(0,f.U)(W=>function k(ee,W){return d(W)?ee(...W):ee(W)}(ee,W))}},5032:(He,ge,D)=>{function f(){}D.d(ge,{Z:()=>f})},9635:(He,ge,D)=>{D.d(ge,{U:()=>k,z:()=>d});var f=D(4671);function d(...re){return k(re)}function k(re){return 0===re.length?f.y:1===re.length?re[0]:function(W){return re.reduce((Ee,he)=>he(Ee),W)}}},7849:(He,ge,D)=>{D.d(ge,{h:()=>k});var f=D(2416),d=D(3410);function k(re){d.z.setTimeout(()=>{const{onUnhandledError:ee}=f.v;if(!ee)throw re;ee(re)})}},4532:(He,ge,D)=>{function f(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}D.d(ge,{z:()=>f})},7340:(He,ge,D)=>{D.d(ge,{IO:()=>Te,LC:()=>d,SB:()=>de,X$:()=>re,ZE:()=>It,ZN:()=>Fe,_j:()=>f,eR:()=>ce,jt:()=>ee,k1:()=>Et,l3:()=>k,oB:()=>he,pV:()=>Re,ru:()=>W,vP:()=>Ee});class f{}class d{}const k="*";function re(Be,fe){return{type:7,name:Be,definitions:fe,options:{}}}function ee(Be,fe=null){return{type:4,styles:fe,timings:Be}}function W(Be,fe=null){return{type:3,steps:Be,options:fe}}function Ee(Be,fe=null){return{type:2,steps:Be,options:fe}}function he(Be){return{type:6,styles:Be,offset:null}}function de(Be,fe,Pe){return{type:0,name:Be,styles:fe,options:Pe}}function ce(Be,fe,Pe=null){return{type:1,expr:Be,animation:fe,options:Pe}}function Re(Be=null){return{type:9,options:Be}}function Te(Be,fe,Pe=null){return{type:11,selector:Be,animation:fe,options:Pe}}function Ze(Be){Promise.resolve().then(Be)}class Fe{constructor(fe=0,Pe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+Pe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._originalOnStartFns.push(fe),this._onStartFns.push(fe)}onDone(fe){this._originalOnDoneFns.push(fe),this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const Pe="start"==fe?this._onStartFns:this._onDoneFns;Pe.forEach(Ge=>Ge()),Pe.length=0}}class It{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let Pe=0,Ge=0,qe=0;const Ve=this.players.length;0==Ve?Ze(()=>this._onFinish()):this.players.forEach(wt=>{wt.onDone(()=>{++Pe==Ve&&this._onFinish()}),wt.onDestroy(()=>{++Ge==Ve&&this._onDestroy()}),wt.onStart(()=>{++qe==Ve&&this._onStart()})}),this.totalTime=this.players.reduce((wt,Zt)=>Math.max(wt,Zt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const Pe=fe*this.totalTime;this.players.forEach(Ge=>{const qe=Ge.totalTime?Math.min(1,Pe/Ge.totalTime):1;Ge.setPosition(qe)})}getPosition(){const fe=this.players.reduce((Pe,Ge)=>null===Pe||Ge.totalTime>Pe.totalTime?Ge:Pe,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const Pe="start"==fe?this._onStartFns:this._onDoneFns;Pe.forEach(Ge=>Ge()),Pe.length=0}}const Et="!"},2687:(He,ge,D)=>{D.d(ge,{Em:()=>Kn,Kd:()=>ae,X6:()=>te,ic:()=>di,qV:()=>xn,qm:()=>Xt,rt:()=>Pn,tE:()=>sn,yG:()=>ve});var f=D(6895),d=D(4650),k=D(3353),re=D(7579),ee=D(727),W=D(1135),Ee=D(9646),he=D(9521),de=D(8505),z=D(8372),ce=D(9300),U=D(4004),Re=D(5698),De=D(5684),Te=D(1884),nt=D(2722),Ze=D(1281),Fe=D(9643),It=D(2289);class Kn extends class Gt{constructor(Ke){this._items=Ke,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new re.x,this._typeaheadSubscription=ee.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Me=>Me.disabled,this._pressedLetters=[],this.tabOut=new re.x,this.change=new re.x,Ke instanceof d.n_E&&Ke.changes.subscribe(Me=>{if(this._activeItem){const yt=Me.toArray().indexOf(this._activeItem);yt>-1&&yt!==this._activeItemIndex&&(this._activeItemIndex=yt)}})}skipPredicate(Ke){return this._skipPredicateFn=Ke,this}withWrap(Ke=!0){return this._wrap=Ke,this}withVerticalOrientation(Ke=!0){return this._vertical=Ke,this}withHorizontalOrientation(Ke){return this._horizontal=Ke,this}withAllowedModifierKeys(Ke){return this._allowedModifierKeys=Ke,this}withTypeAhead(Ke=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,de.b)(Me=>this._pressedLetters.push(Me)),(0,z.b)(Ke),(0,ce.h)(()=>this._pressedLetters.length>0),(0,U.U)(()=>this._pressedLetters.join(""))).subscribe(Me=>{const dt=this._getItemsArray();for(let yt=1;yt<dt.length+1;yt++){const an=(this._activeItemIndex+yt)%dt.length,Ae=dt[an];if(!this._skipPredicateFn(Ae)&&0===Ae.getLabel().toUpperCase().trim().indexOf(Me)){this.setActiveItem(an);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Ke=!0){return this._homeAndEnd=Ke,this}setActiveItem(Ke){const Me=this._activeItem;this.updateActiveItem(Ke),this._activeItem!==Me&&this.change.next(this._activeItemIndex)}onKeydown(Ke){const Me=Ke.keyCode,yt=["altKey","ctrlKey","metaKey","shiftKey"].every(an=>!Ke[an]||this._allowedModifierKeys.indexOf(an)>-1);switch(Me){case he.Mf:return void this.tabOut.next();case he.JH:if(this._vertical&&yt){this.setNextItemActive();break}return;case he.LH:if(this._vertical&&yt){this.setPreviousItemActive();break}return;case he.SV:if(this._horizontal&&yt){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case he.oh:if(this._horizontal&&yt){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case he.Sd:if(this._homeAndEnd&&yt){this.setFirstItemActive();break}return;case he.uR:if(this._homeAndEnd&&yt){this.setLastItemActive();break}return;default:return void((yt||(0,he.Vb)(Ke,"shiftKey"))&&(Ke.key&&1===Ke.key.length?this._letterKeyStream.next(Ke.key.toLocaleUpperCase()):(Me>=he.A&&Me<=he.Z||Me>=he.xE&&Me<=he.aO)&&this._letterKeyStream.next(String.fromCharCode(Me))))}this._pressedLetters=[],Ke.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ke){const Me=this._getItemsArray(),dt="number"==typeof Ke?Ke:Me.indexOf(Ke);this._activeItem=Me[dt]??null,this._activeItemIndex=dt}_setActiveItemByDelta(Ke){this._wrap?this._setActiveInWrapMode(Ke):this._setActiveInDefaultMode(Ke)}_setActiveInWrapMode(Ke){const Me=this._getItemsArray();for(let dt=1;dt<=Me.length;dt++){const yt=(this._activeItemIndex+Ke*dt+Me.length)%Me.length;if(!this._skipPredicateFn(Me[yt]))return void this.setActiveItem(yt)}}_setActiveInDefaultMode(Ke){this._setActiveItemByIndex(this._activeItemIndex+Ke,Ke)}_setActiveItemByIndex(Ke,Me){const dt=this._getItemsArray();if(dt[Ke]){for(;this._skipPredicateFn(dt[Ke]);)if(!dt[Ke+=Me])return;this.setActiveItem(Ke)}}_getItemsArray(){return this._items instanceof d.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ke){return this._origin=Ke,this}setActiveItem(Ke){super.setActiveItem(Ke),this.activeItem&&this.activeItem.focus(this._origin)}}let di=(()=>{class mt{constructor(Me){this._platform=Me}isDisabled(Me){return Me.hasAttribute("disabled")}isVisible(Me){return function ut(mt){return!!(mt.offsetWidth||mt.offsetHeight||"function"==typeof mt.getClientRects&&mt.getClientRects().length)}(Me)&&"visible"===getComputedStyle(Me).visibility}isTabbable(Me){if(!this._platform.isBrowser)return!1;const dt=function ht(mt){try{return mt.frameElement}catch{return null}}(function nn(mt){return mt.ownerDocument&&mt.ownerDocument.defaultView||window}(Me));if(dt&&(-1===et(dt)||!this.isVisible(dt)))return!1;let yt=Me.nodeName.toLowerCase(),an=et(Me);return Me.hasAttribute("contenteditable")?-1!==an:!("iframe"===yt||"object"===yt||this._platform.WEBKIT&&this._platform.IOS&&!function xt(mt){let Ke=mt.nodeName.toLowerCase(),Me="input"===Ke&&mt.type;return"text"===Me||"password"===Me||"select"===Ke||"textarea"===Ke}(Me))&&("audio"===yt?!!Me.hasAttribute("controls")&&-1!==an:"video"===yt?-1!==an&&(null!==an||this._platform.FIREFOX||Me.hasAttribute("controls")):Me.tabIndex>=0)}isFocusable(Me,dt){return function Wt(mt){return!function gt(mt){return function We(mt){return"input"==mt.nodeName.toLowerCase()}(mt)&&"hidden"==mt.type}(mt)&&(function Rt(mt){let Ke=mt.nodeName.toLowerCase();return"input"===Ke||"select"===Ke||"button"===Ke||"textarea"===Ke}(mt)||function Ut(mt){return function Yt(mt){return"a"==mt.nodeName.toLowerCase()}(mt)&&mt.hasAttribute("href")}(mt)||mt.hasAttribute("contenteditable")||ze(mt))}(Me)&&!this.isDisabled(Me)&&(dt?.ignoreVisibility||this.isVisible(Me))}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(k.t4))},mt.\u0275prov=d.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function ze(mt){if(!mt.hasAttribute("tabindex")||void 0===mt.tabIndex)return!1;let Ke=mt.getAttribute("tabindex");return!(!Ke||isNaN(parseInt(Ke,10)))}function et(mt){if(!ze(mt))return null;const Ke=parseInt(mt.getAttribute("tabindex")||"",10);return isNaN(Ke)?-1:Ke}class pn{constructor(Ke,Me,dt,yt,an=!1){this._element=Ke,this._checker=Me,this._ngZone=dt,this._document=yt,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,an||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Ke){this._enabled=Ke,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ke,this._startAnchor),this._toggleAnchorTabIndex(Ke,this._endAnchor))}destroy(){const Ke=this._startAnchor,Me=this._endAnchor;Ke&&(Ke.removeEventListener("focus",this.startAnchorListener),Ke.remove()),Me&&(Me.removeEventListener("focus",this.endAnchorListener),Me.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ke){return new Promise(Me=>{this._executeOnStable(()=>Me(this.focusInitialElement(Ke)))})}focusFirstTabbableElementWhenReady(Ke){return new Promise(Me=>{this._executeOnStable(()=>Me(this.focusFirstTabbableElement(Ke)))})}focusLastTabbableElementWhenReady(Ke){return new Promise(Me=>{this._executeOnStable(()=>Me(this.focusLastTabbableElement(Ke)))})}_getRegionBoundary(Ke){const Me=this._element.querySelectorAll(`[cdk-focus-region-${Ke}], [cdkFocusRegion${Ke}], [cdk-focus-${Ke}]`);return"start"==Ke?Me.length?Me[0]:this._getFirstTabbableElement(this._element):Me.length?Me[Me.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ke){const Me=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Me){if(!this._checker.isFocusable(Me)){const dt=this._getFirstTabbableElement(Me);return dt?.focus(Ke),!!dt}return Me.focus(Ke),!0}return this.focusFirstTabbableElement(Ke)}focusFirstTabbableElement(Ke){const Me=this._getRegionBoundary("start");return Me&&Me.focus(Ke),!!Me}focusLastTabbableElement(Ke){const Me=this._getRegionBoundary("end");return Me&&Me.focus(Ke),!!Me}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ke){if(this._checker.isFocusable(Ke)&&this._checker.isTabbable(Ke))return Ke;const Me=Ke.children;for(let dt=0;dt<Me.length;dt++){const yt=Me[dt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Me[dt]):null;if(yt)return yt}return null}_getLastTabbableElement(Ke){if(this._checker.isFocusable(Ke)&&this._checker.isTabbable(Ke))return Ke;const Me=Ke.children;for(let dt=Me.length-1;dt>=0;dt--){const yt=Me[dt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Me[dt]):null;if(yt)return yt}return null}_createAnchor(){const Ke=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ke),Ke.classList.add("cdk-visually-hidden"),Ke.classList.add("cdk-focus-trap-anchor"),Ke.setAttribute("aria-hidden","true"),Ke}_toggleAnchorTabIndex(Ke,Me){Ke?Me.setAttribute("tabindex","0"):Me.removeAttribute("tabindex")}toggleAnchors(Ke){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ke,this._startAnchor),this._toggleAnchorTabIndex(Ke,this._endAnchor))}_executeOnStable(Ke){this._ngZone.isStable?Ke():this._ngZone.onStable.pipe((0,Re.q)(1)).subscribe(Ke)}}let xn=(()=>{class mt{constructor(Me,dt,yt){this._checker=Me,this._ngZone=dt,this._document=yt}create(Me,dt=!1){return new pn(Me,this._checker,this._ngZone,this._document,dt)}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(di),d.LFG(d.R0b),d.LFG(f.K0))},mt.\u0275prov=d.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();function te(mt){return 0===mt.buttons||0===mt.offsetX&&0===mt.offsetY}function ve(mt){const Ke=mt.touches&&mt.touches[0]||mt.changedTouches&&mt.changedTouches[0];return!(!Ke||-1!==Ke.identifier||null!=Ke.radiusX&&1!==Ke.radiusX||null!=Ke.radiusY&&1!==Ke.radiusY)}const ne=new d.OlP("cdk-input-modality-detector-options"),Ie={ignoreKeys:[he.zL,he.jx,he.b2,he.MW,he.JU]},Ne=(0,k.i$)({passive:!0,capture:!0});let pe=(()=>{class mt{constructor(Me,dt,yt,an){this._platform=Me,this._mostRecentTarget=null,this._modality=new W.X(null),this._lastTouchMs=0,this._onKeydown=Ae=>{this._options?.ignoreKeys?.some(xe=>xe===Ae.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,k.sA)(Ae))},this._onMousedown=Ae=>{Date.now()-this._lastTouchMs<650||(this._modality.next(te(Ae)?"keyboard":"mouse"),this._mostRecentTarget=(0,k.sA)(Ae))},this._onTouchstart=Ae=>{ve(Ae)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,k.sA)(Ae))},this._options={...Ie,...an},this.modalityDetected=this._modality.pipe((0,De.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Te.x)()),Me.isBrowser&&dt.runOutsideAngular(()=>{yt.addEventListener("keydown",this._onKeydown,Ne),yt.addEventListener("mousedown",this._onMousedown,Ne),yt.addEventListener("touchstart",this._onTouchstart,Ne)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ne),document.removeEventListener("mousedown",this._onMousedown,Ne),document.removeEventListener("touchstart",this._onTouchstart,Ne))}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(k.t4),d.LFG(d.R0b),d.LFG(f.K0),d.LFG(ne,8))},mt.\u0275prov=d.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const le=new d.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ye(){return null}}),me=new d.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let ae=(()=>{class mt{constructor(Me,dt,yt,an){this._ngZone=dt,this._defaultOptions=an,this._document=yt,this._liveElement=Me||this._createLiveElement()}announce(Me,...dt){const yt=this._defaultOptions;let an,Ae;return 1===dt.length&&"number"==typeof dt[0]?Ae=dt[0]:[an,Ae]=dt,this.clear(),clearTimeout(this._previousTimeout),an||(an=yt&&yt.politeness?yt.politeness:"polite"),null==Ae&&yt&&(Ae=yt.duration),this._liveElement.setAttribute("aria-live",an),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(xe=>this._currentResolve=xe)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Me,"number"==typeof Ae&&(this._previousTimeout=setTimeout(()=>this.clear(),Ae)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const Me="cdk-live-announcer-element",dt=this._document.getElementsByClassName(Me),yt=this._document.createElement("div");for(let an=0;an<dt.length;an++)dt[an].remove();return yt.classList.add(Me),yt.classList.add("cdk-visually-hidden"),yt.setAttribute("aria-atomic","true"),yt.setAttribute("aria-live","polite"),this._document.body.appendChild(yt),yt}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(le,8),d.LFG(d.R0b),d.LFG(f.K0),d.LFG(me,8))},mt.\u0275prov=d.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const Mt=new d.OlP("cdk-focus-monitor-default-options"),rt=(0,k.i$)({passive:!0,capture:!0});let sn=(()=>{class mt{constructor(Me,dt,yt,an,Ae){this._ngZone=Me,this._platform=dt,this._inputModalityDetector=yt,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re.x,this._rootNodeFocusAndBlurListener=xe=>{for(let q=(0,k.sA)(xe);q;q=q.parentElement)"focus"===xe.type?this._onFocus(xe,q):this._onBlur(xe,q)},this._document=an,this._detectionMode=Ae?.detectionMode||0}monitor(Me,dt=!1){const yt=(0,Ze.fI)(Me);if(!this._platform.isBrowser||1!==yt.nodeType)return(0,Ee.of)(null);const an=(0,k.kV)(yt)||this._getDocument(),Ae=this._elementInfo.get(yt);if(Ae)return dt&&(Ae.checkChildren=!0),Ae.subject;const xe={checkChildren:dt,subject:new re.x,rootNode:an};return this._elementInfo.set(yt,xe),this._registerGlobalListeners(xe),xe.subject}stopMonitoring(Me){const dt=(0,Ze.fI)(Me),yt=this._elementInfo.get(dt);yt&&(yt.subject.complete(),this._setClasses(dt),this._elementInfo.delete(dt),this._removeGlobalListeners(yt))}focusVia(Me,dt,yt){const an=(0,Ze.fI)(Me);an===this._getDocument().activeElement?this._getClosestElementsInfo(an).forEach(([xe,ie])=>this._originChanged(xe,dt,ie)):(this._setOrigin(dt),"function"==typeof an.focus&&an.focus(yt))}ngOnDestroy(){this._elementInfo.forEach((Me,dt)=>this.stopMonitoring(dt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Me){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Me)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:Me&&this._isLastInteractionFromInputLabel(Me)?"mouse":"program"}_shouldBeAttributedToTouch(Me){return 1===this._detectionMode||!!Me?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(Me,dt){Me.classList.toggle("cdk-focused",!!dt),Me.classList.toggle("cdk-touch-focused","touch"===dt),Me.classList.toggle("cdk-keyboard-focused","keyboard"===dt),Me.classList.toggle("cdk-mouse-focused","mouse"===dt),Me.classList.toggle("cdk-program-focused","program"===dt)}_setOrigin(Me,dt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Me,this._originFromTouchInteraction="touch"===Me&&dt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Me,dt){const yt=this._elementInfo.get(dt),an=(0,k.sA)(Me);!yt||!yt.checkChildren&&dt!==an||this._originChanged(dt,this._getFocusOrigin(an),yt)}_onBlur(Me,dt){const yt=this._elementInfo.get(dt);!yt||yt.checkChildren&&Me.relatedTarget instanceof Node&&dt.contains(Me.relatedTarget)||(this._setClasses(dt),this._emitOrigin(yt,null))}_emitOrigin(Me,dt){Me.subject.observers.length&&this._ngZone.run(()=>Me.subject.next(dt))}_registerGlobalListeners(Me){if(!this._platform.isBrowser)return;const dt=Me.rootNode,yt=this._rootNodeFocusListenerCount.get(dt)||0;yt||this._ngZone.runOutsideAngular(()=>{dt.addEventListener("focus",this._rootNodeFocusAndBlurListener,rt),dt.addEventListener("blur",this._rootNodeFocusAndBlurListener,rt)}),this._rootNodeFocusListenerCount.set(dt,yt+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,nt.R)(this._stopInputModalityDetector)).subscribe(an=>{this._setOrigin(an,!0)}))}_removeGlobalListeners(Me){const dt=Me.rootNode;if(this._rootNodeFocusListenerCount.has(dt)){const yt=this._rootNodeFocusListenerCount.get(dt);yt>1?this._rootNodeFocusListenerCount.set(dt,yt-1):(dt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rt),dt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rt),this._rootNodeFocusListenerCount.delete(dt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Me,dt,yt){this._setClasses(Me,dt),this._emitOrigin(yt,dt),this._lastFocusOrigin=dt}_getClosestElementsInfo(Me){const dt=[];return this._elementInfo.forEach((yt,an)=>{(an===Me||yt.checkChildren&&an.contains(Me))&&dt.push([an,yt])}),dt}_isLastInteractionFromInputLabel(Me){const{_mostRecentTarget:dt,mostRecentModality:yt}=this._inputModalityDetector;if("mouse"!==yt||!dt||dt===Me||"INPUT"!==Me.nodeName&&"TEXTAREA"!==Me.nodeName||Me.disabled)return!1;const an=Me.labels;if(an)for(let Ae=0;Ae<an.length;Ae++)if(an[Ae].contains(dt))return!0;return!1}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(d.R0b),d.LFG(k.t4),d.LFG(pe),d.LFG(f.K0,8),d.LFG(Mt,8))},mt.\u0275prov=d.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})();const Ue="cdk-high-contrast-black-on-white",Oe="cdk-high-contrast-white-on-black",Dt="cdk-high-contrast-active";let Xt=(()=>{class mt{constructor(Me,dt){this._platform=Me,this._document=dt,this._breakpointSubscription=(0,d.f3M)(It.Yg).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Me=this._document.createElement("div");Me.style.backgroundColor="rgb(1,2,3)",Me.style.position="absolute",this._document.body.appendChild(Me);const dt=this._document.defaultView||window,yt=dt&&dt.getComputedStyle?dt.getComputedStyle(Me):null,an=(yt&&yt.backgroundColor||"").replace(/ /g,"");switch(Me.remove(),an){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Me=this._document.body.classList;Me.remove(Dt,Ue,Oe),this._hasCheckedHighContrastMode=!0;const dt=this.getHighContrastMode();1===dt?Me.add(Dt,Ue):2===dt&&Me.add(Dt,Oe)}}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(k.t4),d.LFG(f.K0))},mt.\u0275prov=d.Yz7({token:mt,factory:mt.\u0275fac,providedIn:"root"}),mt})(),Pn=(()=>{class mt{constructor(Me){Me._applyBodyHighContrastModeCssClasses()}}return mt.\u0275fac=function(Me){return new(Me||mt)(d.LFG(Xt))},mt.\u0275mod=d.oAB({type:mt}),mt.\u0275inj=d.cJS({imports:[Fe.Q8]}),mt})()},445:(He,ge,D)=>{D.d(ge,{Is:()=>Ee,vT:()=>de});var f=D(4650),d=D(6895);const k=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function re(){return(0,f.f3M)(d.K0)}}),ee=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ee=(()=>{class z{constructor(U){if(this.value="ltr",this.change=new f.vpe,U){const De=U.documentElement?U.documentElement.dir:null;this.value=function W(z){const ce=z?.toLowerCase()||"";return"auto"===ce&&typeof navigator<"u"&&navigator?.language?ee.test(navigator.language)?"rtl":"ltr":"rtl"===ce?"rtl":"ltr"}((U.body?U.body.dir:null)||De||"ltr")}}ngOnDestroy(){this.change.complete()}}return z.\u0275fac=function(U){return new(U||z)(f.LFG(k,8))},z.\u0275prov=f.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),de=(()=>{class z{}return z.\u0275fac=function(U){return new(U||z)},z.\u0275mod=f.oAB({type:z}),z.\u0275inj=f.cJS({}),z})()},1281:(He,ge,D)=>{D.d(ge,{Eq:()=>ee,HM:()=>W,Ig:()=>d,fI:()=>Ee,su:()=>k});var f=D(4650);function d(de){return null!=de&&"false"!=`${de}`}function k(de,z=0){return function re(de){return!isNaN(parseFloat(de))&&!isNaN(Number(de))}(de)?Number(de):z}function ee(de){return Array.isArray(de)?de:[de]}function W(de){return null==de?"":"string"==typeof de?de:`${de}px`}function Ee(de){return de instanceof f.SBq?de.nativeElement:de}},9521:(He,ge,D)=>{D.d(ge,{A:()=>gt,JH:()=>Et,JU:()=>W,K5:()=>ee,LH:()=>Fe,L_:()=>U,MW:()=>me,Mf:()=>k,SV:()=>It,Sd:()=>nt,Vb:()=>ys,Z:()=>ye,aO:()=>yi,b2:()=>tr,hY:()=>ce,jx:()=>Ee,oh:()=>Ze,uR:()=>Te,xE:()=>qe,zL:()=>he});const k=9,ee=13,W=16,Ee=17,he=18,ce=27,U=32,Te=35,nt=36,Ze=37,Fe=38,It=39,Et=40,qe=48,yi=57,gt=65,ye=90,me=91,tr=224;function ys(Ai,...Vi){return Vi.length?Vi.some(Gi=>Ai[Gi]):Ai.altKey||Ai.shiftKey||Ai.ctrlKey||Ai.metaKey}},2289:(He,ge,D)=>{D.d(ge,{Yg:()=>Et,u3:()=>fe});var f=D(4650),d=D(1281),k=D(7579),re=D(9841),ee=D(7272),W=D(9751),Ee=D(5698),he=D(5684),de=D(8372),z=D(4004),ce=D(8675),U=D(2722),Re=D(3353);const Te=new Set;let nt,Ze=(()=>{class Pe{constructor(qe){this._platform=qe,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):It}matchMedia(qe){return(this._platform.WEBKIT||this._platform.BLINK)&&function Fe(Pe){if(!Te.has(Pe))try{nt||(nt=document.createElement("style"),nt.setAttribute("type","text/css"),document.head.appendChild(nt)),nt.sheet&&(nt.sheet.insertRule(`@media ${Pe} {body{ }}`,0),Te.add(Pe))}catch(Ge){console.error(Ge)}}(qe),this._matchMedia(qe)}}return Pe.\u0275fac=function(qe){return new(qe||Pe)(f.LFG(Re.t4))},Pe.\u0275prov=f.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();function It(Pe){return{matches:"all"===Pe||""===Pe,media:Pe,addListener:()=>{},removeListener:()=>{}}}let Et=(()=>{class Pe{constructor(qe,Ve){this._mediaMatcher=qe,this._zone=Ve,this._queries=new Map,this._destroySubject=new k.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(qe){return Be((0,d.Eq)(qe)).some(wt=>this._registerQuery(wt).mql.matches)}observe(qe){const wt=Be((0,d.Eq)(qe)).map(Ht=>this._registerQuery(Ht).observable);let Zt=(0,re.a)(wt);return Zt=(0,ee.z)(Zt.pipe((0,Ee.q)(1)),Zt.pipe((0,he.T)(1),(0,de.b)(0))),Zt.pipe((0,z.U)(Ht=>{const on={matches:!1,breakpoints:{}};return Ht.forEach(({matches:Gt,query:fi})=>{on.matches=on.matches||Gt,on.breakpoints[fi]=Gt}),on}))}_registerQuery(qe){if(this._queries.has(qe))return this._queries.get(qe);const Ve=this._mediaMatcher.matchMedia(qe),Zt={observable:new W.y(Ht=>{const on=Gt=>this._zone.run(()=>Ht.next(Gt));return Ve.addListener(on),()=>{Ve.removeListener(on)}}).pipe((0,ce.O)(Ve),(0,z.U)(({matches:Ht})=>({query:qe,matches:Ht})),(0,U.R)(this._destroySubject)),mql:Ve};return this._queries.set(qe,Zt),Zt}}return Pe.\u0275fac=function(qe){return new(qe||Pe)(f.LFG(Ze),f.LFG(f.R0b))},Pe.\u0275prov=f.Yz7({token:Pe,factory:Pe.\u0275fac,providedIn:"root"}),Pe})();function Be(Pe){return Pe.map(Ge=>Ge.split(",")).reduce((Ge,qe)=>Ge.concat(qe)).map(Ge=>Ge.trim())}const fe={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},9643:(He,ge,D)=>{D.d(ge,{Q8:()=>de,wD:()=>he});var f=D(1281),d=D(4650),k=D(9751),re=D(7579),ee=D(8372);let W=(()=>{class z{create(U){return typeof MutationObserver>"u"?null:new MutationObserver(U)}}return z.\u0275fac=function(U){return new(U||z)},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),Ee=(()=>{class z{constructor(U){this._mutationObserverFactory=U,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((U,Re)=>this._cleanupObserver(Re))}observe(U){const Re=(0,f.fI)(U);return new k.y(De=>{const nt=this._observeElement(Re).subscribe(De);return()=>{nt.unsubscribe(),this._unobserveElement(Re)}})}_observeElement(U){if(this._observedElements.has(U))this._observedElements.get(U).count++;else{const Re=new re.x,De=this._mutationObserverFactory.create(Te=>Re.next(Te));De&&De.observe(U,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(U,{observer:De,stream:Re,count:1})}return this._observedElements.get(U).stream}_unobserveElement(U){this._observedElements.has(U)&&(this._observedElements.get(U).count--,this._observedElements.get(U).count||this._cleanupObserver(U))}_cleanupObserver(U){if(this._observedElements.has(U)){const{observer:Re,stream:De}=this._observedElements.get(U);Re&&Re.disconnect(),De.complete(),this._observedElements.delete(U)}}}return z.\u0275fac=function(U){return new(U||z)(d.LFG(W))},z.\u0275prov=d.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})(),he=(()=>{class z{constructor(U,Re,De){this._contentObserver=U,this._elementRef=Re,this._ngZone=De,this.event=new d.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(U){this._disabled=(0,f.Ig)(U),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(U){this._debounce=(0,f.su)(U),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const U=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?U.pipe((0,ee.b)(this.debounce)):U).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return z.\u0275fac=function(U){return new(U||z)(d.Y36(Ee),d.Y36(d.SBq),d.Y36(d.R0b))},z.\u0275dir=d.lG2({type:z,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),z})(),de=(()=>{class z{}return z.\u0275fac=function(U){return new(U||z)},z.\u0275mod=d.oAB({type:z}),z.\u0275inj=d.cJS({providers:[W]}),z})()},8184:(He,ge,D)=>{D.d(ge,{Iu:()=>fi,U8:()=>Un,X_:()=>fe,Xj:()=>Gt,aV:()=>xt});var f=D(8341),d=D(6895),k=D(4650),re=D(1281),ee=D(3353),W=D(445),Ee=D(4080),he=D(7579),de=D(727),z=D(6451),ce=D(5698),U=D(2722);const Re=(0,ee.Mq)();class De{constructor(J,te){this._viewportRuler=J,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=te}attach(){}enable(){if(this._canBeEnabled()){const J=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=J.style.left||"",this._previousHTMLStyles.top=J.style.top||"",J.style.left=(0,re.HM)(-this._previousScrollPosition.left),J.style.top=(0,re.HM)(-this._previousScrollPosition.top),J.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const J=this._document.documentElement,ve=J.style,ne=this._document.body.style,Ie=ve.scrollBehavior||"",ot=ne.scrollBehavior||"";this._isEnabled=!1,ve.left=this._previousHTMLStyles.left,ve.top=this._previousHTMLStyles.top,J.classList.remove("cdk-global-scrollblock"),Re&&(ve.scrollBehavior=ne.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Re&&(ve.scrollBehavior=Ie,ne.scrollBehavior=ot)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const te=this._document.body,ve=this._viewportRuler.getViewportSize();return te.scrollHeight>ve.height||te.scrollWidth>ve.width}}class nt{constructor(J,te,ve,ne){this._scrollDispatcher=J,this._ngZone=te,this._viewportRuler=ve,this._config=ne,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(J){this._overlayRef=J}enable(){if(this._scrollSubscription)return;const J=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=J.subscribe(()=>{const te=this._viewportRuler.getViewportScrollPosition().top;Math.abs(te-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=J.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ze{enable(){}disable(){}attach(){}}function Fe(it,J){return J.some(te=>it.bottom<te.top||it.top>te.bottom||it.right<te.left||it.left>te.right)}function It(it,J){return J.some(te=>it.top<te.top||it.bottom>te.bottom||it.left<te.left||it.right>te.right)}class Et{constructor(J,te,ve,ne){this._scrollDispatcher=J,this._viewportRuler=te,this._ngZone=ve,this._config=ne,this._scrollSubscription=null}attach(J){this._overlayRef=J}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const te=this._overlayRef.overlayElement.getBoundingClientRect(),{width:ve,height:ne}=this._viewportRuler.getViewportSize();Fe(te,[{width:ve,height:ne,bottom:ne,right:ve,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Be=(()=>{class it{constructor(te,ve,ne,Ie){this._scrollDispatcher=te,this._viewportRuler=ve,this._ngZone=ne,this.noop=()=>new Ze,this.close=ot=>new nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,ot),this.block=()=>new De(this._viewportRuler,this._document),this.reposition=ot=>new Et(this._scrollDispatcher,this._viewportRuler,this._ngZone,ot),this._document=Ie}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(f.mF),k.LFG(f.rL),k.LFG(k.R0b),k.LFG(d.K0))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})();class fe{constructor(J){if(this.scrollStrategy=new Ze,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,J){const te=Object.keys(J);for(const ve of te)void 0!==J[ve]&&(this[ve]=J[ve])}}}class qe{constructor(J,te){this.connectionPair=J,this.scrollableViewProperties=te}}let Zt=(()=>{class it{constructor(te){this._attachedOverlays=[],this._document=te}ngOnDestroy(){this.detach()}add(te){this.remove(te),this._attachedOverlays.push(te)}remove(te){const ve=this._attachedOverlays.indexOf(te);ve>-1&&this._attachedOverlays.splice(ve,1),0===this._attachedOverlays.length&&this.detach()}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(d.K0))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),Ht=(()=>{class it extends Zt{constructor(te,ve){super(te),this._ngZone=ve,this._keydownListener=ne=>{const Ie=this._attachedOverlays;for(let ot=Ie.length-1;ot>-1;ot--)if(Ie[ot]._keydownEvents.observers.length>0){const Ne=Ie[ot]._keydownEvents;this._ngZone?this._ngZone.run(()=>Ne.next(ne)):Ne.next(ne);break}}}add(te){super.add(te),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(d.K0),k.LFG(k.R0b,8))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),on=(()=>{class it extends Zt{constructor(te,ve,ne){super(te),this._platform=ve,this._ngZone=ne,this._cursorStyleIsSet=!1,this._pointerDownListener=Ie=>{this._pointerDownEventTarget=(0,ee.sA)(Ie)},this._clickListener=Ie=>{const ot=(0,ee.sA)(Ie),Ne="click"===Ie.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:ot;this._pointerDownEventTarget=null;const pe=this._attachedOverlays.slice();for(let le=pe.length-1;le>-1;le--){const ye=pe[le];if(ye._outsidePointerEvents.observers.length<1||!ye.hasAttached())continue;if(ye.overlayElement.contains(ot)||ye.overlayElement.contains(Ne))break;const me=ye._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>me.next(Ie)):me.next(Ie)}}}add(te){if(super.add(te),!this._isAttached){const ve=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(ve)):this._addEventListeners(ve),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=ve.style.cursor,ve.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const te=this._document.body;te.removeEventListener("pointerdown",this._pointerDownListener,!0),te.removeEventListener("click",this._clickListener,!0),te.removeEventListener("auxclick",this._clickListener,!0),te.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(te.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(te){te.addEventListener("pointerdown",this._pointerDownListener,!0),te.addEventListener("click",this._clickListener,!0),te.addEventListener("auxclick",this._clickListener,!0),te.addEventListener("contextmenu",this._clickListener,!0)}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(d.K0),k.LFG(ee.t4),k.LFG(k.R0b,8))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),Gt=(()=>{class it{constructor(te,ve){this._platform=ve,this._document=te}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const te="cdk-overlay-container";if(this._platform.isBrowser||(0,ee.Oy)()){const ne=this._document.querySelectorAll(`.${te}[platform="server"], .${te}[platform="test"]`);for(let Ie=0;Ie<ne.length;Ie++)ne[Ie].remove()}const ve=this._document.createElement("div");ve.classList.add(te),(0,ee.Oy)()?ve.setAttribute("platform","test"):this._platform.isBrowser||ve.setAttribute("platform","server"),this._document.body.appendChild(ve),this._containerElement=ve}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(d.K0),k.LFG(ee.t4))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})();class fi{constructor(J,te,ve,ne,Ie,ot,Ne,pe,le,ye=!1){this._portalOutlet=J,this._host=te,this._pane=ve,this._config=ne,this._ngZone=Ie,this._keyboardDispatcher=ot,this._document=Ne,this._location=pe,this._outsideClickDispatcher=le,this._animationsDisabled=ye,this._backdropElement=null,this._backdropClick=new he.x,this._attachments=new he.x,this._detachments=new he.x,this._locationChanges=de.w0.EMPTY,this._backdropClickHandler=me=>this._backdropClick.next(me),this._backdropTransitionendHandler=me=>{this._disposeBackdrop(me.target)},this._keydownEvents=new he.x,this._outsidePointerEvents=new he.x,ne.scrollStrategy&&(this._scrollStrategy=ne.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=ne.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(J){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const te=this._portalOutlet.attach(J);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ce.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof te?.onDestroy&&te.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),te}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const J=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),J}dispose(){const J=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,J&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(J){J!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=J,this.hasAttached()&&(J.attach(this),this.updatePosition()))}updateSize(J){this._config={...this._config,...J},this._updateElementSize()}setDirection(J){this._config={...this._config,direction:J},this._updateElementDirection()}addPanelClass(J){this._pane&&this._toggleClasses(this._pane,J,!0)}removePanelClass(J){this._pane&&this._toggleClasses(this._pane,J,!1)}getDirection(){const J=this._config.direction;return J?"string"==typeof J?J:J.value:"ltr"}updateScrollStrategy(J){J!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=J,this.hasAttached()&&(J.attach(this),J.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const J=this._pane.style;J.width=(0,re.HM)(this._config.width),J.height=(0,re.HM)(this._config.height),J.minWidth=(0,re.HM)(this._config.minWidth),J.minHeight=(0,re.HM)(this._config.minHeight),J.maxWidth=(0,re.HM)(this._config.maxWidth),J.maxHeight=(0,re.HM)(this._config.maxHeight)}_togglePointerEvents(J){this._pane.style.pointerEvents=J?"":"none"}_attachBackdrop(){const J="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(J)})}):this._backdropElement.classList.add(J)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const J=this._backdropElement;if(J){if(this._animationsDisabled)return void this._disposeBackdrop(J);J.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{J.addEventListener("transitionend",this._backdropTransitionendHandler)}),J.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(J)},500))}}_toggleClasses(J,te,ve){const ne=(0,re.Eq)(te||[]).filter(Ie=>!!Ie);ne.length&&(ve?J.classList.add(...ne):J.classList.remove(...ne))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const J=this._ngZone.onStable.pipe((0,U.R)((0,z.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),J.unsubscribe())})})}_disposeScrollStrategy(){const J=this._scrollStrategy;J&&(J.disable(),J.detach&&J.detach())}_disposeBackdrop(J){J&&(J.removeEventListener("click",this._backdropClickHandler),J.removeEventListener("transitionend",this._backdropTransitionendHandler),J.remove(),this._backdropElement===J&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Kn="cdk-overlay-connected-position-bounding-box",yi=/([A-Za-z%]+)$/;class di{constructor(J,te,ve,ne,Ie){this._viewportRuler=te,this._document=ve,this._platform=ne,this._overlayContainer=Ie,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new he.x,this._resizeSubscription=de.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(J)}get positions(){return this._preferredPositions}attach(J){this._validatePositions(),J.hostElement.classList.add(Kn),this._overlayRef=J,this._boundingBox=J.hostElement,this._pane=J.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const J=this._originRect,te=this._overlayRect,ve=this._viewportRect,ne=this._containerRect,Ie=[];let ot;for(let Ne of this._preferredPositions){let pe=this._getOriginPoint(J,ne,Ne),le=this._getOverlayPoint(pe,te,Ne),ye=this._getOverlayFit(le,te,ve,Ne);if(ye.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Ne,pe);this._canFitWithFlexibleDimensions(ye,le,ve)?Ie.push({position:Ne,origin:pe,overlayRect:te,boundingBoxRect:this._calculateBoundingBoxRect(pe,Ne)}):(!ot||ot.overlayFit.visibleArea<ye.visibleArea)&&(ot={overlayFit:ye,overlayPoint:le,originPoint:pe,position:Ne,overlayRect:te})}if(Ie.length){let Ne=null,pe=-1;for(const le of Ie){const ye=le.boundingBoxRect.width*le.boundingBoxRect.height*(le.position.weight||1);ye>pe&&(pe=ye,Ne=le)}return this._isPushed=!1,void this._applyPosition(Ne.position,Ne.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(ot.position,ot.originPoint);this._applyPosition(ot.position,ot.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ht(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Kn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const J=this._lastPosition;if(J){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const te=this._getOriginPoint(this._originRect,this._containerRect,J);this._applyPosition(J,te)}else this.apply()}withScrollableContainers(J){return this._scrollables=J,this}withPositions(J){return this._preferredPositions=J,-1===J.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(J){return this._viewportMargin=J,this}withFlexibleDimensions(J=!0){return this._hasFlexibleDimensions=J,this}withGrowAfterOpen(J=!0){return this._growAfterOpen=J,this}withPush(J=!0){return this._canPush=J,this}withLockedPosition(J=!0){return this._positionLocked=J,this}setOrigin(J){return this._origin=J,this}withDefaultOffsetX(J){return this._offsetX=J,this}withDefaultOffsetY(J){return this._offsetY=J,this}withTransformOriginOn(J){return this._transformOriginSelector=J,this}_getOriginPoint(J,te,ve){let ne,Ie;if("center"==ve.originX)ne=J.left+J.width/2;else{const ot=this._isRtl()?J.right:J.left,Ne=this._isRtl()?J.left:J.right;ne="start"==ve.originX?ot:Ne}return te.left<0&&(ne-=te.left),Ie="center"==ve.originY?J.top+J.height/2:"top"==ve.originY?J.top:J.bottom,te.top<0&&(Ie-=te.top),{x:ne,y:Ie}}_getOverlayPoint(J,te,ve){let ne,Ie;return ne="center"==ve.overlayX?-te.width/2:"start"===ve.overlayX?this._isRtl()?-te.width:0:this._isRtl()?0:-te.width,Ie="center"==ve.overlayY?-te.height/2:"top"==ve.overlayY?0:-te.height,{x:J.x+ne,y:J.y+Ie}}_getOverlayFit(J,te,ve,ne){const Ie=Rt(te);let{x:ot,y:Ne}=J,pe=this._getOffset(ne,"x"),le=this._getOffset(ne,"y");pe&&(ot+=pe),le&&(Ne+=le);let ae=0-Ne,tt=Ne+Ie.height-ve.height,Mt=this._subtractOverflows(Ie.width,0-ot,ot+Ie.width-ve.width),rt=this._subtractOverflows(Ie.height,ae,tt),sn=Mt*rt;return{visibleArea:sn,isCompletelyWithinViewport:Ie.width*Ie.height===sn,fitsInViewportVertically:rt===Ie.height,fitsInViewportHorizontally:Mt==Ie.width}}_canFitWithFlexibleDimensions(J,te,ve){if(this._hasFlexibleDimensions){const ne=ve.bottom-te.y,Ie=ve.right-te.x,ot=ut(this._overlayRef.getConfig().minHeight),Ne=ut(this._overlayRef.getConfig().minWidth),le=J.fitsInViewportHorizontally||null!=Ne&&Ne<=Ie;return(J.fitsInViewportVertically||null!=ot&&ot<=ne)&&le}return!1}_pushOverlayOnScreen(J,te,ve){if(this._previousPushAmount&&this._positionLocked)return{x:J.x+this._previousPushAmount.x,y:J.y+this._previousPushAmount.y};const ne=Rt(te),Ie=this._viewportRect,ot=Math.max(J.x+ne.width-Ie.width,0),Ne=Math.max(J.y+ne.height-Ie.height,0),pe=Math.max(Ie.top-ve.top-J.y,0),le=Math.max(Ie.left-ve.left-J.x,0);let ye=0,me=0;return ye=ne.width<=Ie.width?le||-ot:J.x<this._viewportMargin?Ie.left-ve.left-J.x:0,me=ne.height<=Ie.height?pe||-Ne:J.y<this._viewportMargin?Ie.top-ve.top-J.y:0,this._previousPushAmount={x:ye,y:me},{x:J.x+ye,y:J.y+me}}_applyPosition(J,te){if(this._setTransformOrigin(J),this._setOverlayElementStyles(te,J),this._setBoundingBoxStyles(te,J),J.panelClass&&this._addPanelClasses(J.panelClass),this._lastPosition=J,this._positionChanges.observers.length){const ve=this._getScrollVisibility(),ne=new qe(J,ve);this._positionChanges.next(ne)}this._isInitialRender=!1}_setTransformOrigin(J){if(!this._transformOriginSelector)return;const te=this._boundingBox.querySelectorAll(this._transformOriginSelector);let ve,ne=J.overlayY;ve="center"===J.overlayX?"center":this._isRtl()?"start"===J.overlayX?"right":"left":"start"===J.overlayX?"left":"right";for(let Ie=0;Ie<te.length;Ie++)te[Ie].style.transformOrigin=`${ve} ${ne}`}_calculateBoundingBoxRect(J,te){const ve=this._viewportRect,ne=this._isRtl();let Ie,ot,Ne,ye,me,ae;if("top"===te.overlayY)ot=J.y,Ie=ve.height-ot+this._viewportMargin;else if("bottom"===te.overlayY)Ne=ve.height-J.y+2*this._viewportMargin,Ie=ve.height-Ne+this._viewportMargin;else{const tt=Math.min(ve.bottom-J.y+ve.top,J.y),Mt=this._lastBoundingBoxSize.height;Ie=2*tt,ot=J.y-tt,Ie>Mt&&!this._isInitialRender&&!this._growAfterOpen&&(ot=J.y-Mt/2)}if("end"===te.overlayX&&!ne||"start"===te.overlayX&&ne)ae=ve.width-J.x+this._viewportMargin,ye=J.x-this._viewportMargin;else if("start"===te.overlayX&&!ne||"end"===te.overlayX&&ne)me=J.x,ye=ve.right-J.x;else{const tt=Math.min(ve.right-J.x+ve.left,J.x),Mt=this._lastBoundingBoxSize.width;ye=2*tt,me=J.x-tt,ye>Mt&&!this._isInitialRender&&!this._growAfterOpen&&(me=J.x-Mt/2)}return{top:ot,left:me,bottom:Ne,right:ae,width:ye,height:Ie}}_setBoundingBoxStyles(J,te){const ve=this._calculateBoundingBoxRect(J,te);!this._isInitialRender&&!this._growAfterOpen&&(ve.height=Math.min(ve.height,this._lastBoundingBoxSize.height),ve.width=Math.min(ve.width,this._lastBoundingBoxSize.width));const ne={};if(this._hasExactPosition())ne.top=ne.left="0",ne.bottom=ne.right=ne.maxHeight=ne.maxWidth="",ne.width=ne.height="100%";else{const Ie=this._overlayRef.getConfig().maxHeight,ot=this._overlayRef.getConfig().maxWidth;ne.height=(0,re.HM)(ve.height),ne.top=(0,re.HM)(ve.top),ne.bottom=(0,re.HM)(ve.bottom),ne.width=(0,re.HM)(ve.width),ne.left=(0,re.HM)(ve.left),ne.right=(0,re.HM)(ve.right),ne.alignItems="center"===te.overlayX?"center":"end"===te.overlayX?"flex-end":"flex-start",ne.justifyContent="center"===te.overlayY?"center":"bottom"===te.overlayY?"flex-end":"flex-start",Ie&&(ne.maxHeight=(0,re.HM)(Ie)),ot&&(ne.maxWidth=(0,re.HM)(ot))}this._lastBoundingBoxSize=ve,ht(this._boundingBox.style,ne)}_resetBoundingBoxStyles(){ht(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ht(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(J,te){const ve={},ne=this._hasExactPosition(),Ie=this._hasFlexibleDimensions,ot=this._overlayRef.getConfig();if(ne){const ye=this._viewportRuler.getViewportScrollPosition();ht(ve,this._getExactOverlayY(te,J,ye)),ht(ve,this._getExactOverlayX(te,J,ye))}else ve.position="static";let Ne="",pe=this._getOffset(te,"x"),le=this._getOffset(te,"y");pe&&(Ne+=`translateX(${pe}px) `),le&&(Ne+=`translateY(${le}px)`),ve.transform=Ne.trim(),ot.maxHeight&&(ne?ve.maxHeight=(0,re.HM)(ot.maxHeight):Ie&&(ve.maxHeight="")),ot.maxWidth&&(ne?ve.maxWidth=(0,re.HM)(ot.maxWidth):Ie&&(ve.maxWidth="")),ht(this._pane.style,ve)}_getExactOverlayY(J,te,ve){let ne={top:"",bottom:""},Ie=this._getOverlayPoint(te,this._overlayRect,J);return this._isPushed&&(Ie=this._pushOverlayOnScreen(Ie,this._overlayRect,ve)),"bottom"===J.overlayY?ne.bottom=this._document.documentElement.clientHeight-(Ie.y+this._overlayRect.height)+"px":ne.top=(0,re.HM)(Ie.y),ne}_getExactOverlayX(J,te,ve){let ot,ne={left:"",right:""},Ie=this._getOverlayPoint(te,this._overlayRect,J);return this._isPushed&&(Ie=this._pushOverlayOnScreen(Ie,this._overlayRect,ve)),ot=this._isRtl()?"end"===J.overlayX?"left":"right":"end"===J.overlayX?"right":"left","right"===ot?ne.right=this._document.documentElement.clientWidth-(Ie.x+this._overlayRect.width)+"px":ne.left=(0,re.HM)(Ie.x),ne}_getScrollVisibility(){const J=this._getOriginRect(),te=this._pane.getBoundingClientRect(),ve=this._scrollables.map(ne=>ne.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:It(J,ve),isOriginOutsideView:Fe(J,ve),isOverlayClipped:It(te,ve),isOverlayOutsideView:Fe(te,ve)}}_subtractOverflows(J,...te){return te.reduce((ve,ne)=>ve-Math.max(ne,0),J)}_getNarrowedViewportRect(){const J=this._document.documentElement.clientWidth,te=this._document.documentElement.clientHeight,ve=this._viewportRuler.getViewportScrollPosition();return{top:ve.top+this._viewportMargin,left:ve.left+this._viewportMargin,right:ve.left+J-this._viewportMargin,bottom:ve.top+te-this._viewportMargin,width:J-2*this._viewportMargin,height:te-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(J,te){return"x"===te?J.offsetX??this._offsetX:J.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(J){this._pane&&(0,re.Eq)(J).forEach(te=>{""!==te&&-1===this._appliedPanelClasses.indexOf(te)&&(this._appliedPanelClasses.push(te),this._pane.classList.add(te))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(J=>{this._pane.classList.remove(J)}),this._appliedPanelClasses=[])}_getOriginRect(){const J=this._origin;if(J instanceof k.SBq)return J.nativeElement.getBoundingClientRect();if(J instanceof Element)return J.getBoundingClientRect();const te=J.width||0,ve=J.height||0;return{top:J.y,bottom:J.y+ve,left:J.x,right:J.x+te,height:ve,width:te}}}function ht(it,J){for(let te in J)J.hasOwnProperty(te)&&(it[te]=J[te]);return it}function ut(it){if("number"!=typeof it&&null!=it){const[J,te]=it.split(yi);return te&&"px"!==te?null:parseFloat(J)}return it||null}function Rt(it){return{top:Math.floor(it.top),right:Math.floor(it.right),bottom:Math.floor(it.bottom),left:Math.floor(it.left),width:Math.floor(it.width),height:Math.floor(it.height)}}const We="cdk-global-overlay-wrapper";class Yt{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(J){const te=J.getConfig();this._overlayRef=J,this._width&&!te.width&&J.updateSize({width:this._width}),this._height&&!te.height&&J.updateSize({height:this._height}),J.hostElement.classList.add(We),this._isDisposed=!1}top(J=""){return this._bottomOffset="",this._topOffset=J,this._alignItems="flex-start",this}left(J=""){return this._xOffset=J,this._xPosition="left",this}bottom(J=""){return this._topOffset="",this._bottomOffset=J,this._alignItems="flex-end",this}right(J=""){return this._xOffset=J,this._xPosition="right",this}start(J=""){return this._xOffset=J,this._xPosition="start",this}end(J=""){return this._xOffset=J,this._xPosition="end",this}width(J=""){return this._overlayRef?this._overlayRef.updateSize({width:J}):this._width=J,this}height(J=""){return this._overlayRef?this._overlayRef.updateSize({height:J}):this._height=J,this}centerHorizontally(J=""){return this.left(J),this._xPosition="center",this}centerVertically(J=""){return this.top(J),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const J=this._overlayRef.overlayElement.style,te=this._overlayRef.hostElement.style,ve=this._overlayRef.getConfig(),{width:ne,height:Ie,maxWidth:ot,maxHeight:Ne}=ve,pe=!("100%"!==ne&&"100vw"!==ne||ot&&"100%"!==ot&&"100vw"!==ot),le=!("100%"!==Ie&&"100vh"!==Ie||Ne&&"100%"!==Ne&&"100vh"!==Ne),ye=this._xPosition,me=this._xOffset,ae="rtl"===this._overlayRef.getConfig().direction;let tt="",Mt="",rt="";pe?rt="flex-start":"center"===ye?(rt="center",ae?Mt=me:tt=me):ae?"left"===ye||"end"===ye?(rt="flex-end",tt=me):("right"===ye||"start"===ye)&&(rt="flex-start",Mt=me):"left"===ye||"start"===ye?(rt="flex-start",tt=me):("right"===ye||"end"===ye)&&(rt="flex-end",Mt=me),J.position=this._cssPosition,J.marginLeft=pe?"0":tt,J.marginTop=le?"0":this._topOffset,J.marginBottom=this._bottomOffset,J.marginRight=pe?"0":Mt,te.justifyContent=rt,te.alignItems=le?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const J=this._overlayRef.overlayElement.style,te=this._overlayRef.hostElement,ve=te.style;te.classList.remove(We),ve.justifyContent=ve.alignItems=J.marginTop=J.marginBottom=J.marginLeft=J.marginRight=J.position="",this._overlayRef=null,this._isDisposed=!0}}let ze=(()=>{class it{constructor(te,ve,ne,Ie){this._viewportRuler=te,this._document=ve,this._platform=ne,this._overlayContainer=Ie}global(){return new Yt}flexibleConnectedTo(te){return new di(te,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(f.rL),k.LFG(d.K0),k.LFG(ee.t4),k.LFG(Gt))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac,providedIn:"root"}),it})(),et=0,xt=(()=>{class it{constructor(te,ve,ne,Ie,ot,Ne,pe,le,ye,me,ae,tt){this.scrollStrategies=te,this._overlayContainer=ve,this._componentFactoryResolver=ne,this._positionBuilder=Ie,this._keyboardDispatcher=ot,this._injector=Ne,this._ngZone=pe,this._document=le,this._directionality=ye,this._location=me,this._outsideClickDispatcher=ae,this._animationsModuleType=tt}create(te){const ve=this._createHostElement(),ne=this._createPaneElement(ve),Ie=this._createPortalOutlet(ne),ot=new fe(te);return ot.direction=ot.direction||this._directionality.value,new fi(Ie,ve,ne,ot,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(te){const ve=this._document.createElement("div");return ve.id="cdk-overlay-"+et++,ve.classList.add("cdk-overlay-pane"),te.appendChild(ve),ve}_createHostElement(){const te=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(te),te}_createPortalOutlet(te){return this._appRef||(this._appRef=this._injector.get(k.z2F)),new Ee.u0(te,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return it.\u0275fac=function(te){return new(te||it)(k.LFG(Be),k.LFG(Gt),k.LFG(k._Vd),k.LFG(ze),k.LFG(Ht),k.LFG(k.zs3),k.LFG(k.R0b),k.LFG(d.K0),k.LFG(W.Is),k.LFG(d.Ye),k.LFG(on),k.LFG(k.QbO,8))},it.\u0275prov=k.Yz7({token:it,factory:it.\u0275fac}),it})();const $n={provide:new k.OlP("cdk-connected-overlay-scroll-strategy"),deps:[xt],useFactory:function Tn(it){return()=>it.scrollStrategies.reposition()}};let Un=(()=>{class it{}return it.\u0275fac=function(te){return new(te||it)},it.\u0275mod=k.oAB({type:it}),it.\u0275inj=k.cJS({providers:[xt,$n],imports:[W.vT,Ee.eL,f.Cl,f.Cl]}),it})()},3353:(He,ge,D)=>{D.d(ge,{Mq:()=>De,Oy:()=>Be,_i:()=>Te,ht:()=>It,i$:()=>ce,kV:()=>Fe,qK:()=>he,sA:()=>Et,t4:()=>re});var f=D(4650),d=D(6895);let k;try{k=typeof Intl<"u"&&Intl.v8BreakIterator}catch{k=!1}let W,re=(()=>{class fe{constructor(Ge){this._platformId=Ge,this.isBrowser=this._platformId?(0,d.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!k)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return fe.\u0275fac=function(Ge){return new(Ge||fe)(f.LFG(f.Lbi))},fe.\u0275prov=f.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();const Ee=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function he(){if(W)return W;if("object"!=typeof document||!document)return W=new Set(Ee),W;let fe=document.createElement("input");return W=new Set(Ee.filter(Pe=>(fe.setAttribute("type",Pe),fe.type===Pe))),W}let de,U,Re,nt;function ce(fe){return function z(){if(null==de&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>de=!0}))}finally{de=de||!1}return de}()?fe:!!fe.capture}function De(){if(null==Re){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Re=!1,Re;if("scrollBehavior"in document.documentElement.style)Re=!0;else{const fe=Element.prototype.scrollTo;Re=!!fe&&!/\{\s*\[native code\]\s*\}/.test(fe.toString())}}return Re}function Te(){if("object"!=typeof document||!document)return 0;if(null==U){const fe=document.createElement("div"),Pe=fe.style;fe.dir="rtl",Pe.width="1px",Pe.overflow="auto",Pe.visibility="hidden",Pe.pointerEvents="none",Pe.position="absolute";const Ge=document.createElement("div"),qe=Ge.style;qe.width="2px",qe.height="1px",fe.appendChild(Ge),document.body.appendChild(fe),U=0,0===fe.scrollLeft&&(fe.scrollLeft=1,U=0===fe.scrollLeft?1:2),fe.remove()}return U}function Fe(fe){if(function Ze(){if(null==nt){const fe=typeof document<"u"?document.head:null;nt=!(!fe||!fe.createShadowRoot&&!fe.attachShadow)}return nt}()){const Pe=fe.getRootNode?fe.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Pe instanceof ShadowRoot)return Pe}return null}function It(){let fe=typeof document<"u"&&document?document.activeElement:null;for(;fe&&fe.shadowRoot;){const Pe=fe.shadowRoot.activeElement;if(Pe===fe)break;fe=Pe}return fe}function Et(fe){return fe.composedPath?fe.composedPath()[0]:fe.target}function Be(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(He,ge,D)=>{D.d(ge,{C5:()=>z,Pl:()=>It,UE:()=>ce,eL:()=>Be,en:()=>Re,u0:()=>Te});var f=D(4650),d=D(6895);class de{attach(Ge){return this._attachedHost=Ge,Ge.attach(this)}detach(){let Ge=this._attachedHost;null!=Ge&&(this._attachedHost=null,Ge.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(Ge){this._attachedHost=Ge}}class z extends de{constructor(Ge,qe,Ve,wt){super(),this.component=Ge,this.viewContainerRef=qe,this.injector=Ve,this.componentFactoryResolver=wt}}class ce extends de{constructor(Ge,qe,Ve,wt){super(),this.templateRef=Ge,this.viewContainerRef=qe,this.context=Ve,this.injector=wt}get origin(){return this.templateRef.elementRef}attach(Ge,qe=this.context){return this.context=qe,super.attach(Ge)}detach(){return this.context=void 0,super.detach()}}class U extends de{constructor(Ge){super(),this.element=Ge instanceof f.SBq?Ge.nativeElement:Ge}}class Re{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(Ge){return Ge instanceof z?(this._attachedPortal=Ge,this.attachComponentPortal(Ge)):Ge instanceof ce?(this._attachedPortal=Ge,this.attachTemplatePortal(Ge)):this.attachDomPortal&&Ge instanceof U?(this._attachedPortal=Ge,this.attachDomPortal(Ge)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(Ge){this._disposeFn=Ge}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Te extends Re{constructor(Ge,qe,Ve,wt,Zt){super(),this.outletElement=Ge,this._componentFactoryResolver=qe,this._appRef=Ve,this._defaultInjector=wt,this.attachDomPortal=Ht=>{const on=Ht.element,Gt=this._document.createComment("dom-portal");on.parentNode.insertBefore(Gt,on),this.outletElement.appendChild(on),this._attachedPortal=Ht,super.setDisposeFn(()=>{Gt.parentNode&&Gt.parentNode.replaceChild(on,Gt)})},this._document=Zt}attachComponentPortal(Ge){const Ve=(Ge.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(Ge.component);let wt;return Ge.viewContainerRef?(wt=Ge.viewContainerRef.createComponent(Ve,Ge.viewContainerRef.length,Ge.injector||Ge.viewContainerRef.injector),this.setDisposeFn(()=>wt.destroy())):(wt=Ve.create(Ge.injector||this._defaultInjector||f.zs3.NULL),this._appRef.attachView(wt.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(wt.hostView),wt.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(wt)),this._attachedPortal=Ge,wt}attachTemplatePortal(Ge){let qe=Ge.viewContainerRef,Ve=qe.createEmbeddedView(Ge.templateRef,Ge.context,{injector:Ge.injector});return Ve.rootNodes.forEach(wt=>this.outletElement.appendChild(wt)),Ve.detectChanges(),this.setDisposeFn(()=>{let wt=qe.indexOf(Ve);-1!==wt&&qe.remove(wt)}),this._attachedPortal=Ge,Ve}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(Ge){return Ge.hostView.rootNodes[0]}}let It=(()=>{class Pe extends Re{constructor(qe,Ve,wt){super(),this._componentFactoryResolver=qe,this._viewContainerRef=Ve,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=Zt=>{const Ht=Zt.element,on=this._document.createComment("dom-portal");Zt.setAttachedHost(this),Ht.parentNode.insertBefore(on,Ht),this._getRootNode().appendChild(Ht),this._attachedPortal=Zt,super.setDisposeFn(()=>{on.parentNode&&on.parentNode.replaceChild(Ht,on)})},this._document=wt}get portal(){return this._attachedPortal}set portal(qe){this.hasAttached()&&!qe&&!this._isInitialized||(this.hasAttached()&&super.detach(),qe&&super.attach(qe),this._attachedPortal=qe||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(qe){qe.setAttachedHost(this);const Ve=null!=qe.viewContainerRef?qe.viewContainerRef:this._viewContainerRef,Zt=(qe.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(qe.component),Ht=Ve.createComponent(Zt,Ve.length,qe.injector||Ve.injector);return Ve!==this._viewContainerRef&&this._getRootNode().appendChild(Ht.hostView.rootNodes[0]),super.setDisposeFn(()=>Ht.destroy()),this._attachedPortal=qe,this._attachedRef=Ht,this.attached.emit(Ht),Ht}attachTemplatePortal(qe){qe.setAttachedHost(this);const Ve=this._viewContainerRef.createEmbeddedView(qe.templateRef,qe.context,{injector:qe.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=qe,this._attachedRef=Ve,this.attached.emit(Ve),Ve}_getRootNode(){const qe=this._viewContainerRef.element.nativeElement;return qe.nodeType===qe.ELEMENT_NODE?qe:qe.parentNode}}return Pe.\u0275fac=function(qe){return new(qe||Pe)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(d.K0))},Pe.\u0275dir=f.lG2({type:Pe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),Pe})(),Be=(()=>{class Pe{}return Pe.\u0275fac=function(qe){return new(qe||Pe)},Pe.\u0275mod=f.oAB({type:Pe}),Pe.\u0275inj=f.cJS({}),Pe})()},8341:(He,ge,D)=>{D.d(ge,{PQ:()=>Tn,ZD:()=>pe,mF:()=>xn,Cl:()=>le,rL:()=>Un});var f=D(1281),d=D(4650),k=D(7579),re=D(9646),ee=D(9751),W=D(4968),Ee=D(4408),he=D(727);const de={schedule(ye){let me=requestAnimationFrame,ae=cancelAnimationFrame;const{delegate:tt}=de;tt&&(me=tt.requestAnimationFrame,ae=tt.cancelAnimationFrame);const Mt=me(rt=>{ae=void 0,ye(rt)});return new he.w0(()=>ae?.(Mt))},requestAnimationFrame(...ye){const{delegate:me}=de;return(me?.requestAnimationFrame||requestAnimationFrame)(...ye)},cancelAnimationFrame(...ye){const{delegate:me}=de;return(me?.cancelAnimationFrame||cancelAnimationFrame)(...ye)},delegate:void 0};var ce=D(7565);new class U extends ce.v{flush(me){this._active=!0;const ae=this._scheduled;this._scheduled=void 0;const{actions:tt}=this;let Mt;me=me||tt.shift();do{if(Mt=me.execute(me.state,me.delay))break}while((me=tt[0])&&me.id===ae&&tt.shift());if(this._active=!1,Mt){for(;(me=tt[0])&&me.id===ae&&tt.shift();)me.unsubscribe();throw Mt}}}(class z extends Ee.o{constructor(me,ae){super(me,ae),this.scheduler=me,this.work=ae}requestAsyncId(me,ae,tt=0){return null!==tt&&tt>0?super.requestAsyncId(me,ae,tt):(me.actions.push(this),me._scheduled||(me._scheduled=de.requestAnimationFrame(()=>me.flush(void 0))))}recycleAsyncId(me,ae,tt=0){var Mt;if(null!=tt?tt>0:this.delay>0)return super.recycleAsyncId(me,ae,tt);const{actions:rt}=me;null!=ae&&(null===(Mt=rt[rt.length-1])||void 0===Mt?void 0:Mt.id)!==ae&&(de.cancelAnimationFrame(ae),me._scheduled=void 0)}});let nt,Te=1;const Ze={};function Fe(ye){return ye in Ze&&(delete Ze[ye],!0)}const It={setImmediate(ye){const me=Te++;return Ze[me]=!0,nt||(nt=Promise.resolve()),nt.then(()=>Fe(me)&&ye()),me},clearImmediate(ye){Fe(ye)}},{setImmediate:Be,clearImmediate:fe}=It,Pe={setImmediate(...ye){const{delegate:me}=Pe;return(me?.setImmediate||Be)(...ye)},clearImmediate(ye){const{delegate:me}=Pe;return(me?.clearImmediate||fe)(ye)},delegate:void 0};new class qe extends ce.v{flush(me){this._active=!0;const ae=this._scheduled;this._scheduled=void 0;const{actions:tt}=this;let Mt;me=me||tt.shift();do{if(Mt=me.execute(me.state,me.delay))break}while((me=tt[0])&&me.id===ae&&tt.shift());if(this._active=!1,Mt){for(;(me=tt[0])&&me.id===ae&&tt.shift();)me.unsubscribe();throw Mt}}}(class Ge extends Ee.o{constructor(me,ae){super(me,ae),this.scheduler=me,this.work=ae}requestAsyncId(me,ae,tt=0){return null!==tt&&tt>0?super.requestAsyncId(me,ae,tt):(me.actions.push(this),me._scheduled||(me._scheduled=Pe.setImmediate(me.flush.bind(me,void 0))))}recycleAsyncId(me,ae,tt=0){var Mt;if(null!=tt?tt>0:this.delay>0)return super.recycleAsyncId(me,ae,tt);const{actions:rt}=me;null!=ae&&(null===(Mt=rt[rt.length-1])||void 0===Mt?void 0:Mt.id)!==ae&&(Pe.clearImmediate(ae),me._scheduled=void 0)}});var Zt=D(4986),Ht=D(4482),on=D(8421),Gt=D(5403),Kn=D(3532),yi=D(1165);function ht(ye,me=Zt.z){return function fi(ye){return(0,Ht.e)((me,ae)=>{let tt=!1,Mt=null,rt=null,sn=!1;const pt=()=>{if(rt?.unsubscribe(),rt=null,tt){tt=!1;const Oe=Mt;Mt=null,ae.next(Oe)}sn&&ae.complete()},Ue=()=>{rt=null,sn&&ae.complete()};me.subscribe((0,Gt.x)(ae,Oe=>{tt=!0,Mt=Oe,rt||(0,on.Xf)(ye(Oe)).subscribe(rt=(0,Gt.x)(ae,pt,Ue))},()=>{sn=!0,(!tt||!rt||rt.closed)&&ae.complete()}))})}(()=>function di(ye=0,me,ae=Zt.P){let tt=-1;return null!=me&&((0,Kn.K)(me)?ae=me:tt=me),new ee.y(Mt=>{let rt=(0,yi.q)(ye)?+ye-ae.now():ye;rt<0&&(rt=0);let sn=0;return ae.schedule(function(){Mt.closed||(Mt.next(sn++),0<=tt?this.schedule(void 0,tt):Mt.complete())},rt)})}(ye,me))}var ut=D(9300),Rt=D(2722),gt=D(3353),Ut=D(6895),We=D(445);let xn=(()=>{class ye{constructor(ae,tt,Mt){this._ngZone=ae,this._platform=tt,this._scrolled=new k.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Mt}register(ae){this.scrollContainers.has(ae)||this.scrollContainers.set(ae,ae.elementScrolled().subscribe(()=>this._scrolled.next(ae)))}deregister(ae){const tt=this.scrollContainers.get(ae);tt&&(tt.unsubscribe(),this.scrollContainers.delete(ae))}scrolled(ae=20){return this._platform.isBrowser?new ee.y(tt=>{this._globalSubscription||this._addGlobalListener();const Mt=ae>0?this._scrolled.pipe(ht(ae)).subscribe(tt):this._scrolled.subscribe(tt);return this._scrolledCount++,()=>{Mt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,re.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((ae,tt)=>this.deregister(tt)),this._scrolled.complete()}ancestorScrolled(ae,tt){const Mt=this.getAncestorScrollContainers(ae);return this.scrolled(tt).pipe((0,ut.h)(rt=>!rt||Mt.indexOf(rt)>-1))}getAncestorScrollContainers(ae){const tt=[];return this.scrollContainers.forEach((Mt,rt)=>{this._scrollableContainsElement(rt,ae)&&tt.push(rt)}),tt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(ae,tt){let Mt=(0,f.fI)(tt),rt=ae.getElementRef().nativeElement;do{if(Mt==rt)return!0}while(Mt=Mt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const ae=this._getWindow();return(0,W.R)(ae.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ye.\u0275fac=function(ae){return new(ae||ye)(d.LFG(d.R0b),d.LFG(gt.t4),d.LFG(Ut.K0,8))},ye.\u0275prov=d.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),Tn=(()=>{class ye{constructor(ae,tt,Mt,rt){this.elementRef=ae,this.scrollDispatcher=tt,this.ngZone=Mt,this.dir=rt,this._destroyed=new k.x,this._elementScrolled=new ee.y(sn=>this.ngZone.runOutsideAngular(()=>(0,W.R)(this.elementRef.nativeElement,"scroll").pipe((0,Rt.R)(this._destroyed)).subscribe(sn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(ae){const tt=this.elementRef.nativeElement,Mt=this.dir&&"rtl"==this.dir.value;null==ae.left&&(ae.left=Mt?ae.end:ae.start),null==ae.right&&(ae.right=Mt?ae.start:ae.end),null!=ae.bottom&&(ae.top=tt.scrollHeight-tt.clientHeight-ae.bottom),Mt&&0!=(0,gt._i)()?(null!=ae.left&&(ae.right=tt.scrollWidth-tt.clientWidth-ae.left),2==(0,gt._i)()?ae.left=ae.right:1==(0,gt._i)()&&(ae.left=ae.right?-ae.right:ae.right)):null!=ae.right&&(ae.left=tt.scrollWidth-tt.clientWidth-ae.right),this._applyScrollToOptions(ae)}_applyScrollToOptions(ae){const tt=this.elementRef.nativeElement;(0,gt.Mq)()?tt.scrollTo(ae):(null!=ae.top&&(tt.scrollTop=ae.top),null!=ae.left&&(tt.scrollLeft=ae.left))}measureScrollOffset(ae){const tt="left",rt=this.elementRef.nativeElement;if("top"==ae)return rt.scrollTop;if("bottom"==ae)return rt.scrollHeight-rt.clientHeight-rt.scrollTop;const sn=this.dir&&"rtl"==this.dir.value;return"start"==ae?ae=sn?"right":tt:"end"==ae&&(ae=sn?tt:"right"),sn&&2==(0,gt._i)()?ae==tt?rt.scrollWidth-rt.clientWidth-rt.scrollLeft:rt.scrollLeft:sn&&1==(0,gt._i)()?ae==tt?rt.scrollLeft+rt.scrollWidth-rt.clientWidth:-rt.scrollLeft:ae==tt?rt.scrollLeft:rt.scrollWidth-rt.clientWidth-rt.scrollLeft}}return ye.\u0275fac=function(ae){return new(ae||ye)(d.Y36(d.SBq),d.Y36(xn),d.Y36(d.R0b),d.Y36(We.Is,8))},ye.\u0275dir=d.lG2({type:ye,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),ye})(),Un=(()=>{class ye{constructor(ae,tt,Mt){this._platform=ae,this._change=new k.x,this._changeListener=rt=>{this._change.next(rt)},this._document=Mt,tt.runOutsideAngular(()=>{if(ae.isBrowser){const rt=this._getWindow();rt.addEventListener("resize",this._changeListener),rt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const ae=this._getWindow();ae.removeEventListener("resize",this._changeListener),ae.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const ae={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),ae}getViewportRect(){const ae=this.getViewportScrollPosition(),{width:tt,height:Mt}=this.getViewportSize();return{top:ae.top,left:ae.left,bottom:ae.top+Mt,right:ae.left+tt,height:Mt,width:tt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const ae=this._document,tt=this._getWindow(),Mt=ae.documentElement,rt=Mt.getBoundingClientRect();return{top:-rt.top||ae.body.scrollTop||tt.scrollY||Mt.scrollTop||0,left:-rt.left||ae.body.scrollLeft||tt.scrollX||Mt.scrollLeft||0}}change(ae=20){return ae>0?this._change.pipe(ht(ae)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const ae=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:ae.innerWidth,height:ae.innerHeight}:{width:0,height:0}}}return ye.\u0275fac=function(ae){return new(ae||ye)(d.LFG(gt.t4),d.LFG(d.R0b),d.LFG(Ut.K0,8))},ye.\u0275prov=d.Yz7({token:ye,factory:ye.\u0275fac,providedIn:"root"}),ye})(),pe=(()=>{class ye{}return ye.\u0275fac=function(ae){return new(ae||ye)},ye.\u0275mod=d.oAB({type:ye}),ye.\u0275inj=d.cJS({}),ye})(),le=(()=>{class ye{}return ye.\u0275fac=function(ae){return new(ae||ye)},ye.\u0275mod=d.oAB({type:ye}),ye.\u0275inj=d.cJS({imports:[We.vT,pe,We.vT,pe]}),ye})()},6895:(He,ge,D)=>{D.d(ge,{Do:()=>Et,EM:()=>qs,HT:()=>ee,JF:()=>No,K0:()=>Ee,Mx:()=>ms,NF:()=>Fo,O5:()=>Ai,PC:()=>_t,PM:()=>Es,RF:()=>is,S$:()=>Ze,V_:()=>z,Ye:()=>Be,b0:()=>It,bD:()=>Jo,ez:()=>Wa,mk:()=>Xn,n9:()=>rs,q:()=>k,w_:()=>W});var f=D(4650);let d=null;function k(){return d}function ee(T){d||(d=T)}class W{}const Ee=new f.OlP("DocumentToken");let he=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=f.Yz7({token:T,factory:function(){return function de(){return(0,f.LFG)(ce)}()},providedIn:"platform"}),T})();const z=new f.OlP("Location Initialized");let ce=(()=>{class T extends he{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(P){const Y=k().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",P,!1),()=>Y.removeEventListener("popstate",P)}onHashChange(P){const Y=k().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",P,!1),()=>Y.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Y,je){U()?this._history.pushState(P,Y,je):this.location.hash=je}replaceState(P,Y,je){U()?this._history.replaceState(P,Y,je):this.location.hash=je}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return T.\u0275fac=function(P){return new(P||T)(f.LFG(Ee))},T.\u0275prov=f.Yz7({token:T,factory:function(){return function Re(){return new ce((0,f.LFG)(Ee))}()},providedIn:"platform"}),T})();function U(){return!!window.history.pushState}function De(T,G){if(0==T.length)return G;if(0==G.length)return T;let P=0;return T.endsWith("/")&&P++,G.startsWith("/")&&P++,2==P?T+G.substring(1):1==P?T+G:T+"/"+G}function Te(T){const G=T.match(/#|\?|$/),P=G&&G.index||T.length;return T.slice(0,P-("/"===T[P-1]?1:0))+T.slice(P)}function nt(T){return T&&"?"!==T[0]?"?"+T:T}let Ze=(()=>{class T{historyGo(P){throw new Error("Not implemented")}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275prov=f.Yz7({token:T,factory:function(){return(0,f.f3M)(It)},providedIn:"root"}),T})();const Fe=new f.OlP("appBaseHref");let It=(()=>{class T extends Ze{constructor(P,Y){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=Y??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return De(this._baseHref,P)}path(P=!1){const Y=this._platformLocation.pathname+nt(this._platformLocation.search),je=this._platformLocation.hash;return je&&P?`${Y}${je}`:Y}pushState(P,Y,je,Ot){const $t=this.prepareExternalUrl(je+nt(Ot));this._platformLocation.pushState(P,Y,$t)}replaceState(P,Y,je,Ot){const $t=this.prepareExternalUrl(je+nt(Ot));this._platformLocation.replaceState(P,Y,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(f.LFG(he),f.LFG(Fe,8))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),Et=(()=>{class T extends Ze{constructor(P,Y){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(P){const Y=De(this._baseHref,P);return Y.length>0?"#"+Y:Y}pushState(P,Y,je,Ot){let $t=this.prepareExternalUrl(je+nt(Ot));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.pushState(P,Y,$t)}replaceState(P,Y,je,Ot){let $t=this.prepareExternalUrl(je+nt(Ot));0==$t.length&&($t=this._platformLocation.pathname),this._platformLocation.replaceState(P,Y,$t)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return T.\u0275fac=function(P){return new(P||T)(f.LFG(he),f.LFG(Fe,8))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})(),Be=(()=>{class T{constructor(P){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const Y=this._locationStrategy.getBaseHref();this._baseHref=Te(Ge(Y)),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,Y=""){return this.path()==this.normalize(P+nt(Y))}normalize(P){return T.stripTrailingSlash(function Pe(T,G){return T&&G.startsWith(T)?G.substring(T.length):G}(this._baseHref,Ge(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,Y="",je=null){this._locationStrategy.pushState(je,"",P,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+nt(Y)),je)}replaceState(P,Y="",je=null){this._locationStrategy.replaceState(je,"",P,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+nt(Y)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)})),()=>{const Y=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(Y,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",Y){this._urlChangeListeners.forEach(je=>je(P,Y))}subscribe(P,Y,je){return this._subject.subscribe({next:P,error:Y,complete:je})}}return T.normalizeQueryParams=nt,T.joinWithSlash=De,T.stripTrailingSlash=Te,T.\u0275fac=function(P){return new(P||T)(f.LFG(Ze))},T.\u0275prov=f.Yz7({token:T,factory:function(){return function fe(){return new Be((0,f.LFG)(Ze))}()},providedIn:"root"}),T})();function Ge(T){return T.replace(/\/index.html$/,"")}function ms(T,G){G=encodeURIComponent(G);for(const P of T.split(";")){const Y=P.indexOf("="),[je,Ot]=-1==Y?[P,""]:[P.slice(0,Y),P.slice(Y+1)];if(je.trim()===G)return decodeURIComponent(Ot)}return null}let Xn=(()=>{class T{constructor(P,Y,je,Ot){this._iterableDiffers=P,this._keyValueDiffers=Y,this._ngEl=je,this._renderer=Ot,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(P){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof P?P.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(P){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof P?P.split(/\s+/):P,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const P=this._iterableDiffer.diff(this._rawClass);P&&this._applyIterableChanges(P)}else if(this._keyValueDiffer){const P=this._keyValueDiffer.diff(this._rawClass);P&&this._applyKeyValueChanges(P)}}_applyKeyValueChanges(P){P.forEachAddedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),P.forEachChangedItem(Y=>this._toggleClass(Y.key,Y.currentValue)),P.forEachRemovedItem(Y=>{Y.previousValue&&this._toggleClass(Y.key,!1)})}_applyIterableChanges(P){P.forEachAddedItem(Y=>{if("string"!=typeof Y.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(Y.item)}`);this._toggleClass(Y.item,!0)}),P.forEachRemovedItem(Y=>this._toggleClass(Y.item,!1))}_applyClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(Y=>this._toggleClass(Y,!0)):Object.keys(P).forEach(Y=>this._toggleClass(Y,!!P[Y])))}_removeClasses(P){P&&(Array.isArray(P)||P instanceof Set?P.forEach(Y=>this._toggleClass(Y,!1)):Object.keys(P).forEach(Y=>this._toggleClass(Y,!1)))}_toggleClass(P,Y){(P=P.trim())&&P.split(/\s+/g).forEach(je=>{Y?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return T.\u0275fac=function(P){return new(P||T)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},T.\u0275dir=f.lG2({type:T,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),T})(),Ai=(()=>{class T{constructor(P,Y){this._viewContainer=P,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Gi("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Gi("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Y){return!0}}return T.\u0275fac=function(P){return new(P||T)(f.Y36(f.s_b),f.Y36(f.Rgc))},T.\u0275dir=f.lG2({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),T})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function Gi(T,G){if(G&&!G.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,f.AaK)(G)}'.`)}class Dr{constructor(G,P){this._viewContainerRef=G,this._templateRef=P,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let is=(()=>{class T{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(P){this._ngSwitch=P,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(P){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(P)}_matchCase(P){const Y=P==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Y,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Y}_updateDefaultCases(P){if(this._defaultViews&&P!==this._defaultUsed){this._defaultUsed=P;for(let Y=0;Y<this._defaultViews.length;Y++)this._defaultViews[Y].enforceState(P)}}}return T.\u0275fac=function(P){return new(P||T)},T.\u0275dir=f.lG2({type:T,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),T})(),rs=(()=>{class T{constructor(P,Y,je){this.ngSwitch=je,je._addCase(),this._view=new Dr(P,Y)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return T.\u0275fac=function(P){return new(P||T)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(is,9))},T.\u0275dir=f.lG2({type:T,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),T})(),_t=(()=>{class T{constructor(P,Y,je){this._ngEl=P,this._differs=Y,this._renderer=je,this._ngStyle=null,this._differ=null}set ngStyle(P){this._ngStyle=P,!this._differ&&P&&(this._differ=this._differs.find(P).create())}ngDoCheck(){if(this._differ){const P=this._differ.diff(this._ngStyle);P&&this._applyChanges(P)}}_setStyle(P,Y){const[je,Ot]=P.split("."),$t=-1===je.indexOf("-")?void 0:f.JOm.DashCase;null!=Y?this._renderer.setStyle(this._ngEl.nativeElement,je,Ot?`${Y}${Ot}`:Y,$t):this._renderer.removeStyle(this._ngEl.nativeElement,je,$t)}_applyChanges(P){P.forEachRemovedItem(Y=>this._setStyle(Y.key,null)),P.forEachAddedItem(Y=>this._setStyle(Y.key,Y.currentValue)),P.forEachChangedItem(Y=>this._setStyle(Y.key,Y.currentValue))}}return T.\u0275fac=function(P){return new(P||T)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},T.\u0275dir=f.lG2({type:T,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),T})(),Wa=(()=>{class T{}return T.\u0275fac=function(P){return new(P||T)},T.\u0275mod=f.oAB({type:T}),T.\u0275inj=f.cJS({}),T})();const Jo="browser";function Fo(T){return T===Jo}function Es(T){return"server"===T}let qs=(()=>{class T{}return T.\u0275prov=(0,f.Yz7)({token:T,providedIn:"root",factory:()=>new pa((0,f.LFG)(Ee),window)}),T})();class pa{constructor(G,P){this.document=G,this.window=P,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const P=function Ur(T,G){const P=T.getElementById(G)||T.getElementsByName(G)[0];if(P)return P;if("function"==typeof T.createTreeWalker&&T.body&&(T.body.createShadowRoot||T.body.attachShadow)){const Y=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let je=Y.currentNode;for(;je;){const Ot=je.shadowRoot;if(Ot){const $t=Ot.getElementById(G)||Ot.querySelector(`[name="${G}"]`);if($t)return $t}je=Y.nextNode()}}return null}(this.document,G);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=G)}}scrollToElement(G){const P=G.getBoundingClientRect(),Y=P.left+this.window.pageXOffset,je=P.top+this.window.pageYOffset,Ot=this.offset();this.window.scrollTo(Y-Ot[0],je-Ot[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=go(this.window.history)||go(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function go(T){return Object.getOwnPropertyDescriptor(T,"scrollRestoration")}class No{}},529:(He,ge,D)=>{D.d(ge,{JF:()=>ne,TP:()=>di,eN:()=>Kn});var f=D(6895),d=D(4650),k=D(9646),re=D(9751),ee=D(4351),W=D(9300),Ee=D(4004);class he{}class de{}class z{constructor(pe){this.normalizedNames=new Map,this.lazyUpdate=null,pe?this.lazyInit="string"==typeof pe?()=>{this.headers=new Map,pe.split("\n").forEach(le=>{const ye=le.indexOf(":");if(ye>0){const me=le.slice(0,ye),ae=me.toLowerCase(),tt=le.slice(ye+1).trim();this.maybeSetNormalizedName(me,ae),this.headers.has(ae)?this.headers.get(ae).push(tt):this.headers.set(ae,[tt])}})}:()=>{this.headers=new Map,Object.keys(pe).forEach(le=>{let ye=pe[le];const me=le.toLowerCase();"string"==typeof ye&&(ye=[ye]),ye.length>0&&(this.headers.set(me,ye),this.maybeSetNormalizedName(le,me))})}:this.headers=new Map}has(pe){return this.init(),this.headers.has(pe.toLowerCase())}get(pe){this.init();const le=this.headers.get(pe.toLowerCase());return le&&le.length>0?le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(pe){return this.init(),this.headers.get(pe.toLowerCase())||null}append(pe,le){return this.clone({name:pe,value:le,op:"a"})}set(pe,le){return this.clone({name:pe,value:le,op:"s"})}delete(pe,le){return this.clone({name:pe,value:le,op:"d"})}maybeSetNormalizedName(pe,le){this.normalizedNames.has(le)||this.normalizedNames.set(le,pe)}init(){this.lazyInit&&(this.lazyInit instanceof z?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(pe=>this.applyUpdate(pe)),this.lazyUpdate=null))}copyFrom(pe){pe.init(),Array.from(pe.headers.keys()).forEach(le=>{this.headers.set(le,pe.headers.get(le)),this.normalizedNames.set(le,pe.normalizedNames.get(le))})}clone(pe){const le=new z;return le.lazyInit=this.lazyInit&&this.lazyInit instanceof z?this.lazyInit:this,le.lazyUpdate=(this.lazyUpdate||[]).concat([pe]),le}applyUpdate(pe){const le=pe.name.toLowerCase();switch(pe.op){case"a":case"s":let ye=pe.value;if("string"==typeof ye&&(ye=[ye]),0===ye.length)return;this.maybeSetNormalizedName(pe.name,le);const me=("a"===pe.op?this.headers.get(le):void 0)||[];me.push(...ye),this.headers.set(le,me);break;case"d":const ae=pe.value;if(ae){let tt=this.headers.get(le);if(!tt)return;tt=tt.filter(Mt=>-1===ae.indexOf(Mt)),0===tt.length?(this.headers.delete(le),this.normalizedNames.delete(le)):this.headers.set(le,tt)}else this.headers.delete(le),this.normalizedNames.delete(le)}}forEach(pe){this.init(),Array.from(this.normalizedNames.keys()).forEach(le=>pe(this.normalizedNames.get(le),this.headers.get(le)))}}class U{encodeKey(pe){return nt(pe)}encodeValue(pe){return nt(pe)}decodeKey(pe){return decodeURIComponent(pe)}decodeValue(pe){return decodeURIComponent(pe)}}const De=/%(\d[a-f0-9])/gi,Te={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nt(Ne){return encodeURIComponent(Ne).replace(De,(pe,le)=>Te[le]??pe)}function Ze(Ne){return`${Ne}`}class Fe{constructor(pe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=pe.encoder||new U,pe.fromString){if(pe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Re(Ne,pe){const le=new Map;return Ne.length>0&&Ne.replace(/^\?/,"").split("&").forEach(me=>{const ae=me.indexOf("="),[tt,Mt]=-1==ae?[pe.decodeKey(me),""]:[pe.decodeKey(me.slice(0,ae)),pe.decodeValue(me.slice(ae+1))],rt=le.get(tt)||[];rt.push(Mt),le.set(tt,rt)}),le}(pe.fromString,this.encoder)}else pe.fromObject?(this.map=new Map,Object.keys(pe.fromObject).forEach(le=>{const ye=pe.fromObject[le],me=Array.isArray(ye)?ye.map(Ze):[Ze(ye)];this.map.set(le,me)})):this.map=null}has(pe){return this.init(),this.map.has(pe)}get(pe){this.init();const le=this.map.get(pe);return le?le[0]:null}getAll(pe){return this.init(),this.map.get(pe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(pe,le){return this.clone({param:pe,value:le,op:"a"})}appendAll(pe){const le=[];return Object.keys(pe).forEach(ye=>{const me=pe[ye];Array.isArray(me)?me.forEach(ae=>{le.push({param:ye,value:ae,op:"a"})}):le.push({param:ye,value:me,op:"a"})}),this.clone(le)}set(pe,le){return this.clone({param:pe,value:le,op:"s"})}delete(pe,le){return this.clone({param:pe,value:le,op:"d"})}toString(){return this.init(),this.keys().map(pe=>{const le=this.encoder.encodeKey(pe);return this.map.get(pe).map(ye=>le+"="+this.encoder.encodeValue(ye)).join("&")}).filter(pe=>""!==pe).join("&")}clone(pe){const le=new Fe({encoder:this.encoder});return le.cloneFrom=this.cloneFrom||this,le.updates=(this.updates||[]).concat(pe),le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(pe=>this.map.set(pe,this.cloneFrom.map.get(pe))),this.updates.forEach(pe=>{switch(pe.op){case"a":case"s":const le=("a"===pe.op?this.map.get(pe.param):void 0)||[];le.push(Ze(pe.value)),this.map.set(pe.param,le);break;case"d":if(void 0===pe.value){this.map.delete(pe.param);break}{let ye=this.map.get(pe.param)||[];const me=ye.indexOf(Ze(pe.value));-1!==me&&ye.splice(me,1),ye.length>0?this.map.set(pe.param,ye):this.map.delete(pe.param)}}}),this.cloneFrom=this.updates=null)}}class Et{constructor(){this.map=new Map}set(pe,le){return this.map.set(pe,le),this}get(pe){return this.map.has(pe)||this.map.set(pe,pe.defaultValue()),this.map.get(pe)}delete(pe){return this.map.delete(pe),this}has(pe){return this.map.has(pe)}keys(){return this.map.keys()}}function fe(Ne){return typeof ArrayBuffer<"u"&&Ne instanceof ArrayBuffer}function Pe(Ne){return typeof Blob<"u"&&Ne instanceof Blob}function Ge(Ne){return typeof FormData<"u"&&Ne instanceof FormData}class Ve{constructor(pe,le,ye,me){let ae;if(this.url=le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=pe.toUpperCase(),function Be(Ne){switch(Ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||me?(this.body=void 0!==ye?ye:null,ae=me):ae=ye,ae&&(this.reportProgress=!!ae.reportProgress,this.withCredentials=!!ae.withCredentials,ae.responseType&&(this.responseType=ae.responseType),ae.headers&&(this.headers=ae.headers),ae.context&&(this.context=ae.context),ae.params&&(this.params=ae.params)),this.headers||(this.headers=new z),this.context||(this.context=new Et),this.params){const tt=this.params.toString();if(0===tt.length)this.urlWithParams=le;else{const Mt=le.indexOf("?");this.urlWithParams=le+(-1===Mt?"?":Mt<le.length-1?"&":"")+tt}}else this.params=new Fe,this.urlWithParams=le}serializeBody(){return null===this.body?null:fe(this.body)||Pe(this.body)||Ge(this.body)||function qe(Ne){return typeof URLSearchParams<"u"&&Ne instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Fe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ge(this.body)?null:Pe(this.body)?this.body.type||null:fe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Fe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(pe={}){const le=pe.method||this.method,ye=pe.url||this.url,me=pe.responseType||this.responseType,ae=void 0!==pe.body?pe.body:this.body,tt=void 0!==pe.withCredentials?pe.withCredentials:this.withCredentials,Mt=void 0!==pe.reportProgress?pe.reportProgress:this.reportProgress;let rt=pe.headers||this.headers,sn=pe.params||this.params;const pt=pe.context??this.context;return void 0!==pe.setHeaders&&(rt=Object.keys(pe.setHeaders).reduce((Ue,Oe)=>Ue.set(Oe,pe.setHeaders[Oe]),rt)),pe.setParams&&(sn=Object.keys(pe.setParams).reduce((Ue,Oe)=>Ue.set(Oe,pe.setParams[Oe]),sn)),new Ve(le,ye,ae,{params:sn,headers:rt,context:pt,reportProgress:Mt,responseType:me,withCredentials:tt})}}var wt=(()=>((wt=wt||{})[wt.Sent=0]="Sent",wt[wt.UploadProgress=1]="UploadProgress",wt[wt.ResponseHeader=2]="ResponseHeader",wt[wt.DownloadProgress=3]="DownloadProgress",wt[wt.Response=4]="Response",wt[wt.User=5]="User",wt))();class Zt{constructor(pe,le=200,ye="OK"){this.headers=pe.headers||new z,this.status=void 0!==pe.status?pe.status:le,this.statusText=pe.statusText||ye,this.url=pe.url||null,this.ok=this.status>=200&&this.status<300}}class Ht extends Zt{constructor(pe={}){super(pe),this.type=wt.ResponseHeader}clone(pe={}){return new Ht({headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class on extends Zt{constructor(pe={}){super(pe),this.type=wt.Response,this.body=void 0!==pe.body?pe.body:null}clone(pe={}){return new on({body:void 0!==pe.body?pe.body:this.body,headers:pe.headers||this.headers,status:void 0!==pe.status?pe.status:this.status,statusText:pe.statusText||this.statusText,url:pe.url||this.url||void 0})}}class Gt extends Zt{constructor(pe){super(pe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${pe.url||"(unknown url)"}`:`Http failure response for ${pe.url||"(unknown url)"}: ${pe.status} ${pe.statusText}`,this.error=pe.error||null}}function fi(Ne,pe){return{body:pe,headers:Ne.headers,context:Ne.context,observe:Ne.observe,params:Ne.params,reportProgress:Ne.reportProgress,responseType:Ne.responseType,withCredentials:Ne.withCredentials}}let Kn=(()=>{class Ne{constructor(le){this.handler=le}request(le,ye,me={}){let ae;if(le instanceof Ve)ae=le;else{let rt,sn;rt=me.headers instanceof z?me.headers:new z(me.headers),me.params&&(sn=me.params instanceof Fe?me.params:new Fe({fromObject:me.params})),ae=new Ve(le,ye,void 0!==me.body?me.body:null,{headers:rt,context:me.context,params:sn,reportProgress:me.reportProgress,responseType:me.responseType||"json",withCredentials:me.withCredentials})}const tt=(0,k.of)(ae).pipe((0,ee.b)(rt=>this.handler.handle(rt)));if(le instanceof Ve||"events"===me.observe)return tt;const Mt=tt.pipe((0,W.h)(rt=>rt instanceof on));switch(me.observe||"body"){case"body":switch(ae.responseType){case"arraybuffer":return Mt.pipe((0,Ee.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return rt.body}));case"blob":return Mt.pipe((0,Ee.U)(rt=>{if(null!==rt.body&&!(rt.body instanceof Blob))throw new Error("Response is not a Blob.");return rt.body}));case"text":return Mt.pipe((0,Ee.U)(rt=>{if(null!==rt.body&&"string"!=typeof rt.body)throw new Error("Response is not a string.");return rt.body}));default:return Mt.pipe((0,Ee.U)(rt=>rt.body))}case"response":return Mt;default:throw new Error(`Unreachable: unhandled observe type ${me.observe}}`)}}delete(le,ye={}){return this.request("DELETE",le,ye)}get(le,ye={}){return this.request("GET",le,ye)}head(le,ye={}){return this.request("HEAD",le,ye)}jsonp(le,ye){return this.request("JSONP",le,{params:(new Fe).append(ye,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(le,ye={}){return this.request("OPTIONS",le,ye)}patch(le,ye,me={}){return this.request("PATCH",le,fi(me,ye))}post(le,ye,me={}){return this.request("POST",le,fi(me,ye))}put(le,ye,me={}){return this.request("PUT",le,fi(me,ye))}}return Ne.\u0275fac=function(le){return new(le||Ne)(d.LFG(he))},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();class yi{constructor(pe,le){this.next=pe,this.interceptor=le}handle(pe){return this.interceptor.intercept(pe,this.next)}}const di=new d.OlP("HTTP_INTERCEPTORS");let ht=(()=>{class Ne{intercept(le,ye){return ye.handle(le)}}return Ne.\u0275fac=function(le){return new(le||Ne)},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const Wt=/^\)\]\}',?\n/;let pn=(()=>{class Ne{constructor(le){this.xhrFactory=le}handle(le){if("JSONP"===le.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new re.y(ye=>{const me=this.xhrFactory.build();if(me.open(le.method,le.urlWithParams),le.withCredentials&&(me.withCredentials=!0),le.headers.forEach((Dt,Xt)=>me.setRequestHeader(Dt,Xt.join(","))),le.headers.has("Accept")||me.setRequestHeader("Accept","application/json, text/plain, */*"),!le.headers.has("Content-Type")){const Dt=le.detectContentTypeHeader();null!==Dt&&me.setRequestHeader("Content-Type",Dt)}if(le.responseType){const Dt=le.responseType.toLowerCase();me.responseType="json"!==Dt?Dt:"text"}const ae=le.serializeBody();let tt=null;const Mt=()=>{if(null!==tt)return tt;const Dt=me.statusText||"OK",Xt=new z(me.getAllResponseHeaders()),Pn=function nn(Ne){return"responseURL"in Ne&&Ne.responseURL?Ne.responseURL:/^X-Request-URL:/m.test(Ne.getAllResponseHeaders())?Ne.getResponseHeader("X-Request-URL"):null}(me)||le.url;return tt=new Ht({headers:Xt,status:me.status,statusText:Dt,url:Pn}),tt},rt=()=>{let{headers:Dt,status:Xt,statusText:Pn,url:mt}=Mt(),Ke=null;204!==Xt&&(Ke=typeof me.response>"u"?me.responseText:me.response),0===Xt&&(Xt=Ke?200:0);let Me=Xt>=200&&Xt<300;if("json"===le.responseType&&"string"==typeof Ke){const dt=Ke;Ke=Ke.replace(Wt,"");try{Ke=""!==Ke?JSON.parse(Ke):null}catch(yt){Ke=dt,Me&&(Me=!1,Ke={error:yt,text:Ke})}}Me?(ye.next(new on({body:Ke,headers:Dt,status:Xt,statusText:Pn,url:mt||void 0})),ye.complete()):ye.error(new Gt({error:Ke,headers:Dt,status:Xt,statusText:Pn,url:mt||void 0}))},sn=Dt=>{const{url:Xt}=Mt(),Pn=new Gt({error:Dt,status:me.status||0,statusText:me.statusText||"Unknown Error",url:Xt||void 0});ye.error(Pn)};let pt=!1;const Ue=Dt=>{pt||(ye.next(Mt()),pt=!0);let Xt={type:wt.DownloadProgress,loaded:Dt.loaded};Dt.lengthComputable&&(Xt.total=Dt.total),"text"===le.responseType&&!!me.responseText&&(Xt.partialText=me.responseText),ye.next(Xt)},Oe=Dt=>{let Xt={type:wt.UploadProgress,loaded:Dt.loaded};Dt.lengthComputable&&(Xt.total=Dt.total),ye.next(Xt)};return me.addEventListener("load",rt),me.addEventListener("error",sn),me.addEventListener("timeout",sn),me.addEventListener("abort",sn),le.reportProgress&&(me.addEventListener("progress",Ue),null!==ae&&me.upload&&me.upload.addEventListener("progress",Oe)),me.send(ae),ye.next({type:wt.Sent}),()=>{me.removeEventListener("error",sn),me.removeEventListener("abort",sn),me.removeEventListener("load",rt),me.removeEventListener("timeout",sn),le.reportProgress&&(me.removeEventListener("progress",Ue),null!==ae&&me.upload&&me.upload.removeEventListener("progress",Oe)),me.readyState!==me.DONE&&me.abort()}})}}return Ne.\u0275fac=function(le){return new(le||Ne)(d.LFG(f.JF))},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})();const xn=new d.OlP("XSRF_COOKIE_NAME"),Tn=new d.OlP("XSRF_HEADER_NAME");class $n{}let Un=(()=>{class Ne{constructor(le,ye,me){this.doc=le,this.platform=ye,this.cookieName=me,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const le=this.doc.cookie||"";return le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(le,this.cookieName),this.lastCookieString=le),this.lastToken}}return Ne.\u0275fac=function(le){return new(le||Ne)(d.LFG(f.K0),d.LFG(d.Lbi),d.LFG(xn))},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),pi=(()=>{class Ne{constructor(le,ye){this.tokenService=le,this.headerName=ye}intercept(le,ye){const me=le.url.toLowerCase();if("GET"===le.method||"HEAD"===le.method||me.startsWith("http://")||me.startsWith("https://"))return ye.handle(le);const ae=this.tokenService.getToken();return null!==ae&&!le.headers.has(this.headerName)&&(le=le.clone({headers:le.headers.set(this.headerName,ae)})),ye.handle(le)}}return Ne.\u0275fac=function(le){return new(le||Ne)(d.LFG($n),d.LFG(Tn))},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),it=(()=>{class Ne{constructor(le,ye){this.backend=le,this.injector=ye,this.chain=null}handle(le){if(null===this.chain){const ye=this.injector.get(di,[]);this.chain=ye.reduceRight((me,ae)=>new yi(me,ae),this.backend)}return this.chain.handle(le)}}return Ne.\u0275fac=function(le){return new(le||Ne)(d.LFG(de),d.LFG(d.zs3))},Ne.\u0275prov=d.Yz7({token:Ne,factory:Ne.\u0275fac}),Ne})(),ve=(()=>{class Ne{static disable(){return{ngModule:Ne,providers:[{provide:pi,useClass:ht}]}}static withOptions(le={}){return{ngModule:Ne,providers:[le.cookieName?{provide:xn,useValue:le.cookieName}:[],le.headerName?{provide:Tn,useValue:le.headerName}:[]]}}}return Ne.\u0275fac=function(le){return new(le||Ne)},Ne.\u0275mod=d.oAB({type:Ne}),Ne.\u0275inj=d.cJS({providers:[pi,{provide:di,useExisting:pi,multi:!0},{provide:$n,useClass:Un},{provide:xn,useValue:"XSRF-TOKEN"},{provide:Tn,useValue:"X-XSRF-TOKEN"}]}),Ne})(),ne=(()=>{class Ne{}return Ne.\u0275fac=function(le){return new(le||Ne)},Ne.\u0275mod=d.oAB({type:Ne}),Ne.\u0275inj=d.cJS({providers:[Kn,{provide:he,useClass:it},pn,{provide:de,useExisting:pn}],imports:[ve.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),Ne})()},4650:(He,ge,D)=>{D.d(ge,{$8M:()=>xl,$Z:()=>uy,AFp:()=>Pw,AaK:()=>he,BQk:()=>Zu,CHM:()=>Za,CRH:()=>h_,CZH:()=>g_,CqO:()=>Ry,D6c:()=>xf,EJc:()=>Nw,EiD:()=>e0,EpF:()=>tb,F$t:()=>sb,F4k:()=>Tm,FYo:()=>es,FiY:()=>Fa,G48:()=>VA,Gf:()=>Qv,GfV:()=>Gn,Gpc:()=>ce,Hsn:()=>Py,Ikx:()=>Qy,JOm:()=>H,JVY:()=>VD,KtG:()=>_a,L6k:()=>Vg,LAX:()=>Ug,LFG:()=>Ri,LSH:()=>np,Lbi:()=>Fw,Lck:()=>Jb,MAs:()=>zl,MMx:()=>e_,NdJ:()=>Oy,O4$:()=>xc,OlP:()=>Pi,Oqu:()=>rd,PXZ:()=>ph,Q6J:()=>Lp,QGY:()=>Sm,QP$:()=>Lt,QbO:()=>fg,Qsj:()=>hl,R0b:()=>yl,RDi:()=>WE,Rgc:()=>lh,SBq:()=>Fd,Sil:()=>uE,Suo:()=>ch,TTD:()=>Xo,TgZ:()=>Bp,Udp:()=>Pm,WFA:()=>Mm,X6Q:()=>fx,XFs:()=>it,Xpm:()=>mt,Xts:()=>Vh,Y36:()=>Wr,YKP:()=>Xb,YNc:()=>My,Yjl:()=>ie,Yz7:()=>We,Z0I:()=>xt,ZZ4:()=>wu,_Bn:()=>Xm,_UZ:()=>Am,_Vd:()=>Jr,_c5:()=>zA,_uU:()=>hu,aQg:()=>A_,c2e:()=>OA,cJS:()=>ze,cg1:()=>Yp,d8E:()=>Vm,dDg:()=>Hw,dqk:()=>me,eBb:()=>Yf,eFA:()=>mE,ekj:()=>jy,eoX:()=>gE,f3M:()=>$r,g9A:()=>hd,h0i:()=>ud,hGG:()=>TE,iGM:()=>d_,ifc:()=>ye,ip1:()=>Ow,jDz:()=>tw,kL8:()=>Tb,lG2:()=>xe,lqb:()=>pc,lri:()=>fE,mCW:()=>Xf,n5z:()=>Al,n_E:()=>_f,oAB:()=>yt,oxw:()=>Zd,pB0:()=>W_,q3G:()=>Xr,q4F:()=>u0,qLn:()=>$h,qOj:()=>bm,qZA:()=>Vp,qzn:()=>Nh,rWj:()=>pE,sBO:()=>UA,sIi:()=>Op,s_b:()=>yf,soG:()=>dh,tb:()=>lE,tp0:()=>La,uIk:()=>kp,vHH:()=>Te,vpe:()=>_l,wAp:()=>Zn,xp6:()=>Yg,ynx:()=>Im,z2F:()=>b_,z3N:()=>Zc,zSh:()=>sp,zs3:()=>Gs});var f=D(7579),d=D(727),k=D(9751),re=D(6451),ee=D(3099);function W(r){for(let o in r)if(r[o]===W)return o;throw Error("Could not find renamed property on target object.")}function Ee(r,o){for(const a in o)o.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=o[a])}function he(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(he).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const o=r.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(r,o){return null==r||""===r?null===o?"":o:null==o||""===o?r:r+" "+o}const z=W({__forward_ref__:W});function ce(r){return r.__forward_ref__=ce,r.toString=function(){return he(this())},r}function U(r){return Re(r)?r():r}function Re(r){return"function"==typeof r&&r.hasOwnProperty(z)&&r.__forward_ref__===ce}class Te extends Error{constructor(o,a){super(function nt(r,o){return`NG0${Math.abs(r)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function Ze(r){return"string"==typeof r?r:null==r?"":String(r)}function fe(r,o){throw new Te(-201,!1)}function ht(r,o){null==r&&function ut(r,o,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,r,null,"!=")}function We(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function ze(r){return{providers:r.providers||[],imports:r.imports||[]}}function et(r){return Wt(r,Tn)||Wt(r,Un)}function xt(r){return null!==et(r)}function Wt(r,o){return r.hasOwnProperty(o)?r[o]:null}function xn(r){return r&&(r.hasOwnProperty($n)||r.hasOwnProperty(pi))?r[$n]:null}const Tn=W({\u0275prov:W}),$n=W({\u0275inj:W}),Un=W({ngInjectableDef:W}),pi=W({ngInjectorDef:W});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let J;function ve(r){const o=J;return J=r,o}function ne(r,o,a){const c=et(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&it.Optional?null:void 0!==o?o:void fe(he(r))}function ot(r){return{toString:r}.toString()}var Ne=(()=>((Ne=Ne||{})[Ne.OnPush=0]="OnPush",Ne[Ne.Default=1]="Default",Ne))(),ye=(()=>{return(r=ye||(ye={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",ye;var r})();const me=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mt={},rt=[],sn=W({\u0275cmp:W}),pt=W({\u0275dir:W}),Ue=W({\u0275pipe:W}),Oe=W({\u0275mod:W}),Dt=W({\u0275fac:W}),Xt=W({__NG_ELEMENT_ID__:W});let Pn=0;function mt(r){return ot(()=>{const a=!0===r.standalone,c={},h={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Ne.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&r.dependencies||null,getStandaloneInjector:null,selectors:r.selectors||rt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||ye.Emulated,id:"c"+Pn++,styles:r.styles||rt,_:null,setInput:null,schemas:r.schemas||null,tView:null},g=r.dependencies,y=r.features;return h.inputs=Ae(r.inputs,c),h.outputs=Ae(r.outputs),y&&y.forEach(x=>x(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Me).filter(dt):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(Je).filter(dt):null,h})}function Me(r){return q(r)||K(r)}function dt(r){return null!==r}function yt(r){return ot(()=>({type:r.type,bootstrap:r.bootstrap||rt,declarations:r.declarations||rt,imports:r.imports||rt,exports:r.exports||rt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Ae(r,o){if(null==r)return Mt;const a={};for(const c in r)if(r.hasOwnProperty(c)){let h=r[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),a[h]=c,o&&(o[h]=g)}return a}const xe=mt;function ie(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function q(r){return r[sn]||null}function K(r){return r[pt]||null}function Je(r){return r[Ue]||null}function Lt(r){const o=q(r)||K(r)||Je(r);return null!==o&&o.standalone}function un(r,o){const a=r[Oe]||null;if(!a&&!0===o)throw new Error(`Type ${he(r)} does not have '\u0275mod' property.`);return a}function Gi(r){return Array.isArray(r)&&"object"==typeof r[1]}function Dr(r){return Array.isArray(r)&&!0===r[1]}function is(r){return 0!=(8&r.flags)}function rs(r){return 2==(2&r.flags)}function fo(r){return 1==(1&r.flags)}function Rr(r){return null!==r.template}function ke(r){return 0!=(256&r[2])}function vs(r,o){return r.hasOwnProperty(Dt)?r[Dt]:null}class Br{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Xo(){return Ps}function Ps(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ks),Oo}function Oo(){const r=ko(this),o=r?.current;if(o){const a=r.previous;if(a===Mt)r.previous=o;else for(let c in o)a[c]=o[c];r.current=null,this.ngOnChanges(o)}}function Ks(r,o,a,c){const h=ko(r)||function Wa(r,o){return r[Po]=o}(r,{previous:Mt,current:null}),g=h.current||(h.current={}),y=h.previous,x=this.declaredInputs[a],M=y[x];g[x]=new Br(M&&M.currentValue,o,y===Mt),r[c]=o}Xo.ngInherit=!0;const Po="__ngSimpleChanges__";function ko(r){return r[Po]||null}function Si(r){for(;Array.isArray(r);)r=r[0];return r}function go(r,o){return Si(o[r])}function Ur(r,o){return Si(o[r.index])}function No(r,o){return r.data[o]}function dr(r,o){const a=o[r];return Gi(a)?a:a[0]}function Ys(r){return 64==(64&r[2])}function Zi(r,o){return null==o?null:r[o]}function Qi(r){r[18]=0}function Zs(r,o){r[5]+=o;let a=r,c=r[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const zn={lFrame:yo(null),bindingsEnabled:!0};function Or(){return zn.bindingsEnabled}function Kt(){return zn.lFrame.lView}function Qn(){return zn.lFrame.tView}function Za(r){return zn.lFrame.contextLView=r,r[8]}function _a(r){return zn.lFrame.contextLView=null,r}function sr(){let r=V();for(;null!==r&&64===r.type;)r=r.parent;return r}function V(){return zn.lFrame.currentTNode}function F(r,o){const a=zn.lFrame;a.currentTNode=r,a.isParent=o}function oe(){return zn.lFrame.isParent}function Vt(){zn.lFrame.isParent=!1}function Uo(){return zn.lFrame.bindingIndex++}function Qa(r,o){const a=zn.lFrame;a.bindingIndex=a.bindingRootIndex=r,ba(o)}function ba(r){zn.lFrame.currentDirectiveIndex=r}function wa(r){const o=zn.lFrame.currentDirectiveIndex;return-1===o?null:r[o]}function _o(){return zn.lFrame.currentQueryIndex}function Pr(r){zn.lFrame.currentQueryIndex=r}function jo(r){const o=r[1];return 2===o.type?o.declTNode:1===o.type?r[6]:null}function bl(r,o,a){if(a&it.SkipSelf){let h=o,g=r;for(;!(h=h.parent,null!==h||a&it.Host||(h=jo(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,r=g}const c=zn.lFrame=ar();return c.currentTNode=o,c.lView=r,!0}function Go(r){const o=ar(),a=r[1];zn.lFrame=o,o.currentTNode=a.firstChild,o.lView=r,o.tView=a,o.contextLView=r,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ar(){const r=zn.lFrame,o=null===r?null:r.child;return null===o?yo(r):o}function yo(r){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=o),o}function vo(){const r=zn.lFrame;return zn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Da=vo;function bs(){const r=vo();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function xi(){return zn.lFrame.selectedIndex}function Fs(r){zn.lFrame.selectedIndex=r}function Fi(){const r=zn.lFrame;return No(r.tView,r.selectedIndex)}function xc(){zn.lFrame.currentNamespace="svg"}function Sa(r,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const g=r.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:x,ngAfterViewInit:M,ngAfterViewChecked:j,ngOnDestroy:X}=g;y&&(r.contentHooks||(r.contentHooks=[])).push(-a,y),x&&((r.contentHooks||(r.contentHooks=[])).push(a,x),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(a,x)),M&&(r.viewHooks||(r.viewHooks=[])).push(-a,M),j&&((r.viewHooks||(r.viewHooks=[])).push(a,j),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(a,j)),null!=X&&(r.destroyHooks||(r.destroyHooks=[])).push(a,X)}}function Ho(r,o,a){tl(r,o,3,a)}function Ja(r,o,a,c){(3&r[2])===a&&tl(r,o,a,c)}function el(r,o){let a=r[2];(3&a)===o&&(a&=2047,a+=1,r[2]=a)}function tl(r,o,a,c){const g=c??-1,y=o.length-1;let x=0;for(let M=void 0!==c?65535&r[18]:0;M<y;M++)if("number"==typeof o[M+1]){if(x=o[M],null!=c&&x>=c)break}else o[M]<0&&(r[18]+=65536),(x<g||-1==g)&&(wl(r,a,o,M),r[18]=(4294901760&r[18])+M+2),M++}function wl(r,o,a,c){const h=a[c]<0,g=a[c+1],x=r[h?-a[c]:a[c]];if(h){if(r[2]>>11<r[18]>>16&&(3&r[2])===o){r[2]+=2048;try{g.call(x)}finally{}}}else try{g.call(x)}finally{}}class so{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Y(r,o,a){let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const g=a[c++],y=a[c++],x=a[c++];r.setAttribute(o,y,x,g)}else{const g=h,y=a[++c];Ot(g)?r.setProperty(o,g,y):r.setAttribute(o,g,y),c++}}return c}function je(r){return 3===r||4===r||6===r}function Ot(r){return 64===r.charCodeAt(0)}function $t(r,o){if(null!==o&&0!==o.length)if(null===r||0===r.length)r=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Rn(r,a,h,null,-1===a||2===a?o[++c]:null)}}return r}function Rn(r,o,a,c,h){let g=0,y=r.length;if(-1===o)y=-1;else for(;g<r.length;){const x=r[g++];if("number"==typeof x){if(x===o){y=-1;break}if(x>o){y=g-1;break}}}for(;g<r.length;){const x=r[g];if("number"==typeof x)break;if(x===a){if(null===c)return void(null!==h&&(r[g+1]=h));if(c===r[g+1])return void(r[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==y&&(r.splice(y,0,o),g=y+1),r.splice(g++,0,a),null!==c&&r.splice(g++,0,c),null!==h&&r.splice(g++,0,h)}function vi(r){return-1!==r}function Ei(r){return 32767&r}function li(r,o){let a=function Ti(r){return r>>16}(r),c=o;for(;a>0;)c=c[15],a--;return c}let zi=!0;function gi(r){const o=zi;return zi=r,o}let Hr=0;const pr={};function $o(r,o){const a=Do(r,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(r.injectorIndex=o.length,ta(c.data,r),ta(o,null),ta(c.blueprint,null));const h=Cl(r,o),g=r.injectorIndex;if(vi(h)){const y=Ei(h),x=li(h,o),M=x[1].data;for(let j=0;j<8;j++)o[g+j]=x[y+j]|M[y+j]}return o[g+8]=h,g}function ta(r,o){r.push(0,0,0,0,0,0,0,0,o)}function Do(r,o){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===o[r.injectorIndex+8]?-1:r.injectorIndex}function Cl(r,o){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){if(c=Il(h),null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function na(r,o,a){!function wo(r,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Xt)&&(c=a[Xt]),null==c&&(c=a[Xt]=Hr++);const h=255&c;o.data[r+(h>>5)]|=1<<h}(r,o,a)}function Iu(r,o,a){if(a&it.Optional||void 0!==r)return r;fe()}function xu(r,o,a,c){if(a&it.Optional&&void 0===c&&(c=null),0==(a&(it.Self|it.Host))){const h=r[9],g=ve(void 0);try{return h?h.get(o,c,a&it.Optional):ne(o,c,a&it.Optional)}finally{ve(g)}}return Iu(c,0,a)}function Ra(r,o,a,c=it.Default,h){if(null!==r){if(1024&o[2]){const y=function Tu(r,o,a,c,h){let g=r,y=o;for(;null!==g&&null!==y&&1024&y[2]&&!(256&y[2]);){const x=gr(g,y,a,c|it.Self,pr);if(x!==pr)return x;let M=g.parent;if(!M){const j=y[21];if(j){const X=j.get(a,pr,c);if(X!==pr)return X}M=Il(y),y=y[15]}g=M}return h}(r,o,a,c,pr);if(y!==pr)return y}const g=gr(r,o,a,c,pr);if(g!==pr)return g}return xu(o,a,c,h)}function gr(r,o,a,c,h){const g=function Su(r){if("string"==typeof r)return r.charCodeAt(0)||0;const o=r.hasOwnProperty(Xt)?r[Xt]:void 0;return"number"==typeof o?o>=0?255&o:Ar:o}(a);if("function"==typeof g){if(!bl(o,r,c))return c&it.Host?Iu(h,0,c):xu(o,a,c,h);try{const y=g(c);if(null!=y||c&it.Optional)return y;fe()}finally{Da()}}else if("number"==typeof g){let y=null,x=Do(r,o),M=-1,j=c&it.Host?o[16][6]:null;for((-1===x||c&it.SkipSelf)&&(M=-1===x?Cl(r,o):o[x+8],-1!==M&&Wo(c,!1)?(y=o[1],x=Ei(M),o=li(M,o)):x=-1);-1!==x;){const X=o[1];if(yd(g,x,X.data)){const be=Sc(x,o,a,y,c,j);if(be!==pr)return be}M=o[x+8],-1!==M&&Wo(c,o[1].data[x+8]===j)&&yd(g,x,o)?(y=X,x=Ei(M),o=li(M,o)):x=-1}}return h}function Sc(r,o,a,c,h,g){const y=o[1],x=y.data[r+8],X=ia(x,y,a,null==c?rs(x)&&zi:c!=y&&0!=(3&x.type),h&it.Host&&g===x);return null!==X?zo(o,y,X,x):pr}function ia(r,o,a,c,h){const g=r.providerIndexes,y=o.data,x=1048575&g,M=r.directiveStart,X=g>>20,Xe=h?x+X:r.directiveEnd;for(let Ct=c?x:x+X;Ct<Xe;Ct++){const qt=y[Ct];if(Ct<M&&a===qt||Ct>=M&&qt.type===a)return Ct}if(h){const Ct=y[M];if(Ct&&Rr(Ct)&&Ct.type===a)return M}return null}function zo(r,o,a,c){let h=r[a];const g=o.data;if(function Dl(r){return r instanceof so}(h)){const y=h;y.resolving&&function It(r,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${r}`:"";throw new Te(-200,`Circular dependency in DI detected for ${r}${a}`)}(function Fe(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():Ze(r)}(g[a]));const x=gi(y.canSeeViewProviders);y.resolving=!0;const M=y.injectImpl?ve(y.injectImpl):null;bl(r,c,it.Default);try{h=r[a]=y.factory(void 0,g,r,c),o.firstCreatePass&&a>=c.directiveStart&&function ro(r,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const y=Ps(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(r,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,y)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-r,h),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(r,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(r,g))}(a,g[a],o)}finally{null!==M&&ve(M),gi(x),y.resolving=!1,Da()}}return h}function yd(r,o,a){return!!(a[o+(r>>5)]&1<<r)}function Wo(r,o){return!(r&it.Self||r&it.Host&&o)}class Oa{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return Ra(this._tNode,this._lView,o,c,a)}}function Ar(){return new Oa(sr(),Kt())}function Al(r){return ot(()=>{const o=r.prototype.constructor,a=o[Dt]||nl(o),c=Object.prototype;let h=Object.getPrototypeOf(r.prototype).constructor;for(;h&&h!==c;){const g=h[Dt]||nl(h);if(g&&g!==a)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function nl(r){return Re(r)?()=>{const o=nl(U(r));return o&&o()}:vs(r)}function Il(r){const o=r[1],a=o.type;return 2===a?o.declTNode:1===a?r[6]:null}function xl(r){return function Au(r,o){if("class"===o)return r.classes;if("style"===o)return r.styles;const a=r.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const g=a[h];if(je(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(g===o)return a[h+1];h+=2}}}return null}(sr(),r)}const Wi="__parameters__";function Bs(r,o,a){return ot(()=>{const c=function Tc(r){return function(...a){if(r){const c=r(...a);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const y=new h(...g);return x.annotation=y,x;function x(M,j,X){const be=M.hasOwnProperty(Wi)?M[Wi]:Object.defineProperty(M,Wi,{value:[]})[Wi];for(;be.length<=X;)be.push(null);return(be[X]=be[X]||[]).push(y),M}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=r,h.annotationCls=h,h})}class Pi{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=We({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ws(r,o){void 0===o&&(o=r);for(let a=0;a<r.length;a++){let c=r[a];Array.isArray(c)?(o===r&&(o=r.slice(0,a)),ws(c,o)):o!==r&&o.push(c)}return o}function Vs(r,o){r.forEach(a=>Array.isArray(a)?Vs(a,o):o(a))}function nc(r,o,a){o>=r.length?r.push(a):r.splice(o,0,a)}function rl(r,o){return o>=r.length-1?r.pop():r.splice(o,1)[0]}function w(r,o){const a=[];for(let c=0;c<r;c++)a.push(o);return a}function Le(r,o,a){let c=hn(r,o);return c>=0?r[1|c]=a:(c=~c,function R(r,o,a,c){let h=r.length;if(h==o)r.push(a,c);else if(1===h)r.push(c,r[0]),r[0]=a;else{for(h--,r.push(r[h-1],r[h]);h>o;)r[h]=r[h-2],h--;r[o]=a,r[o+1]=c}}(r,c,o,a)),c}function Nt(r,o){const a=hn(r,o);if(a>=0)return r[1|a]}function hn(r,o){return function In(r,o,a){let c=0,h=r.length>>a;for(;h!==c;){const g=c+(h-c>>1),y=r[g<<a];if(o===y)return g<<a;y>o?h=g:c=g+1}return~(h<<a)}(r,o,1)}const gn={},Tl="__NG_DI_FLAG__",jn="ngTempTokenPath",ic=/\n/gm,sc="__source";let oc;function js(r){const o=oc;return oc=r,o}function Fc(r,o=it.Default){if(void 0===oc)throw new Te(-203,!1);return null===oc?ne(r,void 0,o):oc.get(r,o&it.Optional?null:void 0,o)}function Ri(r,o=it.Default){return(function te(){return J}()||Fc)(U(r),o)}function $r(r,o=it.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Ri(r,o)}function Ko(r){const o=[];for(let a=0;a<r.length;a++){const c=U(r[a]);if(Array.isArray(c)){if(0===c.length)throw new Te(900,!1);let h,g=it.Default;for(let y=0;y<c.length;y++){const x=c[y],M=Ch(x);"number"==typeof M?-1===M?h=x.token:g|=M:h=x}o.push(Ri(h,g))}else o.push(Ri(c))}return o}function Rl(r,o){return r[Tl]=o,r.prototype[Tl]=o,r}function Ch(r){return r[Tl]}const Fa=Rl(Bs("Optional"),8),La=Rl(Bs("SkipSelf"),4);var H=(()=>((H=H||{})[H.Important=1]="Important",H[H.DashCase=2]="DashCase",H))();const _n=new Map;let mn=0;const zr="__ngContext__";function lr(r,o){Gi(o)?(r[zr]=o[20],function ni(r){_n.set(r[20],r)}(o)):r[zr]=o}function jf(r,o){return undefined(r,o)}function Id(r){const o=r[3];return Dr(o)?o[3]:o}function Bu(r){return p(r[13])}function b(r){return p(r[4])}function p(r){for(;null!==r&&!Dr(r);)r=r[4];return r}function A(r,o,a,c,h){if(null!=c){let g,y=!1;Dr(c)?g=c:Gi(c)&&(y=!0,c=c[0]);const x=Si(c);0===r&&null!==a?null==h?Oh(o,a,x):cl(o,a,x,h||null,!0):1===r&&null!==a?cl(o,a,x,h||null,!0):2===r?function Nl(r,o,a){const c=$f(r,o);c&&function Hf(r,o,a,c){r.removeChild(o,a,c)}(r,c,o,a)}(o,x,y):3===r&&o.destroyNode(x),null!=g&&function Lg(r,o,a,c,h){const g=a[7];g!==Si(a)&&A(o,r,c,g,h);for(let x=10;x<a.length;x++){const M=a[x];ju(M[1],M,r,o,c,g)}}(o,r,g,a,h)}}function Pt(r,o,a){return r.createElement(o,a)}function Wc(r,o){const a=r[9],c=a.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,Zs(h,-1)),a.splice(c,1)}function Kc(r,o){if(r.length<=10)return;const a=10+o,c=r[a];if(c){const h=c[17];null!==h&&h!==r&&Wc(h,c),o>0&&(r[a-1][4]=c[4]);const g=rl(r,10+o);!function fn(r,o){ju(r,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=g[19];null!==y&&y.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function fc(r,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&ju(r,o,a,3,null,null),function wi(r){let o=r[13];if(!o)return xd(r[1],r);for(;o;){let a=null;if(Gi(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==r;)Gi(o)&&xd(o[1],o),o=o[3];null===o&&(o=r),Gi(o)&&xd(o[1],o),a=o&&o[4]}o=a}}(o)}}function xd(r,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Sd(r,o){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof so)){const g=a[c+1];if(Array.isArray(g))for(let y=0;y<g.length;y+=2){const x=h[g[y]],M=g[y+1];try{M.call(x)}finally{}}else try{g.call(h)}finally{}}}}(r,o),function Pg(r,o){const a=r.cleanup,c=o[7];let h=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const y=a[g+1],x="function"==typeof y?y(o):Si(o[y]),M=c[h=a[g+2]],j=a[g+3];"boolean"==typeof j?x.removeEventListener(a[g],M,j):j>=0?c[h=j]():c[h=-j].unsubscribe(),g+=2}else{const y=c[h=a[g+1]];a[g].call(y)}if(null!==c){for(let g=h+1;g<c.length;g++)(0,c[g])();o[7]=null}}(r,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Dr(o[3])){a!==o[3]&&Wc(a,o);const c=o[19];null!==c&&c.detachView(r)}!function oo(r){_n.delete(r[20])}(o)}}function Vu(r,o,a){return function Td(r,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=r.data[c.directiveStart].encapsulation;if(h===ye.None||h===ye.Emulated)return null}return Ur(c,a)}(r,o.parent,a)}function cl(r,o,a,c,h){r.insertBefore(o,a,c,h)}function Oh(r,o,a){r.appendChild(o,a)}function Gf(r,o,a,c,h){null!==c?cl(r,o,a,c,h):Oh(r,o,a)}function $f(r,o){return r.parentNode(o)}function kh(r,o,a){return Fg(r,o,a)}let qf,Bg,Fg=function Uu(r,o,a){return 40&r.type?Ur(r,a):null};function zf(r,o,a,c){const h=Vu(r,c,o),g=o[11],x=kh(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let M=0;M<a.length;M++)Gf(g,h,a[M],x,!1);else Gf(g,h,a,x,!1)}function Wf(r,o){if(null!==o){const a=o.type;if(3&a)return Ur(o,r);if(4&a)return qc(-1,r[o.index]);if(8&a){const c=o.child;if(null!==c)return Wf(r,c);{const h=r[o.index];return Dr(h)?qc(-1,h):Si(h)}}if(32&a)return jf(o,r)()||Si(r[o.index]);{const c=$E(r,o);return null!==c?Array.isArray(c)?c[0]:Wf(Id(r[16]),c):Wf(r,o.next)}}return null}function $E(r,o){return null!==o?r[16][6].projection[o.projection]:null}function qc(r,o){const a=10+r+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return Wf(c,h)}return o[7]}function Fh(r,o,a,c,h,g,y){for(;null!=a;){const x=c[a.index],M=a.type;if(y&&0===o&&(x&&lr(Si(x),c),a.flags|=4),64!=(64&a.flags))if(8&M)Fh(r,o,a.child,c,h,g,!1),A(o,r,h,x,g);else if(32&M){const j=jf(a,c);let X;for(;X=j();)A(o,r,h,X,g);A(o,r,h,x,g)}else 16&M?wr(r,o,c,a,h,g):A(o,r,h,x,g);a=y?a.projectionNext:a.next}}function ju(r,o,a,c,h,g){Fh(a,c,r.firstChild,o,h,g,!1)}function wr(r,o,a,c,h,g){const y=a[16],M=y[6].projection[c.projection];if(Array.isArray(M))for(let j=0;j<M.length;j++)A(o,r,h,M[j],g);else Fh(r,o,M,y[3],h,g,!0)}function Lh(r,o,a){r.setAttribute(o,"style",a)}function V_(r,o,a){""===a?r.removeAttribute(o,"class"):r.setAttribute(o,"class",a)}function Md(r){return function U_(){if(void 0===qf&&(qf=null,me.trustedTypes))try{qf=me.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return qf}()?.createHTML(r)||r}function WE(r){Bg=r}class Hu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class YE extends Hu{getTypeName(){return"HTML"}}class $_ extends Hu{getTypeName(){return"Style"}}class z_ extends Hu{getTypeName(){return"Script"}}class ZE extends Hu{getTypeName(){return"URL"}}class QE extends Hu{getTypeName(){return"ResourceURL"}}function Zc(r){return r instanceof Hu?r.changingThisBreaksApplicationSecurity:r}function Nh(r,o){const a=function BD(r){return r instanceof Hu&&r.getTypeName()||null}(r);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function VD(r){return new YE(r)}function Vg(r){return new $_(r)}function Yf(r){return new z_(r)}function Ug(r){return new ZE(r)}function W_(r){return new QE(r)}class Zf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Md(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch{return null}}}class Qf{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Md(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Md(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const y=a.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Qr=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Xf(r){return(r=String(r)).match(Qr)?r:"unsafe:"+r}function Qc(r){const o={};for(const a of r.split(","))o[a]=!0;return o}function Jf(...r){const o={};for(const a of r)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const XE=Qc("area,br,col,hr,img,wbr"),q_=Qc("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Y_=Qc("rp,rt"),ul=Jf(XE,Jf(q_,Qc("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jf(Y_,Qc("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jf(Y_,q_)),jg=Qc("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gg=Jf(jg,Qc("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qc("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ep=Qc("script,style,template");class JE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!ul.hasOwnProperty(a))return this.sanitizedSomething=!0,!ep.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),y=g.name,x=y.toLowerCase();if(!Gg.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let M=g.value;jg[x]&&(M=Xf(M)),this.buf.push(" ",y,'="',X_(M),'"')}return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();ul.hasOwnProperty(a)&&!XE.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(X_(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Q_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hg=/([^\#-~ |!])/g;function X_(r){return r.replace(/&/g,"&amp;").replace(Q_,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Hg,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rd;function e0(r,o){let a=null;try{Rd=Rd||function K_(r){const o=new Qf(r);return function UD(){try{return!!(new window.DOMParser).parseFromString(Md(""),"text/html")}catch{return!1}}()?new Zf(o):o}(r);let c=o?String(o):"";a=Rd.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=a.innerHTML,a=Rd.getInertBodyElement(c)}while(c!==g);return Md((new JE).sanitizeChildren($g(a)||a))}finally{if(a){const c=$g(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function $g(r){return"content"in r&&function tp(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Xr=(()=>((Xr=Xr||{})[Xr.NONE=0]="NONE",Xr[Xr.HTML=1]="HTML",Xr[Xr.STYLE=2]="STYLE",Xr[Xr.SCRIPT=3]="SCRIPT",Xr[Xr.URL=4]="URL",Xr[Xr.RESOURCE_URL=5]="RESOURCE_URL",Xr))();function np(r){const o=function Bh(){const r=Kt();return r&&r[12]}();return o?o.sanitize(Xr.URL,r)||"":Nh(r,"URL")?Zc(r):Xf(Ze(r))}const Vh=new Pi("ENVIRONMENT_INITIALIZER"),oa=new Pi("INJECTOR",-1),ty=new Pi("INJECTOR_DEF_TYPES");class ny{get(o,a=gn){if(a===gn){const c=new Error(`NullInjectorError: No provider for ${he(o)}!`);throw c.name="NullInjectorError",c}return a}}function Uh(...r){return{\u0275providers:o0(0,r)}}function o0(r,...o){const a=[],c=new Set;let h;return Vs(o,g=>{const y=g;ip(y,a,[],c)&&(h||(h=[]),h.push(y))}),void 0!==h&&dl(h,a),a}function dl(r,o){for(let a=0;a<r.length;a++){const{providers:h}=r[a];Vs(h,g=>{o.push(g)})}}function ip(r,o,a,c){if(!(r=U(r)))return!1;let h=null,g=xn(r);const y=!g&&q(r);if(g||y){if(y&&!y.standalone)return!1;h=r}else{const M=r.ngModule;if(g=xn(M),!g)return!1;h=M}const x=c.has(h);if(y){if(x)return!1;if(c.add(h),y.dependencies){const M="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const j of M)ip(j,o,a,c)}}else{if(!g)return!1;{if(null!=g.imports&&!x){let j;c.add(h);try{Vs(g.imports,X=>{ip(X,o,a,c)&&(j||(j=[]),j.push(X))})}finally{}void 0!==j&&dl(j,o)}if(!x){const j=vs(h)||(()=>new h);o.push({provide:h,useFactory:j,deps:rt},{provide:ty,useValue:h,multi:!0},{provide:Vh,useValue:()=>Ri(h),multi:!0})}const M=g.providers;null==M||x||Vs(M,X=>{o.push(X)})}}return h!==r&&void 0!==r.providers}const WD=W({provide:String,useValue:W});function rp(r){return null!==r&&"object"==typeof r&&WD in r}function Xc(r){return"function"==typeof r}const sp=new Pi("Set Injector scope."),op={},Jc={};let aa;function Ds(){return void 0===aa&&(aa=new ny),aa}class pc{}class ap extends pc{constructor(o,a,c,h){super(),this.parent=a,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kg(o,y=>this.processProvider(y)),this.records.set(oa,Gh(void 0,this)),h.has("environment")&&this.records.set(pc,Gh(void 0,this));const g=this.records.get(sp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(ty.multi,rt,it.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=js(this),c=ve(void 0);try{return o()}finally{js(a),ve(c)}}get(o,a=gn,c=it.Default){this.assertNotDestroyed();const h=js(this),g=ve(void 0);try{if(!(c&it.SkipSelf)){let x=this.records.get(o);if(void 0===x){const M=function qD(r){return"function"==typeof r||"object"==typeof r&&r instanceof Pi}(o)&&et(o);x=M&&this.injectableDefInScope(M)?Gh(Pd(o),op):null,this.records.set(o,x)}if(null!=x)return this.hydrate(o,x)}return(c&it.Self?Ds():this.parent).get(o,a=c&it.Optional&&a===gn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[jn]=y[jn]||[]).unshift(he(o)),h)throw y;return function ka(r,o,a,c){const h=r[jn];throw o[sc]&&h.unshift(o[sc]),r.message=function Lf(r,o,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let h=he(o);if(Array.isArray(o))h=o.map(he).join(" -> ");else if("object"==typeof o){let g=[];for(let y in o)if(o.hasOwnProperty(y)){let x=o[y];g.push(y+":"+("string"==typeof x?JSON.stringify(x):he(x)))}h=`{${g.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${r.replace(ic,"\n  ")}`}("\n"+r.message,h,a,c),r.ngTokenPath=h,r[jn]=null,r}(y,o,"R3InjectorError",this.source)}throw y}finally{ve(g),js(h)}}resolveInjectorInitializers(){const o=js(this),a=ve(void 0);try{const c=this.get(Vh.multi,rt,it.Self);for(const h of c)h()}finally{js(o),ve(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(he(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(o){let a=Xc(o=U(o))?o:U(o&&o.provide);const c=function a0(r){return rp(r)?Gh(void 0,r.useValue):Gh(kd(r),op)}(o);if(Xc(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=Gh(void 0,op,!0),h.factory=()=>Ko(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===op&&(a.value=Jc,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ry(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=U(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Pd(r){const o=et(r),a=null!==o?o.factory:vs(r);if(null!==a)return a;if(r instanceof Pi)throw new Te(204,!1);if(r instanceof Function)return function Wg(r){const o=r.length;if(o>0)throw w(o,"?"),new Te(204,!1);const a=function nn(r){const o=r&&(r[Tn]||r[Un]);if(o){const a=function pn(r){if(r.hasOwnProperty("name"))return r.name;const o=(""+r).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new Te(204,!1)}function kd(r,o,a){let c;if(Xc(r)){const h=U(r);return vs(h)||Pd(h)}if(rp(r))c=()=>U(r.useValue);else if(function iy(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Ko(r.deps||[]));else if(function Bl(r){return!(!r||!r.useExisting)}(r))c=()=>Ri(U(r.useExisting));else{const h=U(r&&(r.useClass||r.provide));if(!function KD(r){return!!r.deps}(r))return vs(h)||Pd(h);c=()=>new h(...Ko(r.deps))}return c}function Gh(r,o,a=!1){return{factory:r,value:o,multi:a?[]:void 0}}function YD(r){return!!r.\u0275providers}function Kg(r,o){for(const a of r)Array.isArray(a)?Kg(a,o):YD(a)?Kg(a.\u0275providers,o):o(a)}class lp{}class c0{resolveComponentFactory(o){throw function QD(r){const o=Error(`No component factory found for ${he(r)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=r,o}(o)}}let Jr=(()=>{class r{}return r.NULL=new c0,r})();function Hh(){return ja(sr(),Kt())}function ja(r,o){return new Fd(Ur(r,o))}let Fd=(()=>{class r{constructor(a){this.nativeElement=a}}return r.__NG_ELEMENT_ID__=Hh,r})();function XD(r){return r instanceof Fd?r.nativeElement:r}class es{}let hl=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function sy(){const r=Kt(),a=dr(sr().index,r);return(Gi(a)?a:r)[11]}(),r})(),On=(()=>{class r{}return r.\u0275prov=We({token:r,providedIn:"root",factory:()=>null}),r})();class Gn{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const u0=new Gn("14.3.0"),wn={};function cs(r){return r.ngOriginalError}class $h{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&cs(o);for(;a&&cs(a);)a=cs(a);return a||null}}function eu(r){return r instanceof Function?r():r}function zh(r,o,a){let c=r.length;for(;;){const h=r.indexOf(o,a);if(-1===h)return h;if(0===h||r.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||r.charCodeAt(h+g)<=32)return h}a=h+1}}const f0="ng-template";function ts(r,o,a){let c=0;for(;c<r.length;){let h=r[c++];if(a&&"class"===h){if(h=r[c],-1!==zh(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<r.length&&"string"==typeof(h=r[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function En(r){return 4===r.type&&r.value!==f0}function qg(r,o,a){return o===(4!==r.type||a?r.value:f0)}function oy(r,o,a){let c=4;const h=r.attrs||[],g=function fp(r){for(let o=0;o<r.length;o++)if(je(r[o]))return o;return r.length}(h);let y=!1;for(let x=0;x<o.length;x++){const M=o[x];if("number"!=typeof M){if(!y)if(4&c){if(c=2|1&c,""!==M&&!qg(r,M,a)||""===M&&1===o.length){if(ao(c))return!1;y=!0}}else{const j=8&c?M:o[++x];if(8&c&&null!==r.attrs){if(!ts(r.attrs,j,a)){if(ao(c))return!1;y=!0}continue}const be=oC(8&c?"class":M,h,En(r),a);if(-1===be){if(ao(c))return!1;y=!0;continue}if(""!==j){let Xe;Xe=be>g?"":h[be+1].toLowerCase();const Ct=8&c?Xe:null;if(Ct&&-1!==zh(Ct,j,0)||2&c&&j!==Xe){if(ao(c))return!1;y=!0}}}}else{if(!y&&!ao(c)&&!ao(M))return!1;if(y&&ao(M))continue;y=!1,c=M|1&c}}return ao(c)||y}function ao(r){return 0==(1&r)}function oC(r,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let g=!1;for(;h<o.length;){const y=o[h];if(y===r)return h;if(3===y||6===y)g=!0;else{if(1===y||2===y){let x=o[++h];for(;"string"==typeof x;)x=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=g?1:2}return-1}return function p0(r,o){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,r)}function hp(r,o,a=!1){for(let c=0;c<o.length;c++)if(oy(r,o[c],a))return!0;return!1}function g0(r,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(r.length===c.length){for(let h=0;h<r.length;h++)if(r[h]!==c[h])continue e;return!0}}return!1}function la(r,o){return r?":not("+o.trim()+")":o}function ay(r){let o=r[0],a=1,c=2,h="",g=!1;for(;a<r.length;){let y=r[a];if("string"==typeof y)if(2&c){const x=r[++a];h+="["+y+(x.length>0?'="'+x+'"':"")+"]"}else 8&c?h+="."+y:4&c&&(h+=" "+y);else""!==h&&!ao(y)&&(o+=la(g,h),h=""),c=y,g=g||!ao(c);a++}return""!==h&&(o+=la(g,h)),o}const ii={};function Yg(r){At(Qn(),Kt(),xi()+r,!1)}function At(r,o,a,c){if(!c)if(3==(3&o[2])){const g=r.preOrderCheckHooks;null!==g&&Ho(o,g,a)}else{const g=r.preOrderHooks;null!==g&&Ja(o,g,0,a)}Fs(a)}function b0(r,o=null,a=null,c){const h=w0(r,o,a,c);return h.resolveInjectorInitializers(),h}function w0(r,o=null,a=null,c,h=new Set){const g=[a||rt,Uh(r)];return c=c||("object"==typeof r?void 0:he(r)),new ap(g,o||Ds(),c||null,h)}let Gs=(()=>{class r{static create(a,c){if(Array.isArray(a))return b0({name:""},c,a,"");{const h=a.name??"";return b0({name:h},a.parent,a.providers,h)}}}return r.THROW_IF_NOT_FOUND=gn,r.NULL=new ny,r.\u0275prov=We({token:r,providedIn:"any",factory:()=>Ri(oa)}),r.__NG_ELEMENT_ID__=-1,r})();function Wr(r,o=it.Default){const a=Kt();return null===a?Ri(r,o):Ra(sr(),a,U(r),o)}function uy(){throw new Error("invalid")}function _p(r,o){return r<<17|o<<2}function Li(r){return r>>17&32767}function mr(r){return 2|r}function gc(r){return(131068&r)>>2}function zu(r,o){return-131069&r|o<<2}function Jg(r){return 1|r}function or(r,o){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],g=a[c+1];if(-1!==g){const y=r.data[g];Pr(h),y.contentQueries(2,o[g],g)}}}function Jh(r,o,a,c,h,g,y,x,M,j,X){const be=o.blueprint.slice();return be[0]=h,be[2]=76|c,(null!==X||r&&1024&r[2])&&(be[2]|=1024),Qi(be),be[3]=be[15]=r,be[8]=a,be[10]=y||r&&r[10],be[11]=x||r&&r[11],be[12]=M||r&&r[12]||null,be[9]=j||r&&r[9]||null,be[6]=g,be[20]=function Fn(){return mn++}(),be[21]=X,be[16]=2==o.type?r[16]:be,be}function Ud(r,o,a,c,h){let g=r.data[o];if(null===g)g=function Ep(r,o,a,c,h){const g=V(),y=oe(),M=r.data[o]=function Gd(r,o,a,c,h,g){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?g:g&&g.parent,a,o,c,h);return null===r.firstChild&&(r.firstChild=M),null!==g&&(y?null==g.child&&null!==M.parent&&(g.child=M):null===g.next&&(g.next=M)),M}(r,o,a,c,h),function ya(){return zn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=c,g.attrs=h;const y=function L(){const r=zn.lFrame,o=r.currentTNode;return r.isParent?o:o.parent}();g.injectorIndex=null===y?-1:y.injectorIndex}return F(g,!0),g}function jd(r,o,a,c){if(0===a)return-1;const h=o.length;for(let g=0;g<a;g++)o.push(c),r.blueprint.push(c),r.data.push(null);return h}function om(r,o,a){Go(o);try{const c=r.viewQuery;null!==c&&ym(1,c,a);const h=r.template;null!==h&&P0(r,o,h,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&or(r,o),r.staticViewQueries&&ym(2,r.viewQuery,a);const g=r.components;null!==g&&function gy(r,o){for(let a=0;a<o.length;a++)Ip(r,o[a])}(o,g)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{o[2]&=-5,bs()}}function bp(r,o,a,c){const h=o[2];if(128!=(128&h)){Go(o);try{Qi(o),function Yr(r){return zn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&P0(r,o,a,2,c);const y=3==(3&h);if(y){const j=r.preOrderCheckHooks;null!==j&&Ho(o,j,null)}else{const j=r.preOrderHooks;null!==j&&Ja(o,j,0,null),el(o,0)}if(function B0(r){for(let o=Bu(r);null!==o;o=b(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],g=h[3];0==(512&h[2])&&Zs(g,1),h[2]|=512}}}(o),function Ap(r){for(let o=Bu(r);null!==o;o=b(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];Ys(c)&&bp(h,c,h.template,c[8])}}(o),null!==r.contentQueries&&or(r,o),y){const j=r.contentCheckHooks;null!==j&&Ho(o,j)}else{const j=r.contentHooks;null!==j&&Ja(o,j,1),el(o,1)}!function Ni(r,o){const a=r.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Fs(~h);else{const g=h,y=a[++c],x=a[++c];Qa(y,g),x(2,o[g])}}}finally{Fs(-1)}}(r,o);const x=r.components;null!==x&&function Xh(r,o){for(let a=0;a<o.length;a++)mc(r,o[a])}(o,x);const M=r.viewQuery;if(null!==M&&ym(2,M,c),y){const j=r.viewCheckHooks;null!==j&&Ho(o,j)}else{const j=r.viewHooks;null!==j&&Ja(o,j,2),el(o,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Zs(o[3],-1))}finally{bs()}}}function P0(r,o,a,c,h){const g=xi(),y=2&c;try{Fs(-1),y&&o.length>22&&At(r,o,22,!1),a(c,h)}finally{Fs(g)}}function k0(r,o,a){if(is(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const y=r.data[g];y.contentQueries&&y.contentQueries(1,a[g],g)}}}function my(r,o,a){!Or()||(function yy(r,o,a,c){const h=a.directiveStart,g=a.directiveEnd;r.firstCreatePass||$o(a,o),lr(c,o);const y=a.initialInputs;for(let x=h;x<g;x++){const M=r.data[x],j=Rr(M);j&&N0(o,a,M);const X=zo(o,r,x,a);lr(X,o),null!==y&&lu(0,x-h,X,M,0,y),j&&(dr(a.index,o)[8]=X)}}(r,o,a,Ur(a,o)),128==(128&a.flags)&&function Hd(r,o,a){const c=a.directiveStart,h=a.directiveEnd,g=a.index,y=function Ea(){return zn.lFrame.currentDirectiveIndex}();try{Fs(g);for(let x=c;x<h;x++){const M=r.data[x],j=o[x];ba(x),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&xo(M,j)}}finally{Fs(-1),ba(y)}}(r,o,a))}function am(r,o,a=Ur){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const y=c[g+1],x=-1===y?a(o,r):r[y];r[h++]=x}}}function F0(r){const o=r.tView;return null===o||o.incompleteFirstPass?r.tView=lm(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):o}function lm(r,o,a,c,h,g,y,x,M,j){const X=22+c,be=X+h,Xe=function IC(r,o){const a=[];for(let c=0;c<o;c++)a.push(c<r?null:ii);return a}(X,be),Ct="function"==typeof j?j():j;return Xe[1]={type:r,blueprint:Xe,template:a,queries:null,viewQuery:x,declTNode:o,data:Xe.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:be,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:M,consts:Ct,incompleteFirstPass:!1}}function cm(r,o,a,c){const h=wy(o);null===a?h.push(c):(h.push(a),r.firstCreatePass&&xp(r).push(c,h.length-1))}function ef(r,o,a){for(let c in r)if(r.hasOwnProperty(c)){const h=r[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function wp(r,o){const c=o.directiveEnd,h=r.data,g=o.attrs,y=[];let x=null,M=null;for(let j=o.directiveStart;j<c;j++){const X=h[j],be=X.inputs,Xe=null===g||En(o)?null:TC(be,g);y.push(Xe),x=ef(be,j,x),M=ef(X.outputs,j,M)}null!==x&&(x.hasOwnProperty("class")&&(o.flags|=16),x.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=x,o.outputs=M}function ca(r,o,a,c,h,g,y,x){const M=Ur(o,a);let X,j=o.inputs;!x&&null!=j&&(X=j[c])?(vm(r,a,X,c,h),rs(o)&&_y(a,o.index)):3&o.type&&(c=function um(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),h=null!=y?y(h,o.value||"",c):h,g.setProperty(M,c,h))}function _y(r,o){const a=dr(o,r);16&a[2]||(a[2]|=32)}function dm(r,o,a,c){let h=!1;if(Or()){const g=function vy(r,o,a){const c=r.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const y=c[g];hp(a,y.selectors,!1)&&(h||(h=[]),na($o(a,o),r,y.type),Rr(y)?(Dp(r,a),h.unshift(y)):h.push(y))}return h}(r,o,a),y=null===c?null:{"":-1};if(null!==g){h=!0,pm(a,r.data.length,g.length);for(let X=0;X<g.length;X++){const be=g[X];be.providersResolver&&be.providersResolver(be)}let x=!1,M=!1,j=jd(r,o,g.length,null);for(let X=0;X<g.length;X++){const be=g[X];a.mergedAttrs=$t(a.mergedAttrs,be.hostAttrs),nf(r,a,o,j,be),L0(j,be,y),null!==be.contentQueries&&(a.flags|=8),(null!==be.hostBindings||null!==be.hostAttrs||0!==be.hostVars)&&(a.flags|=128);const Xe=be.type.prototype;!x&&(Xe.ngOnChanges||Xe.ngOnInit||Xe.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(a.index),x=!0),!M&&(Xe.ngOnChanges||Xe.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(a.index),M=!0),j++}wp(r,a)}y&&function Cp(r,o,a){if(o){const c=r.localNames=[];for(let h=0;h<o.length;h+=2){const g=a[o[h+1]];if(null==g)throw new Te(-301,!1);c.push(o[h],g)}}}(a,c,y)}return a.mergedAttrs=$t(a.mergedAttrs,a.attrs),h}function hm(r,o,a,c,h,g){const y=g.hostBindings;if(y){let x=r.hostBindingOpCodes;null===x&&(x=r.hostBindingOpCodes=[]);const M=~o.index;(function fm(r){let o=r.length;for(;o>0;){const a=r[--o];if("number"==typeof a&&a<0)return a}return 0})(x)!=M&&x.push(M),x.push(c,h,y)}}function xo(r,o){null!==r.hostBindings&&r.hostBindings(1,o)}function Dp(r,o){o.flags|=2,(r.components||(r.components=[])).push(o.index)}function L0(r,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=r;Rr(o)&&(a[""]=r)}}function pm(r,o,a){r.flags|=1,r.directiveStart=o,r.directiveEnd=o+a,r.providerIndexes=o}function nf(r,o,a,c,h){r.data[c]=h;const g=h.factory||(h.factory=vs(h.type)),y=new so(g,Rr(h),Wr);r.blueprint[c]=y,a[c]=y,hm(r,o,0,c,jd(r,a,h.hostVars,ii),h)}function N0(r,o,a){const c=Ur(o,r),h=F0(a),g=r[10],y=mm(r,Jh(r,h,null,a.onPush?32:16,c,o,g,g.createRenderer(c,a),null,null,null));r[o.index]=y}function Gl(r,o,a,c,h,g){const y=Ur(r,o);!function Ey(r,o,a,c,h,g,y){if(null==g)r.removeAttribute(o,h,a);else{const x=null==y?Ze(g):y(g,c||"",h);r.setAttribute(o,h,x,a)}}(o[11],y,g,r.value,a,c,h)}function lu(r,o,a,c,h,g){const y=g[o];if(null!==y){const x=c.setInput;for(let M=0;M<y.length;){const j=y[M++],X=y[M++],be=y[M++];null!==x?c.setInput(a,be,j,X):a[X]=be}}}function TC(r,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;r.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,r[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function by(r,o,a,c){return new Array(r,!0,!1,o,null,0,c,a,null,null)}function mc(r,o){const a=dr(o,r);if(Ys(a)){const c=a[1];48&a[2]?bp(c,a,c.template,a[8]):a[5]>0&&gm(a)}}function gm(r){for(let c=Bu(r);null!==c;c=b(c))for(let h=10;h<c.length;h++){const g=c[h];if(Ys(g))if(512&g[2]){const y=g[1];bp(y,g,y.template,g[8])}else g[5]>0&&gm(g)}const a=r[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=dr(a[c],r);Ys(h)&&h[5]>0&&gm(h)}}function Ip(r,o){const a=dr(o,r),c=a[1];(function MC(r,o){for(let a=o.length;a<r.blueprint.length;a++)o.push(r.blueprint[a])})(c,a),om(c,a,a[8])}function mm(r,o){return r[13]?r[14][4]=o:r[13]=o,r[14]=o,o}function bi(r){for(;r;){r[2]|=32;const o=Id(r);if(ke(r)&&!o)return r;r=o}return null}function _m(r,o,a,c=!0){const h=o[10];h.begin&&h.begin();try{bp(r,o,r.template,a)}catch(y){throw c&&j0(o,y),y}finally{h.end&&h.end()}}function ym(r,o,a){Pr(0),o(r,a)}function wy(r){return r[7]||(r[7]=[])}function xp(r){return r.cleanup||(r.cleanup=[])}function U0(r,o,a){return(null===r||Rr(r))&&(a=function qs(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(a[o.index])),a[11]}function j0(r,o){const a=r[9],c=a?a.get($h,null):null;c&&c.handleError(o)}function vm(r,o,a,c,h){for(let g=0;g<a.length;){const y=a[g++],x=a[g++],M=o[y],j=r.data[y];null!==j.setInput?j.setInput(M,h,c,x):M[x]=h}}function _c(r,o,a){let c=a?r.styles:null,h=a?r.classes:null,g=0;if(null!==o)for(let y=0;y<o.length;y++){const x=o[y];"number"==typeof x?g=x:1==g?h=de(h,x):2==g&&(c=de(c,x+": "+o[++y]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=h:r.classesWithoutHost=h}function Sp(r,o,a,c,h=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&c.push(Si(g)),Dr(g))for(let x=10;x<g.length;x++){const M=g[x],j=M[1].firstChild;null!==j&&Sp(M[1],M,j,c)}const y=a.type;if(8&y)Sp(r,o,a.child,c);else if(32&y){const x=jf(a,o);let M;for(;M=x();)c.push(M)}else if(16&y){const x=$E(o,a);if(Array.isArray(x))c.push(...x);else{const M=Id(o[16]);Sp(M[1],M,x,c,!0)}}a=h?a.projectionNext:a.next}return c}class Hl{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Sp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Dr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Kc(o,c),rl(a,c))}this._attachedToViewContainer=!1}fc(this._lView[1],this._lView)}onDestroy(o){cm(this._lView[1],this._lView,null,o)}markForCheck(){bi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){_m(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Vn(r,o){ju(r,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Te(902,!1);this._appRef=o}}class G0 extends Hl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;_m(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class qu extends Jr{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=q(o);return new Mp(a,this.ngModule)}}function Dy(r){const o=[];for(let a in r)r.hasOwnProperty(a)&&o.push({propName:r[a],templateName:a});return o}class Tp{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){const h=this.injector.get(o,wn,c);return h!==wn||a===wn?h:this.parentInjector.get(o,a,c)}}class Mp extends lp{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function m0(r){return r.map(ay).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Dy(this.componentDef.inputs)}get outputs(){return Dy(this.componentDef.outputs)}create(o,a,c,h){let g=(h=h||this.ngModule)instanceof pc?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const y=g?new Tp(o,g):o,x=y.get(es,null);if(null===x)throw new Te(407,!1);const M=y.get(On,null),j=x.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",be=c?function xC(r,o,a){return r.selectRootElement(o,a===ye.ShadowDom)}(j,c,this.componentDef.encapsulation):Pt(j,X,function H0(r){const o=r.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(X)),Xe=this.componentDef.onPush?288:272,Ct=lm(0,null,null,1,0,null,null,null,null,null),qt=Jh(null,Ct,null,Xe,null,null,x,j,M,y,null);let dn,bn;Go(qt);try{const Ln=function $0(r,o,a,c,h,g){const y=a[1];a[22]=r;const M=Ud(y,22,2,"#host",null),j=M.mergedAttrs=o.hostAttrs;null!==j&&(_c(M,j,!0),null!==r&&(Y(h,r,j),null!==M.classes&&V_(h,r,M.classes),null!==M.styles&&Lh(h,r,M.styles)));const X=c.createRenderer(r,o),be=Jh(a,F0(o),null,o.onPush?32:16,a[22],M,c,X,g||null,null,null);return y.firstCreatePass&&(na($o(M,a),y,o.type),Dp(y,M),pm(M,a.length,1)),mm(a,be),a[22]=be}(be,this.componentDef,qt,x,j);if(be)if(c)Y(j,be,["ng-version",u0.full]);else{const{attrs:qn,classes:tn}=function _0(r){const o=[],a=[];let c=1,h=2;for(;c<r.length;){let g=r[c];if("string"==typeof g)2===h?""!==g&&o.push(g,r[++c]):8===h&&a.push(g);else{if(!ao(h))break;h=g}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);qn&&Y(j,be,qn),tn&&tn.length>0&&V_(j,be,tn.join(" "))}if(bn=No(Ct,22),void 0!==a){const qn=bn.projection=[];for(let tn=0;tn<this.ngContentSelectors.length;tn++){const ui=a[tn];qn.push(null!=ui?Array.from(ui):null)}}dn=function PC(r,o,a,c){const h=a[1],g=function tf(r,o,a){const c=sr();r.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),nf(r,c,o,jd(r,o,1,null),a),wp(r,c));const h=zo(o,r,c.directiveStart,c);lr(h,o);const g=Ur(c,o);return g&&lr(g,o),h}(h,a,o);if(r[8]=a[8]=g,null!==c)for(const x of c)x(g,o);if(o.contentQueries){const x=sr();o.contentQueries(1,g,x.directiveStart)}const y=sr();return!h.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Fs(y.index),hm(a[1],y,0,y.directiveStart,y.directiveEnd,o),xo(o,g)),g}(Ln,this.componentDef,qt,[Rp]),om(Ct,qt,null)}finally{bs()}return new Em(this.componentType,dn,ja(bn,qt),qt,bn)}}class Em extends class ZD{}{constructor(o,a,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new G0(h),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[o])){const g=this._rootLView;vm(g[1],g,h,o,a),_y(g,this._tNode.index)}}get injector(){return new Oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Rp(){const r=sr();Sa(Kt()[1],r)}function bm(r){let o=function z0(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;o;){let h;if(Rr(r))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Te(903,!1);h=o.\u0275dir}if(h){if(a){c.push(h);const y=r;y.inputs=$l(r.inputs),y.declaredInputs=$l(r.declaredInputs),y.outputs=$l(r.outputs);const x=h.hostBindings;x&&q0(r,x);const M=h.viewQuery,j=h.contentQueries;if(M&&W0(r,M),j&&K0(r,j),Ee(r.inputs,h.inputs),Ee(r.declaredInputs,h.declaredInputs),Ee(r.outputs,h.outputs),Rr(h)&&h.data.animation){const X=r.data;X.animation=(X.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let y=0;y<g.length;y++){const x=g[y];x&&x.ngInherit&&x(r),x===bm&&(a=!1)}}o=Object.getPrototypeOf(o)}!function rf(r){let o=0,a=null;for(let c=r.length-1;c>=0;c--){const h=r[c];h.hostVars=o+=h.hostVars,h.hostAttrs=$t(h.hostAttrs,a=$t(a,h.hostAttrs))}}(c)}function $l(r){return r===Mt?{}:r===rt?[]:r}function W0(r,o){const a=r.viewQuery;r.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function K0(r,o){const a=r.contentQueries;r.contentQueries=a?(c,h,g)=>{o(c,h,g),a(c,h,g)}:o}function q0(r,o){const a=r.hostBindings;r.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let af=null;function cu(){if(!af){const r=me.Symbol;if(r&&r.iterator)af=r.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(af=c)}}}return af}function Op(r){return!!wm(r)&&(Array.isArray(r)||!(r instanceof Map)&&cu()in r)}function wm(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function uo(r,o,a){return!Object.is(r[o],a)&&(r[o]=a,!0)}function kp(r,o,a,c){const h=Kt();return uo(h,Uo(),o)&&(Qn(),Gl(Fi(),h,r,o,a,c)),kp}function My(r,o,a,c,h,g,y,x){const M=Kt(),j=Qn(),X=r+22,be=j.firstCreatePass?function Ty(r,o,a,c,h,g,y,x,M){const j=o.consts,X=Ud(o,r,4,y||null,Zi(j,x));dm(o,a,X,Zi(j,M)),Sa(o,X);const be=X.tViews=lm(2,X,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,j);return null!==o.queries&&(o.queries.template(o,X),be.queries=o.queries.embeddedTView(X)),X}(X,j,M,o,a,c,h,g,y):j.data[X];F(be,!1);const Xe=M[11].createComment("");zf(j,M,Xe,be),lr(Xe,M),mm(M,M[X]=by(Xe,M,Xe,be)),fo(be)&&my(j,M,be),null!=y&&am(M,be,x)}function zl(r){return function os(r,o){return r[o]}(function ai(){return zn.lFrame.contextLView}(),22+r)}function Lp(r,o,a){const c=Kt();return uo(c,Uo(),o)&&ca(Qn(),Fi(),c,r,o,c[11],a,!1),Lp}function Cm(r,o,a,c,h){const y=h?"class":"style";vm(r,a,o.inputs[y],y,c)}function Bp(r,o,a,c){const h=Kt(),g=Qn(),y=22+r,x=h[11],M=h[y]=Pt(x,o,function xa(){return zn.lFrame.currentNamespace}()),j=g.firstCreatePass?function Np(r,o,a,c,h,g,y){const x=o.consts,j=Ud(o,r,2,h,Zi(x,g));return dm(o,a,j,Zi(x,y)),null!==j.attrs&&_c(j,j.attrs,!1),null!==j.mergedAttrs&&_c(j,j.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,j),j}(y,g,h,0,o,a,c):g.data[y];F(j,!0);const X=j.mergedAttrs;null!==X&&Y(x,M,X);const be=j.classes;null!==be&&V_(x,M,be);const Xe=j.styles;return null!==Xe&&Lh(x,M,Xe),64!=(64&j.flags)&&zf(g,h,M,j),0===function ma(){return zn.lFrame.elementDepthCount}()&&lr(M,h),function qa(){zn.lFrame.elementDepthCount++}(),fo(j)&&(my(g,h,j),k0(g,j,h)),null!==c&&am(h,j),Bp}function Vp(){let r=sr();oe()?Vt():(r=r.parent,F(r,!1));const o=r;!function jr(){zn.lFrame.elementDepthCount--}();const a=Qn();return a.firstCreatePass&&(Sa(a,r),is(r)&&a.queries.elementEnd(r)),null!=o.classesWithoutHost&&function Ma(r){return 0!=(16&r.flags)}(o)&&Cm(a,o,Kt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function T(r){return 0!=(32&r.flags)}(o)&&Cm(a,o,Kt(),o.stylesWithoutHost,!1),Vp}function Am(r,o,a,c){return Bp(r,o,a,c),Vp(),Am}function Im(r,o,a){const c=Kt(),h=Qn(),g=r+22,y=h.firstCreatePass?function kC(r,o,a,c,h){const g=o.consts,y=Zi(g,c),x=Ud(o,r,8,"ng-container",y);return null!==y&&_c(x,y,!0),dm(o,a,x,Zi(g,h)),null!==o.queries&&o.queries.elementStart(o,x),x}(g,h,c,o,a):h.data[g];F(y,!0);const x=c[g]=c[11].createComment("");return zf(h,c,x,y),lr(x,c),fo(y)&&(my(h,c,y),k0(h,y,c)),null!=a&&am(c,y),Im}function Zu(){let r=sr();const o=Qn();return oe()?Vt():(r=r.parent,F(r,!1)),o.firstCreatePass&&(Sa(o,r),is(r)&&o.queries.elementEnd(r)),Zu}function tb(){return Kt()}function Sm(r){return!!r&&"function"==typeof r.then}function Tm(r){return!!r&&"function"==typeof r.subscribe}const Ry=Tm;function Oy(r,o,a,c){const h=Kt(),g=Qn(),y=sr();return nb(g,h,h[11],y,r,o,0,c),Oy}function Mm(r,o){const a=sr(),c=Kt(),h=Qn();return nb(h,c,U0(wa(h.data),a,c),a,r,o),Mm}function nb(r,o,a,c,h,g,y,x){const M=fo(c),X=r.firstCreatePass&&xp(r),be=o[8],Xe=wy(o);let Ct=!0;if(3&c.type||x){const bn=Ur(c,o),Ln=x?x(bn):bn,qn=Xe.length,tn=x?qi=>x(Si(qi[c.index])):c.index;let ui=null;if(!x&&M&&(ui=function FC(r,o,a,c){const h=r.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const y=h[g];if(y===a&&h[g+1]===c){const x=o[7],M=h[g+2];return x.length>M?x[M]:null}"string"==typeof y&&(g+=2)}return null}(r,o,h,c.index)),null!==ui)(ui.__ngLastListenerFn__||ui).__ngNextListenerFn__=g,ui.__ngLastListenerFn__=g,Ct=!1;else{g=du(c,o,be,g,!1);const qi=a.listen(Ln,h,g);Xe.push(g,qi),X&&X.push(h,tn,qn,qn+1)}}else g=du(c,o,be,g,!1);const qt=c.outputs;let dn;if(Ct&&null!==qt&&(dn=qt[h])){const bn=dn.length;if(bn)for(let Ln=0;Ln<bn;Ln+=2){const Nr=o[dn[Ln]][dn[Ln+1]].subscribe(g),gd=Xe.length;Xe.push(g,Nr),X&&X.push(h,c.index,gd,-(gd+1))}}}function ib(r,o,a,c){try{return!1!==a(c)}catch(h){return j0(r,h),!1}}function du(r,o,a,c,h){return function g(y){if(y===Function)return c;bi(2&r.flags?dr(r.index,o):o);let M=ib(o,0,c,y),j=g.__ngNextListenerFn__;for(;j;)M=ib(o,0,j,y)&&M,j=j.__ngNextListenerFn__;return h&&!1===M&&(y.preventDefault(),y.returnValue=!1),M}}function Zd(r=1){return function Eo(r){return(zn.lFrame.contextLView=function Ca(r,o){for(;r>0;)o=o[15],r--;return o}(r,zn.lFrame.contextLView))[8]}(r)}function rb(r,o){let a=null;const c=function aC(r){const o=r.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(r);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===c?hp(r,g,!0):g0(c,g))return h}else a=h}return a}function sb(r){const o=Kt()[16][6];if(!o.projection){const c=o.projection=w(r?r.length:1,null),h=c.slice();let g=o.child;for(;null!==g;){const y=r?rb(g,r):0;null!==y&&(h[y]?h[y].projectionNext=g:c[y]=g,h[y]=g),g=g.next}}}function Py(r,o=0,a){const c=Kt(),h=Qn(),g=Ud(h,22+r,16,null,a||null);null===g.projection&&(g.projection=o),Vt(),64!=(64&g.flags)&&function zE(r,o,a){wr(o[11],0,o,a,Vu(r,a,o),kh(a.parent||o[6],a,o))}(h,c,g)}function Ny(r,o,a,c,h){const g=r[a+1],y=null===o;let x=c?Li(g):gc(g),M=!1;for(;0!==x&&(!1===M||y);){const X=r[x+1];LC(r[x],o)&&(M=!0,r[x+1]=c?Jg(X):mr(X)),x=c?Li(X):gc(X)}M&&(r[a+1]=c?mr(g):Jg(g))}function LC(r,o){return null===r||null==o||(Array.isArray(r)?r[1]:r)===o||!(!Array.isArray(r)||"string"!=typeof o)&&hn(r,o)>=0}function Pm(r,o,a){return za(r,o,a,!1),Pm}function jy(r,o){return za(r,o,null,!0),jy}function za(r,o,a,c){const h=Kt(),g=Qn(),y=function Ci(r){const o=zn.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+r,a}(2);g.firstUpdatePass&&function db(r,o,a,c){const h=r.data;if(null===h[a+1]){const g=h[xi()],y=function Hp(r,o){return o>=r.expandoStartIndex}(r,a);(function Wy(r,o){return 0!=(r.flags&(o?16:32))})(g,c)&&null===o&&!y&&(o=!1),o=function Hy(r,o,a,c){const h=wa(r);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=id(a=Qd(null,r,o,a,c),o.attrs,c),g=null);else{const y=o.directiveStylingLast;if(-1===y||r[y]!==h)if(a=Qd(h,r,o,a,c),null===g){let M=function km(r,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==gc(c))return r[Li(c)]}(r,o,c);void 0!==M&&Array.isArray(M)&&(M=Qd(null,r,o,M[1],c),M=id(M,o.attrs,c),function VC(r,o,a,c){r[Li(a?o.classBindings:o.styleBindings)]=c}(r,o,c,M))}else g=function hb(r,o,a){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=id(c,r[g].hostAttrs,a);return id(c,o.attrs,a)}(r,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),a}(h,g,o,c),function Ly(r,o,a,c,h,g){let y=g?o.classBindings:o.styleBindings,x=Li(y),M=gc(y);r[c]=a;let X,j=!1;if(Array.isArray(a)){const be=a;X=be[1],(null===X||hn(be,X)>0)&&(j=!0)}else X=a;if(h)if(0!==M){const Xe=Li(r[x+1]);r[c+1]=_p(Xe,x),0!==Xe&&(r[Xe+1]=zu(r[Xe+1],c)),r[x+1]=function lo(r,o){return 131071&r|o<<17}(r[x+1],c)}else r[c+1]=_p(x,0),0!==x&&(r[x+1]=zu(r[x+1],c)),x=c;else r[c+1]=_p(M,0),0===x?x=c:r[M+1]=zu(r[M+1],c),M=c;j&&(r[c+1]=mr(r[c+1])),Ny(r,X,c,!0),Ny(r,X,c,!1),function lb(r,o,a,c,h){const g=h?r.residualClasses:r.residualStyles;null!=g&&"string"==typeof o&&hn(g,o)>=0&&(a[c+1]=Jg(a[c+1]))}(o,X,r,c,g),y=_p(x,M),g?o.classBindings=y:o.styleBindings=y}(h,g,o,a,y,c)}}(g,r,y,c),o!==ii&&uo(h,y,o)&&function ho(r,o,a,c,h,g,y,x){if(!(3&o.type))return;const M=r.data,j=M[x+1];Xd(function Yo(r){return 1==(1&r)}(j)?zy(M,o,a,h,gc(j),y):void 0)||(Xd(g)||function yp(r){return 2==(2&r)}(j)&&(g=zy(M,null,a,h,x,y)),function Kf(r,o,a,c,h){if(o)h?r.addClass(a,c):r.removeClass(a,c);else{let g=-1===c.indexOf("-")?void 0:H.DashCase;null==h?r.removeStyle(a,c,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=H.Important),r.setStyle(a,c,h,g))}}(c,y,go(xi(),a),h,g))}(g,g.data[xi()],h,h[11],r,h[y+1]=function Fm(r,o){return null==r||("string"==typeof o?r+=o:"object"==typeof r&&(r=he(Zc(r)))),r}(o,a),c,y)}function Qd(r,o,a,c,h){let g=null;const y=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<y&&(g=o[x],c=id(c,g.hostAttrs,h),g!==r);)x++;return null!==r&&(a.directiveStylingLast=x),c}function id(r,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const y=o[g];"number"==typeof y?h=y:h===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Le(r,y,!!a||o[++g]))}return void 0===r?null:r}function zy(r,o,a,c,h,g){const y=null===o;let x;for(;h>0;){const M=r[h],j=Array.isArray(M),X=j?M[1]:M,be=null===X;let Xe=a[h+1];Xe===ii&&(Xe=be?rt:void 0);let Ct=be?Nt(Xe,c):X===c?Xe:void 0;if(j&&!Xd(Ct)&&(Ct=Nt(M,c)),Xd(Ct)&&(x=Ct,y))return x;const qt=r[h+1];h=y?Li(qt):gc(qt)}if(null!==o){let M=g?o.residualClasses:o.residualStyles;null!=M&&(x=Nt(M,c))}return x}function Xd(r){return void 0!==r}function hu(r,o=""){const a=Kt(),c=Qn(),h=r+22,g=c.firstCreatePass?Ud(c,h,1,o,null):c.data[h],y=a[h]=function $(r,o){return r.createText(o)}(a[11],o);zf(c,a,y,g),F(g,!1)}function rd(r){return Lm("",r,""),rd}function Lm(r,o,a){const c=Kt(),h=function vc(r,o,a,c){return uo(r,Uo(),a)?o+Ze(a)+c:ii}(c,r,o,a);return h!==ii&&function ua(r,o,a){const c=go(o,r);!function se(r,o,a){r.setValue(o,a)}(r[11],c,a)}(c,xi(),h),Lm}function Qy(r,o,a){const c=Kt();return uo(c,Uo(),o)&&ca(Qn(),Fi(),c,r,o,c[11],a,!0),Qy}function Vm(r,o,a){const c=Kt();if(uo(c,Uo(),o)){const g=Qn(),y=Fi();ca(g,y,c,r,o,U0(wa(g.data),y,c),a,!0)}return Vm}const pu=void 0;var qp=["en",[["a","p"],["AM","PM"],pu],[["AM","PM"],pu,pu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pu,"{1} 'at' {0}",pu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Xy(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let gu={};function Yp(r){const o=function YC(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Jy(o);if(a)return a;const c=o.split("-")[0];if(a=Jy(c),a)return a;if("en"===c)return qp;throw new Te(701,!1)}function Tb(r){return Yp(r)[Zn.PluralCase]}function Jy(r){return r in gu||(gu[r]=me.ng&&me.ng.common&&me.ng.common.locales&&me.ng.common.locales[r]),gu[r]}var Zn=(()=>((Zn=Zn||{})[Zn.LocaleId=0]="LocaleId",Zn[Zn.DayPeriodsFormat=1]="DayPeriodsFormat",Zn[Zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zn[Zn.DaysFormat=3]="DaysFormat",Zn[Zn.DaysStandalone=4]="DaysStandalone",Zn[Zn.MonthsFormat=5]="MonthsFormat",Zn[Zn.MonthsStandalone=6]="MonthsStandalone",Zn[Zn.Eras=7]="Eras",Zn[Zn.FirstDayOfWeek=8]="FirstDayOfWeek",Zn[Zn.WeekendRange=9]="WeekendRange",Zn[Zn.DateFormat=10]="DateFormat",Zn[Zn.TimeFormat=11]="TimeFormat",Zn[Zn.DateTimeFormat=12]="DateTimeFormat",Zn[Zn.NumberSymbols=13]="NumberSymbols",Zn[Zn.NumberFormats=14]="NumberFormats",Zn[Zn.CurrencyCode=15]="CurrencyCode",Zn[Zn.CurrencySymbol=16]="CurrencySymbol",Zn[Zn.CurrencyName=17]="CurrencyName",Zn[Zn.Currencies=18]="Currencies",Zn[Zn.Directionality=19]="Directionality",Zn[Zn.PluralCase=20]="PluralCase",Zn[Zn.ExtraData=21]="ExtraData",Zn))();const th="en-US";let tv=th;function wv(r,o,a,c,h){if(r=U(r),Array.isArray(r))for(let g=0;g<r.length;g++)wv(r[g],o,a,c,h);else{const g=Qn(),y=Kt();let x=Xc(r)?r:U(r.provide),M=kd(r);const j=sr(),X=1048575&j.providerIndexes,be=j.directiveStart,Xe=j.providerIndexes>>20;if(Xc(r)||!r.multi){const Ct=new so(M,h,Wr),qt=ig(x,o,h?X:X+Xe,be);-1===qt?(na($o(j,y),g,x),Dv(g,r,o.length),o.push(x),j.directiveStart++,j.directiveEnd++,h&&(j.providerIndexes+=1048576),a.push(Ct),y.push(Ct)):(a[qt]=Ct,y[qt]=Ct)}else{const Ct=ig(x,o,X+Xe,be),qt=ig(x,o,X,X+Xe),dn=Ct>=0&&a[Ct],bn=qt>=0&&a[qt];if(h&&!bn||!h&&!dn){na($o(j,y),g,x);const Ln=function rA(r,o,a,c,h){const g=new so(r,a,Wr);return g.multi=[],g.index=o,g.componentProviders=0,Qm(g,h,c&&!a),g}(h?Av:Cv,a.length,h,c,M);!h&&bn&&(a[qt].providerFactory=Ln),Dv(g,r,o.length,0),o.push(x),j.directiveStart++,j.directiveEnd++,h&&(j.providerIndexes+=1048576),a.push(Ln),y.push(Ln)}else Dv(g,r,Ct>-1?Ct:qt,Qm(a[h?qt:Ct],M,!h&&c));!h&&c&&bn&&a[qt].componentProviders++}}}function Dv(r,o,a,c){const h=Xc(o),g=function jh(r){return!!r.useClass}(o);if(h||g){const M=(g?U(o.useClass):o).prototype.ngOnDestroy;if(M){const j=r.destroyHooks||(r.destroyHooks=[]);if(!h&&o.multi){const X=j.indexOf(a);-1===X?j.push(a,[c,M]):j[X+1].push(c,M)}else j.push(a,M)}}}function Qm(r,o,a){return a&&r.componentProviders++,r.multi.push(o)-1}function ig(r,o,a,c){for(let h=a;h<c;h++)if(o[h]===r)return h;return-1}function Cv(r,o,a,c){return Iv(this.multi,[])}function Av(r,o,a,c){const h=this.multi;let g;if(this.providerFactory){const y=this.providerFactory.componentProviders,x=zo(a,a[1],this.providerFactory.index,c);g=x.slice(0,y),Iv(h,g);for(let M=y;M<x.length;M++)g.push(x[M])}else g=[],Iv(h,g);return g}function Iv(r,o){for(let a=0;a<r.length;a++)o.push((0,r[a])());return o}function Xm(r,o=[]){return a=>{a.providersResolver=(c,h)=>function pf(r,o,a){const c=Qn();if(c.firstCreatePass){const h=Rr(r);wv(a,c.data,c.blueprint,h,!0),wv(o,c.data,c.blueprint,h,!1)}}(c,h?h(r):r,o)}}class ud{}class Xb{}function Jb(r,o){return new xv(r,o??null)}class xv extends ud{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qu(this);const c=un(o);this._bootstrapComponents=eu(c.bootstrap),this._r3Injector=w0(o,a,[{provide:ud,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver}],he(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Jm extends Xb{constructor(o){super(),this.moduleType=o}create(o){return new xv(this.moduleType,o)}}class ew extends ud{constructor(o,a,c){super(),this.componentFactoryResolver=new qu(this),this.instance=null;const h=new ap([...o,{provide:ud,useValue:this},{provide:Jr,useValue:this.componentFactoryResolver}],a||Ds(),c,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function e_(r,o,a=null){return new ew(r,o,a).injector}let sA=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=o0(0,a.type),h=c.length>0?e_([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return r.\u0275prov=We({token:r,providedIn:"environment",factory:()=>new r(Ri(pc))}),r})();function tw(r){r.getStandaloneInjector=o=>o.get(sA).getOrCreateStandaloneInjector(r)}function $v(r){return o=>{setTimeout(r,void 0,o)}}const _l=class pA extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let h=o,g=a||(()=>null),y=c;if(o&&"object"==typeof o){const M=o;h=M.next?.bind(M),g=M.error?.bind(M),y=M.complete?.bind(M)}this.__isAsync&&(g=$v(g),h&&(h=$v(h)),y&&(y=$v(y)));const x=super.subscribe({next:h,error:g,complete:y});return o instanceof d.w0&&o.add(x),x}};function gA(){return this._results[cu()]()}class _f{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=cu(),c=_f.prototype;c[a]||(c[a]=gA)}get changes(){return this._changes||(this._changes=new _l)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=ws(o);(this._changesDetected=!function Pc(r,o,a){if(r.length!==o.length)return!1;for(let c=0;c<r.length;c++){let h=r[c],g=o[c];if(a&&(h=a(h),g=a(g)),g!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let lh=(()=>{class r{}return r.__NG_ELEMENT_ID__=rg,r})();const zv=lh,mA=class extends zv{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,h=Jh(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);h[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(h[19]=y.createEmbeddedView(c)),om(c,h,o),new Hl(h)}};function rg(){return o_(sr(),Kt())}function o_(r,o){return 4&r.type?new mA(o,r,ja(r,o)):null}let yf=(()=>{class r{}return r.__NG_ELEMENT_ID__=uw,r})();function uw(){return dw(sr(),Kt())}const vf=yf,Wv=class extends vf{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return ja(this._hostTNode,this._hostLView)}get injector(){return new Oa(this._hostTNode,this._hostLView)}get parentInjector(){const o=Cl(this._hostTNode,this._hostLView);if(vi(o)){const a=li(o,this._hostLView),c=Ei(o);return new Oa(a[1].data[c+8],a)}return new Oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=sg(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let h,g;"number"==typeof c?h=c:null!=c&&(h=c.index,g=c.injector);const y=o.createEmbeddedView(a||{},g);return this.insert(y,h),y}createComponent(o,a,c,h,g){const y=o&&!function tc(r){return"function"==typeof r}(o);let x;if(y)x=a;else{const be=a||{};x=be.index,c=be.injector,h=be.projectableNodes,g=be.environmentInjector||be.ngModuleRef}const M=y?o:new Mp(q(o)),j=c||this.parentInjector;if(!g&&null==M.ngModule){const Xe=(y?j:this.parentInjector).get(pc,null);Xe&&(g=Xe)}const X=M.create(j,h,void 0,g);return this.insert(X.hostView,x),X}insert(o,a){const c=o._lView,h=c[1];if(function hr(r){return Dr(r[3])}(c)){const X=this.indexOf(o);if(-1!==X)this.detach(X);else{const be=c[3],Xe=new Wv(be,be[6],be[3]);Xe.detach(Xe.indexOf(o))}}const g=this._adjustIndex(a),y=this._lContainer;!function Js(r,o,a,c){const h=10+c,g=a.length;c>0&&(a[h-1][4]=o),c<g-10?(o[4]=a[h],nc(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function ll(r,o){const a=r[9];o[16]!==o[3][3][16]&&(r[2]=!0),null===a?r[9]=[o]:a.push(o)}(y,o);const x=o[19];null!==x&&x.insertView(r),o[2]|=64}(h,c,y,g);const x=qc(g,y),M=c[11],j=$f(M,y[7]);return null!==j&&function Dn(r,o,a,c,h,g){c[0]=h,c[6]=o,ju(r,c,a,1,h,g)}(h,y[6],M,c,j,x),o.attachToViewContainerRef(),nc(Kv(y),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=sg(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Kc(this._lContainer,a);c&&(rl(Kv(this._lContainer),a),fc(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Kc(this._lContainer,a);return c&&null!=rl(Kv(this._lContainer),a)?new Hl(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function sg(r){return r[8]}function Kv(r){return r[8]||(r[8]=[])}function dw(r,o){let a;const c=o[r.index];if(Dr(c))a=c;else{let h;if(8&r.type)h=Si(c);else{const g=o[11];h=g.createComment("");const y=Ur(r,o);cl(g,$f(g,y),h,function kg(r,o){return r.nextSibling(o)}(g,y),!1)}o[r.index]=a=by(c,o,h,r),mm(o,a)}return new Wv(a,r,o)}class og{constructor(o){this.queryList=o,this.matches=null}clone(){return new og(this.queryList)}setDirty(){this.queryList.setDirty()}}class ag{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let g=0;g<c;g++){const y=a.getByIndex(g);h.push(this.queries[y.indexInDeclarationView].clone())}return new ag(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==mw(o,a).matches&&this.queries[a].setDirty()}}class a_{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class l_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==a?a.push(g):a=[g])}return null!==a?new l_(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lg{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new lg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,a,Yv(a,g)),this.matchTNodeWithReadOption(o,a,ia(a,o,g,!1,!1))}else c===lh?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,ia(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Fd||h===yf||h===lh&&4&a.type)this.addMatch(a.index,-2);else{const g=ia(a,o,h,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Yv(r,o){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function Zv(r,o,a,c){return-1===a?function c_(r,o){return 11&r.type?ja(r,o):4&r.type?o_(r,o):null}(o,r):-2===a?function hw(r,o,a){return a===Fd?ja(o,r):a===lh?o_(o,r):a===yf?dw(o,r):void 0}(r,o,c):zo(r,r[1],a,o)}function cg(r,o,a,c){const h=o[19].queries[c];if(null===h.matches){const g=r.data,y=a.matches,x=[];for(let M=0;M<y.length;M+=2){const j=y[M];x.push(j<0?null:Zv(o,g[j],y[M+1],a.metadata.read))}h.matches=x}return h.matches}function u_(r,o,a,c){const h=r.queries.getByIndex(a),g=h.matches;if(null!==g){const y=cg(r,o,h,a);for(let x=0;x<g.length;x+=2){const M=g[x];if(M>0)c.push(y[x/2]);else{const j=g[x+1],X=o[-M];for(let be=10;be<X.length;be++){const Xe=X[be];Xe[17]===Xe[3]&&u_(Xe[1],Xe,j,c)}if(null!==X[9]){const be=X[9];for(let Xe=0;Xe<be.length;Xe++){const Ct=be[Xe];u_(Ct[1],Ct,j,c)}}}}}return c}function d_(r){const o=Kt(),a=Qn(),c=_o();Pr(c+1);const h=mw(a,c);if(r.dirty&&function mo(r){return 4==(4&r[2])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)r.reset([]);else{const g=h.crossesNgTemplate?u_(a,o,c,[]):cg(a,o,h,c);r.reset(g,XD),r.notifyOnChanges()}return!0}return!1}function Qv(r,o,a){const c=Qn();c.firstCreatePass&&(pw(c,new a_(r,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),fw(c,Kt(),o)}function ch(r,o,a,c){const h=Qn();if(h.firstCreatePass){const g=sr();pw(h,new a_(o,a,c),g.index),function gw(r,o){const a=r.contentQueries||(r.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,o)}(h,r),2==(2&a)&&(h.staticContentQueries=!0)}fw(h,Kt(),a)}function h_(){return function vA(r,o){return r[19].queries[o].queryList}(Kt(),_o())}function fw(r,o,a){const c=new _f(4==(4&a));cm(r,o,c,c.destroy),null===o[19]&&(o[19]=new ag),o[19].queries.push(new og(c))}function pw(r,o,a){null===r.queries&&(r.queries=new l_),r.queries.track(new lg(o,a))}function mw(r,o){return r.queries.getByIndex(o)}function hg(...r){}const Ow=new Pi("Application Initializer");let g_=(()=>{class r{constructor(a){this.appInits=a,this.resolve=hg,this.reject=hg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Sm(g))a.push(g);else if(Ry(g)){const y=new Promise((x,M)=>{g.subscribe({complete:x,error:M})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return r.\u0275fac=function(a){return new(a||r)(Ri(Ow,8))},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Pw=new Pi("AppId",{providedIn:"root",factory:function m_(){return`${__()}${__()}${__()}`}});function __(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hd=new Pi("Platform Initializer"),Fw=new Pi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lE=new Pi("appBootstrapListener"),fg=new Pi("AnimationModuleType");let OA=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();const dh=new Pi("LocaleId",{providedIn:"root",factory:()=>$r(dh,it.Optional|it.SkipSelf)||function y_(){return typeof $localize<"u"&&$localize.locale||th}()}),Nw=new Pi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Bw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let uE=(()=>{class r{compileModuleSync(a){return new Jm(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=eu(un(a).declarations).reduce((y,x)=>{const M=q(x);return M&&y.push(new Mp(M)),y},[]);return new Bw(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const dE=(()=>Promise.resolve(0))();function hE(r){typeof Zone>"u"?dE.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class yl{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _l(!1),this.onMicrotaskEmpty=new _l(!1),this.onStable=new _l(!1),this.onError=new _l(!1),typeof Zone>"u")throw new Te(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function E_(){let r=me.requestAnimationFrame,o=me.cancelAnimationFrame;if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function FA(r){const o=()=>{!function kA(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(me,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,If(r),r.isCheckStableRunning=!0,Af(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),If(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,g,y,x)=>{try{return Uw(r),a.invokeTask(h,g,y,x)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||r.shouldCoalesceRunChangeDetection)&&o(),jw(r)}},onInvoke:(a,c,h,g,y,x,M)=>{try{return Uw(r),a.invoke(h,g,y,x,M)}finally{r.shouldCoalesceRunChangeDetection&&o(),jw(r)}},onHasTask:(a,c,h,g)=>{a.hasTask(h,g),c===h&&("microTask"==g.change?(r._hasPendingMicrotasks=g.microTask,If(r),Af(r)):"macroTask"==g.change&&(r.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,c,h,g)=>(a.handleError(h,g),r.runOutsideAngular(()=>r.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yl.isInAngularZone())throw new Te(909,!1)}static assertNotInAngularZone(){if(yl.isInAngularZone())throw new Te(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const g=this._inner,y=g.scheduleEventTask("NgZoneEvent: "+h,o,PA,hg,hg);try{return g.runTask(y,a,c)}finally{g.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const PA={};function Af(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function If(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Uw(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function jw(r){r._nesting--,Af(r)}class Gw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _l,this.onMicrotaskEmpty=new _l,this.onStable=new _l,this.onError=new _l}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}const fE=new Pi(""),pE=new Pi("");let mg,Hw=(()=>{class r{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mg||(function $w(r){mg=r}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yl.assertNotInAngularZone(),hE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hE(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return r.\u0275fac=function(a){return new(a||r)(Ri(yl),Ri(gE),Ri(pE))},r.\u0275prov=We({token:r,factory:r.\u0275fac}),r})(),gE=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return mg?.findTestabilityInTree(this,a,c)??null}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})(),ql=null;const zw=new Pi("AllowMultipleToken"),Ww=new Pi("PlatformDestroyListeners");class ph{constructor(o,a){this.name=o,this.token=a}}function mE(r,o,a=[]){const c=`Platform: ${o}`,h=new Pi(c);return(g=[])=>{let y=_E();if(!y||y.injector.get(zw,!1)){const x=[...a,...g,{provide:h,useValue:!0}];r?r(x):function vu(r){if(ql&&!ql.get(zw,!1))throw new Te(400,!1);ql=r;const o=r.get(Kw);(function Eu(r){const o=r.get(hd,null);o&&o.forEach(a=>a())})(r)}(function bu(r=[],o){return Gs.create({name:o,providers:[{provide:sp,useValue:"platform"},{provide:Ww,useValue:new Set([()=>ql=null])},...r]})}(x,c))}return function NA(r){const o=_E();if(!o)throw new Te(401,!1);return o}()}}function _E(){return ql?.get(Kw)??null}let Kw=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function Yw(r,o){let a;return a="noop"===r?new Gw:("zone.js"===r?void 0:r)||new yl(o),a}(c?.ngZone,function qw(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!r||!r.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!r||!r.ngZoneRunCoalescing)||!1}}(c)),g=[{provide:yl,useValue:h}];return h.run(()=>{const y=Gs.create({providers:g,parent:this.injector,name:a.moduleType.name}),x=a.create(y),M=x.injector.get($h,null);if(!M)throw new Te(402,!1);return h.runOutsideAngular(()=>{const j=h.onError.subscribe({next:X=>{M.handleError(X)}});x.onDestroy(()=>{w_(this._modules,x),j.unsubscribe()})}),function yE(r,o,a){try{const c=a();return Sm(c)?c.catch(h=>{throw o.runOutsideAngular(()=>r.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>r.handleError(c)),c}}(M,h,()=>{const j=x.injector.get(g_);return j.runInitializers(),j.donePromise.then(()=>(function nv(r){ht(r,"Expected localeId to be defined"),"string"==typeof r&&(tv=r.toLowerCase().replace(/_/g,"-"))}(x.injector.get(dh,th)||th),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,c=[]){const h=vE({},c);return function LA(r,o,a){const c=new Jm(a);return Promise.resolve(c)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const c=a.injector.get(b_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Te(403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(Ww,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(a){return new(a||r)(Ri(Gs))},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"platform"}),r})();function vE(r,o){return Array.isArray(o)?o.reduce(vE,r):{...r,...o}}let b_=(()=>{class r{constructor(a,c,h){this._zone=a,this._injector=c,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new k.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),y=new k.y(x=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{yl.assertNotInAngularZone(),hE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{yl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{M.unsubscribe(),j.unsubscribe()}});this.isStable=(0,re.T)(g,y.pipe((0,ee.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof lp;if(!this._injector.get(g_).done)throw!h&&Lt(a),new Te(405,false);let y;y=h?a:this._injector.get(Jr).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const x=function ux(r){return r.isBoundToModule}(y)?void 0:this._injector.get(ud),j=y.create(Gs.NULL,[],c||y.selector,x),X=j.location.nativeElement,be=j.injector.get(fE,null);return be?.registerApplication(X),j.onDestroy(()=>{this.detachView(j.hostView),w_(this.components,j),be?.unregisterApplication(X)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new Te(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;w_(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(lE,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>w_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Te(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return r.\u0275fac=function(a){return new(a||r)(Ri(yl),Ri(pc),Ri($h))},r.\u0275prov=We({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function w_(r,o){const a=r.indexOf(o);a>-1&&r.splice(a,1)}let gh=!0,D_=!1;function fx(){return D_=!0,gh}function VA(){if(D_)throw new Error("Cannot enable prod mode after platform setup.");gh=!1}let UA=(()=>{class r{}return r.__NG_ELEMENT_ID__=mx,r})();function mx(r){return function _x(r,o,a){if(rs(r)&&!a){const c=dr(r.index,o);return new Hl(c,c)}return 47&r.type?new Hl(o[16],o):null}(sr(),Kt(),16==(16&r))}class AE{constructor(){}supports(o){return Op(o)}create(o){return new yg(o)}}const nD=(r,o)=>o;class yg{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||nD}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,g=null;for(;a||c;){const y=!c||a&&a.currentIndex<xE(c,h,g)?a:c,x=xE(y,h,g),M=y.currentIndex;if(y===c)h--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{g||(g=[]);const j=x-h,X=M-h;if(j!=X){for(let Xe=0;Xe<j;Xe++){const Ct=Xe<g.length?g[Xe]:g[Xe]=0,qt=Ct+Xe;X<=qt&&qt<j&&(g[Xe]=Ct+1)}g[y.previousIndex]=X-j}}x!==M&&o(y,x,M)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Op(o))throw new Te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let x=0;x<this.length;x++)g=o[x],y=this._trackByFn(x,g),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,g,y,x)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,y,x),c=!0),a=a._next}else h=0,function Ui(r,o){if(Array.isArray(r))for(let a=0;a<r.length;a++)o(r[a]);else{const a=r[cu()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,x=>{y=this._trackByFn(h,x),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,x,y,h)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,y,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,h)):o=this._addAfter(new IE(a,c),g,h),o}_verifyReinsertion(o,a,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new iD),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class IE{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class iD{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new HA,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xE(r,o,a){const c=r.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class vg{constructor(){}supports(o){return o instanceof Map||wm(o)}create(){return new $A}}class $A{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||wm(o)))throw new Te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const g=h._prev,y=h._next;return g&&(g._next=y),y&&(y._prev=g),h._next=null,h._prev=null,h}const c=new rD(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class rD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SE(){return new wu([new AE])}let wu=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||SE()),deps:[[r,new La,new Fa]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Te(901,!1)}}return r.\u0275prov=We({token:r,providedIn:"root",factory:SE}),r})();function To(){return new A_([new vg])}let A_=(()=>{class r{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||To()),deps:[[r,new La,new Fa]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Te(901,!1)}}return r.\u0275prov=We({token:r,providedIn:"root",factory:To}),r})();const zA=mE(null,"core",[]);let TE=(()=>{class r{constructor(a){}}return r.\u0275fac=function(a){return new(a||r)(Ri(b_))},r.\u0275mod=yt({type:r}),r.\u0275inj=ze({}),r})();function xf(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}},4006:(He,ge,D)=>{D.d(ge,{F:()=>Mr,Fj:()=>De,JJ:()=>it,JL:()=>J,JU:()=>he,On:()=>_t,Q7:()=>ga,_Y:()=>Bt,a5:()=>Tn,kI:()=>Be,sg:()=>Ws,u5:()=>qa});var f=D(4650),d=D(6895),k=D(8996),re=D(4128),ee=D(4004);let W=(()=>{class V{constructor(F,oe){this._renderer=F,this._elementRef=oe,this.onChange=Vt=>{},this.onTouched=()=>{}}setProperty(F,oe){this._renderer.setProperty(this._elementRef.nativeElement,F,oe)}registerOnTouched(F){this.onTouched=F}registerOnChange(F){this.onChange=F}setDisabledState(F){this.setProperty("disabled",F)}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.Qsj),f.Y36(f.SBq))},V.\u0275dir=f.lG2({type:V}),V})(),Ee=(()=>{class V extends W{}return V.\u0275fac=function(){let L;return function(oe){return(L||(L=f.n5z(V)))(oe||V)}}(),V.\u0275dir=f.lG2({type:V,features:[f.qOj]}),V})();const he=new f.OlP("NgValueAccessor"),ce={provide:he,useExisting:(0,f.Gpc)(()=>De),multi:!0},Re=new f.OlP("CompositionEventMode");let De=(()=>{class V extends W{constructor(F,oe,Vt){super(F,oe),this._compositionMode=Vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U(){const V=(0,d.q)()?(0,d.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(F){this.setProperty("value",F??"")}_handleInput(F){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(F)}_compositionStart(){this._composing=!0}_compositionEnd(F){this._composing=!1,this._compositionMode&&this.onChange(F)}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Re,8))},V.\u0275dir=f.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(F,oe){1&F&&f.NdJ("input",function(kn){return oe._handleInput(kn.target.value)})("blur",function(){return oe.onTouched()})("compositionstart",function(){return oe._compositionStart()})("compositionend",function(kn){return oe._compositionEnd(kn.target.value)})},features:[f._Bn([ce]),f.qOj]}),V})();function nt(V){return null==V||("string"==typeof V||Array.isArray(V))&&0===V.length}function Ze(V){return null!=V&&"number"==typeof V.length}const Fe=new f.OlP("NgValidators"),It=new f.OlP("NgAsyncValidators"),Et=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Be{static min(L){return function fe(V){return L=>{if(nt(L.value)||nt(V))return null;const F=parseFloat(L.value);return!isNaN(F)&&F<V?{min:{min:V,actual:L.value}}:null}}(L)}static max(L){return function Pe(V){return L=>{if(nt(L.value)||nt(V))return null;const F=parseFloat(L.value);return!isNaN(F)&&F>V?{max:{max:V,actual:L.value}}:null}}(L)}static required(L){return Ge(L)}static requiredTrue(L){return function qe(V){return!0===V.value?null:{required:!0}}(L)}static email(L){return function Ve(V){return nt(V.value)||Et.test(V.value)?null:{email:!0}}(L)}static minLength(L){return function wt(V){return L=>nt(L.value)||!Ze(L.value)?null:L.value.length<V?{minlength:{requiredLength:V,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function Zt(V){return L=>Ze(L.value)&&L.value.length>V?{maxlength:{requiredLength:V,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Ht(V){if(!V)return on;let L,F;return"string"==typeof V?(F="","^"!==V.charAt(0)&&(F+="^"),F+=V,"$"!==V.charAt(V.length-1)&&(F+="$"),L=new RegExp(F)):(F=V.toString(),L=V),oe=>{if(nt(oe.value))return null;const Vt=oe.value;return L.test(Vt)?null:{pattern:{requiredPattern:F,actualValue:Vt}}}}(L)}static nullValidator(L){return null}static compose(L){return ut(L)}static composeAsync(L){return gt(L)}}function Ge(V){return nt(V.value)?{required:!0}:null}function on(V){return null}function Gt(V){return null!=V}function fi(V){return(0,f.QGY)(V)?(0,k.D)(V):V}function Kn(V){let L={};return V.forEach(F=>{L=null!=F?{...L,...F}:L}),0===Object.keys(L).length?null:L}function yi(V,L){return L.map(F=>F(V))}function ht(V){return V.map(L=>function di(V){return!V.validate}(L)?L:F=>L.validate(F))}function ut(V){if(!V)return null;const L=V.filter(Gt);return 0==L.length?null:function(F){return Kn(yi(F,L))}}function Rt(V){return null!=V?ut(ht(V)):null}function gt(V){if(!V)return null;const L=V.filter(Gt);return 0==L.length?null:function(F){const oe=yi(F,L).map(fi);return(0,re.D)(oe).pipe((0,ee.U)(Kn))}}function Ut(V){return null!=V?gt(ht(V)):null}function We(V,L){return null===V?[L]:Array.isArray(V)?[...V,L]:[V,L]}function Yt(V){return V._rawValidators}function ze(V){return V._rawAsyncValidators}function et(V){return V?Array.isArray(V)?V:[V]:[]}function xt(V,L){return Array.isArray(V)?V.includes(L):V===L}function Wt(V,L){const F=et(L);return et(V).forEach(Vt=>{xt(F,Vt)||F.push(Vt)}),F}function nn(V,L){return et(L).filter(F=>!xt(V,F))}class pn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Rt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Ut(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,F){return!!this.control&&this.control.hasError(L,F)}getError(L,F){return this.control?this.control.getError(L,F):null}}class xn extends pn{get formDirective(){return null}get path(){return null}}class Tn extends pn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $n{constructor(L){this._cd=L}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let it=(()=>{class V extends $n{constructor(F){super(F)}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(Tn,2))},V.\u0275dir=f.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(F,oe){2&F&&f.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)},features:[f.qOj]}),V})(),J=(()=>{class V extends $n{constructor(F){super(F)}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(xn,10))},V.\u0275dir=f.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(F,oe){2&F&&f.ekj("ng-untouched",oe.isUntouched)("ng-touched",oe.isTouched)("ng-pristine",oe.isPristine)("ng-dirty",oe.isDirty)("ng-valid",oe.isValid)("ng-invalid",oe.isInvalid)("ng-pending",oe.isPending)("ng-submitted",oe.isSubmitted)},features:[f.qOj]}),V})();const Dt="VALID",Xt="INVALID",Pn="PENDING",mt="DISABLED";function Ke(V){return(an(V)?V.validators:V)||null}function Me(V){return Array.isArray(V)?Rt(V):V||null}function dt(V,L){return(an(L)?L.asyncValidators:V)||null}function yt(V){return Array.isArray(V)?Ut(V):V||null}function an(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class ie{constructor(L,F){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=F,this._composedValidatorFn=Me(this._rawValidators),this._composedAsyncValidatorFn=yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===Dt}get invalid(){return this.status===Xt}get pending(){return this.status==Pn}get disabled(){return this.status===mt}get enabled(){return this.status!==mt}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Me(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=yt(L)}addValidators(L){this.setValidators(Wt(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators(Wt(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(nn(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(nn(L,this._rawAsyncValidators))}hasValidator(L){return xt(this._rawValidators,L)}hasAsyncValidator(L){return xt(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(F=>{F.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(F=>{F.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=Pn,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const F=this._parentMarkedDirty(L.onlySelf);this.status=mt,this.errors=null,this._forEachChild(oe=>{oe.disable({...L,onlySelf:!0})}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...L,skipPristineCheck:F}),this._onDisabledChange.forEach(oe=>oe(!0))}enable(L={}){const F=this._parentMarkedDirty(L.onlySelf);this.status=Dt,this._forEachChild(oe=>{oe.enable({...L,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors({...L,skipPristineCheck:F}),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}getRawValue(){return this.value}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===Pn)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(F=>F._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mt:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=Pn,this._hasOwnPendingAsyncValidator=!0;const F=fi(this.asyncValidator(this));this._asyncValidationSubscription=F.subscribe(oe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(oe,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,F={}){this.errors=L,this._updateControlsErrors(!1!==F.emitEvent)}get(L){let F=L;return null==F||(Array.isArray(F)||(F=F.split(".")),0===F.length)?null:F.reduce((oe,Vt)=>oe&&oe._find(Vt),this)}getError(L,F){const oe=F?this.get(F):this;return oe&&oe.errors?oe.errors[L]:null}hasError(L,F){return!!this.getError(L,F)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?mt:this.errors?Xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pn)?Pn:this._anyControlsHaveStatus(Xt)?Xt:Dt}_anyControlsHaveStatus(L){return this._anyControls(F=>F.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){an(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(L){return null}}class q extends ie{constructor(L,F,oe){super(Ke(F),dt(oe,F)),this.controls=L,this._initObservables(),this._setUpdateStrategy(F),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,F){return this.controls[L]?this.controls[L]:(this.controls[L]=F,F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange),F)}addControl(L,F,oe={}){this.registerControl(L,F),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(L,F={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:F.emitEvent}),this._onCollectionChange()}setControl(L,F,oe={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],F&&this.registerControl(L,F),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,F={}){(function xe(V,L,F){V._forEachChild((oe,Vt)=>{if(void 0===F[Vt])throw new f.vHH(1002,"")})})(this,0,L),Object.keys(L).forEach(oe=>{(function Ae(V,L,F){const oe=V.controls;if(!(L?Object.keys(oe):oe).length)throw new f.vHH(1e3,"");if(!oe[F])throw new f.vHH(1001,"")})(this,!0,oe),this.controls[oe].setValue(L[oe],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F)}patchValue(L,F={}){null!=L&&(Object.keys(L).forEach(oe=>{const Vt=this.controls[oe];Vt&&Vt.patchValue(L[oe],{onlySelf:!0,emitEvent:F.emitEvent})}),this.updateValueAndValidity(F))}reset(L={},F={}){this._forEachChild((oe,Vt)=>{oe.reset(L[Vt],{onlySelf:!0,emitEvent:F.emitEvent})}),this._updatePristine(F),this._updateTouched(F),this.updateValueAndValidity(F)}getRawValue(){return this._reduceChildren({},(L,F,oe)=>(L[oe]=F.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(F,oe)=>!!oe._syncPendingControls()||F);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_forEachChild(L){Object.keys(this.controls).forEach(F=>{const oe=this.controls[F];oe&&L(oe,F)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const[F,oe]of Object.entries(this.controls))if(this.contains(F)&&L(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(F,oe,Vt)=>((oe.enabled||this.disabled)&&(F[Vt]=oe.value),F))}_reduceChildren(L,F){let oe=L;return this._forEachChild((Vt,kn)=>{oe=F(oe,Vt,kn)}),oe}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(L){return this.controls.hasOwnProperty(L)?this.controls[L]:null}}function _e(V,L){bt(V,L),L.valueAccessor.writeValue(V.value),V.disabled&&L.valueAccessor.setDisabledState?.(!0),function Nn(V,L){L.valueAccessor.registerOnChange(F=>{V._pendingValue=F,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&lt(V,L)})}(V,L),function zt(V,L){const F=(oe,Vt)=>{L.valueAccessor.writeValue(oe),Vt&&L.viewToModelUpdate(oe)};V.registerOnChange(F),L._registerOnDestroy(()=>{V._unregisterOnChange(F)})}(V,L),function ft(V,L){L.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&lt(V,L),"submit"!==V.updateOn&&V.markAsTouched()})}(V,L),function Ye(V,L){if(L.valueAccessor.setDisabledState){const F=oe=>{L.valueAccessor.setDisabledState(oe)};V.registerOnDisabledChange(F),L._registerOnDestroy(()=>{V._unregisterOnDisabledChange(F)})}}(V,L)}function Ce(V,L,F=!0){const oe=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(oe),L.valueAccessor.registerOnTouched(oe)),cn(V,L),V&&(L._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function ue(V,L){V.forEach(F=>{F.registerOnValidatorChange&&F.registerOnValidatorChange(L)})}function bt(V,L){const F=Yt(V);null!==L.validator?V.setValidators(We(F,L.validator)):"function"==typeof F&&V.setValidators([F]);const oe=ze(V);null!==L.asyncValidator?V.setAsyncValidators(We(oe,L.asyncValidator)):"function"==typeof oe&&V.setAsyncValidators([oe]);const Vt=()=>V.updateValueAndValidity();ue(L._rawValidators,Vt),ue(L._rawAsyncValidators,Vt)}function cn(V,L){let F=!1;if(null!==V){if(null!==L.validator){const Vt=Yt(V);if(Array.isArray(Vt)&&Vt.length>0){const kn=Vt.filter(ai=>ai!==L.validator);kn.length!==Vt.length&&(F=!0,V.setValidators(kn))}}if(null!==L.asyncValidator){const Vt=ze(V);if(Array.isArray(Vt)&&Vt.length>0){const kn=Vt.filter(ai=>ai!==L.asyncValidator);kn.length!==Vt.length&&(F=!0,V.setAsyncValidators(kn))}}}const oe=()=>{};return ue(L._rawValidators,oe),ue(L._rawAsyncValidators,oe),F}function lt(V,L){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function Qt(V,L){bt(V,L)}function ir(V,L){V._syncPendingControls(),L.forEach(F=>{const oe=F.control;"submit"===oe.updateOn&&oe._pendingChange&&(F.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}const Ms={provide:xn,useExisting:(0,f.Gpc)(()=>Mr)},Tr=(()=>Promise.resolve())();let Mr=(()=>{class V extends xn{constructor(F,oe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new f.vpe,this.form=new q({},Rt(F),Ut(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(F){Tr.then(()=>{const oe=this._findContainer(F.path);F.control=oe.registerControl(F.name,F.control),_e(F.control,F),F.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(F)})}getControl(F){return this.form.get(F.path)}removeControl(F){Tr.then(()=>{const oe=this._findContainer(F.path);oe&&oe.removeControl(F.name),this._directives.delete(F)})}addFormGroup(F){Tr.then(()=>{const oe=this._findContainer(F.path),Vt=new q({});Qt(Vt,F),oe.registerControl(F.name,Vt),Vt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(F){Tr.then(()=>{const oe=this._findContainer(F.path);oe&&oe.removeControl(F.name)})}getFormGroup(F){return this.form.get(F.path)}updateModel(F,oe){Tr.then(()=>{this.form.get(F.path).setValue(oe)})}setValue(F){this.control.setValue(F)}onSubmit(F){return this.submitted=!0,ir(this.form,this._directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(F){return F.pop(),F.length?this.form.get(F):this.form}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(Fe,10),f.Y36(It,10))},V.\u0275dir=f.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(F,oe){1&F&&f.NdJ("submit",function(kn){return oe.onSubmit(kn)})("reset",function(){return oe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ms]),f.qOj]}),V})();function Oi(V,L){const F=V.indexOf(L);F>-1&&V.splice(F,1)}function _s(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}const tr=class extends ie{constructor(L=null,F,oe){super(Ke(F),dt(oe,F)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(L),this._setUpdateStrategy(F),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),an(F)&&(F.nonNullable||F.initialValueIsDefault)&&(this.defaultValue=_s(L)?L.value:L)}setValue(L,F={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==F.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==F.emitViewToModelChange)),this.updateValueAndValidity(F)}patchValue(L,F={}){this.setValue(L,F)}reset(L=this.defaultValue,F={}){this._applyFormState(L),this.markAsPristine(F),this.markAsUntouched(F),this.setValue(this.value,F),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Oi(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Oi(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){_s(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}},ke={provide:Tn,useExisting:(0,f.Gpc)(()=>_t)},Tt=(()=>Promise.resolve())();let _t=(()=>{class V extends Tn{constructor(F,oe,Vt,kn,ai){super(),this._changeDetectorRef=ai,this.control=new tr,this._registered=!1,this.update=new f.vpe,this._parent=F,this._setValidators(oe),this._setAsyncValidators(Vt),this.valueAccessor=function gs(V,L){if(!L)return null;let F,oe,Vt;return Array.isArray(L),L.forEach(kn=>{kn.constructor===De?F=kn:function Sr(V){return Object.getPrototypeOf(V.constructor)===Ee}(kn)?oe=kn:Vt=kn}),Vt||oe||F||null}(0,kn)}ngOnChanges(F){if(this._checkForErrors(),!this._registered||"name"in F){if(this._registered&&(this._checkName(),this.formDirective)){const oe=F.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in F&&this._updateDisabled(F),function er(V,L){if(!V.hasOwnProperty("model"))return!1;const F=V.model;return!!F.isFirstChange()||!Object.is(L,F.currentValue)}(F,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(F){this.viewModel=F,this.update.emit(F)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_e(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(F){Tt.then(()=>{this.control.setValue(F,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(F){const oe=F.isDisabled.currentValue,Vt=0!==oe&&(0,f.D6c)(oe);Tt.then(()=>{Vt&&!this.control.disabled?this.control.disable():!Vt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(F){return this._parent?function Cn(V,L){return[...L.path,V]}(F,this._parent):[F]}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(xn,9),f.Y36(Fe,10),f.Y36(It,10),f.Y36(he,10),f.Y36(f.sBO,8))},V.\u0275dir=f.lG2({type:V,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([ke]),f.qOj,f.TTD]}),V})(),Bt=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275dir=f.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})(),Yi=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({}),V})();const po={provide:xn,useExisting:(0,f.Gpc)(()=>Ws)};let Ws=(()=>{class V extends xn{constructor(F,oe){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(F),this._setAsyncValidators(oe)}ngOnChanges(F){this._checkFormPresent(),F.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(F){const oe=this.form.get(F.path);return _e(oe,F),oe.updateValueAndValidity({emitEvent:!1}),this.directives.push(F),oe}getControl(F){return this.form.get(F.path)}removeControl(F){Ce(F.control||null,F,!1),function ms(V,L){const F=V.indexOf(L);F>-1&&V.splice(F,1)}(this.directives,F)}addFormGroup(F){this._setUpFormContainer(F)}removeFormGroup(F){this._cleanUpFormContainer(F)}getFormGroup(F){return this.form.get(F.path)}addFormArray(F){this._setUpFormContainer(F)}removeFormArray(F){this._cleanUpFormContainer(F)}getFormArray(F){return this.form.get(F.path)}updateModel(F,oe){this.form.get(F.path).setValue(oe)}onSubmit(F){return this.submitted=!0,ir(this.form,this.directives),this.ngSubmit.emit(F),"dialog"===F?.target?.method}onReset(){this.resetForm()}resetForm(F){this.form.reset(F),this.submitted=!1}_updateDomValue(){this.directives.forEach(F=>{const oe=F.control,Vt=this.form.get(F.path);oe!==Vt&&(Ce(oe||null,F),(V=>V instanceof tr)(Vt)&&(_e(Vt,F),F.control=Vt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(F){const oe=this.form.get(F.path);Qt(oe,F),oe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(F){if(this.form){const oe=this.form.get(F.path);oe&&function Mn(V,L){return cn(V,L)}(oe,F)&&oe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){bt(this.form,this),this._oldForm&&cn(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(F){return new(F||V)(f.Y36(Fe,10),f.Y36(It,10))},V.\u0275dir=f.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(F,oe){1&F&&f.NdJ("submit",function(kn){return oe.onSubmit(kn)})("reset",function(){return oe.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([po]),f.qOj,f.TTD]}),V})(),Lo=(()=>{class V{constructor(){this._validator=on}ngOnChanges(F){if(this.inputName in F){const oe=this.normalizeInput(F[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):on,this._onChange&&this._onChange()}}validate(F){return this._validator(F)}registerOnValidatorChange(F){this._onChange=F}enabled(F){return null!=F}}return V.\u0275fac=function(F){return new(F||V)},V.\u0275dir=f.lG2({type:V,features:[f.TTD]}),V})();const go={provide:Fe,useExisting:(0,f.Gpc)(()=>ga),multi:!0};let ga=(()=>{class V extends Lo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=f.D6c,this.createValidator=F=>Ge}enabled(F){return F}}return V.\u0275fac=function(){let L;return function(oe){return(L||(L=f.n5z(V)))(oe||V)}}(),V.\u0275dir=f.lG2({type:V,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(F,oe){2&F&&f.uIk("required",oe._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([go]),f.qOj]}),V})(),ma=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({imports:[Yi]}),V})(),qa=(()=>{class V{}return V.\u0275fac=function(F){return new(F||V)},V.\u0275mod=f.oAB({type:V}),V.\u0275inj=f.cJS({imports:[ma]}),V})()},4859:(He,ge,D)=>{D.d(ge,{lW:()=>z,ot:()=>U});var f=D(4650),d=D(3238),k=D(2687);const re=["mat-button",""],ee=["*"],he=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],de=(0,d.pj)((0,d.Id)((0,d.Kr)(class{constructor(Re){this._elementRef=Re}})));let z=(()=>{class Re extends de{constructor(Te,nt,Ze){super(Te),this._focusMonitor=nt,this._animationMode=Ze,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Fe of he)this._hasHostAttributes(Fe)&&this._getHostElement().classList.add(Fe);Te.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Te,nt){Te?this._focusMonitor.focusVia(this._getHostElement(),Te,nt):this._getHostElement().focus(nt)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Te){return Te.some(nt=>this._getHostElement().hasAttribute(nt))}}return Re.\u0275fac=function(Te){return new(Te||Re)(f.Y36(f.SBq),f.Y36(k.tE),f.Y36(f.QbO,8))},Re.\u0275cmp=f.Xpm({type:Re,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Te,nt){if(1&Te&&f.Gf(d.wG,5),2&Te){let Ze;f.iGM(Ze=f.CRH())&&(nt.ripple=Ze.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Te,nt){2&Te&&(f.uIk("disabled",nt.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===nt._animationMode)("mat-button-disabled",nt.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:re,ngContentSelectors:ee,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Te,nt){1&Te&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1)(3,"span",2)),2&Te&&(f.xp6(2),f.ekj("mat-button-ripple-round",nt.isRoundButton||nt.isIconButton),f.Q6J("matRippleDisabled",nt._isRippleDisabled())("matRippleCentered",nt.isIconButton)("matRippleTrigger",nt._getHostElement()))},dependencies:[d.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),Re})(),U=(()=>{class Re{}return Re.\u0275fac=function(Te){return new(Te||Re)},Re.\u0275mod=f.oAB({type:Re}),Re.\u0275inj=f.cJS({imports:[d.si,d.BQ,d.BQ]}),Re})()},3238:(He,ge,D)=>{D.d(ge,{rD:()=>Ut,BQ:()=>It,X2:()=>We,uc:()=>et,nP:()=>te,us:()=>ve,wG:()=>it,si:()=>J,pj:()=>Ge,Kr:()=>qe,Id:()=>Pe,FD:()=>wt,E0:()=>Yt});var f=D(4650),d=D(2687),k=D(445),ee=D(6895),W=D(3353),Ee=D(1281),he=D(8675);const Fe=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ze(){return!0}});let It=(()=>{class pt{constructor(Oe,Dt,Xt){this._sanityChecks=Dt,this._document=Xt,this._hasDoneGlobalChecks=!1,Oe._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(Oe){return!(0,W.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[Oe])}}return pt.\u0275fac=function(Oe){return new(Oe||pt)(f.LFG(d.qm),f.LFG(Fe,8),f.LFG(ee.K0))},pt.\u0275mod=f.oAB({type:pt}),pt.\u0275inj=f.cJS({imports:[k.vT,k.vT]}),pt})();function Pe(pt){return class extends pt{constructor(...Ue){super(...Ue),this._disabled=!1}get disabled(){return this._disabled}set disabled(Ue){this._disabled=(0,Ee.Ig)(Ue)}}}function Ge(pt,Ue){return class extends pt{constructor(...Oe){super(...Oe),this.defaultColor=Ue,this.color=Ue}get color(){return this._color}set color(Oe){const Dt=Oe||this.defaultColor;Dt!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Dt&&this._elementRef.nativeElement.classList.add(`mat-${Dt}`),this._color=Dt)}}}function qe(pt){return class extends pt{constructor(...Ue){super(...Ue),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Ue){this._disableRipple=(0,Ee.Ig)(Ue)}}}function wt(pt){return class extends pt{constructor(...Ue){super(...Ue),this.errorState=!1}updateErrorState(){const Ue=this.errorState,Pn=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);Pn!==Ue&&(this.errorState=Pn,this.stateChanges.next())}}}let Ut=(()=>{class pt{isErrorState(Oe,Dt){return!!(Oe&&Oe.invalid&&(Oe.touched||Dt&&Dt.submitted))}}return pt.\u0275fac=function(Oe){return new(Oe||pt)},pt.\u0275prov=f.Yz7({token:pt,factory:pt.\u0275fac,providedIn:"root"}),pt})(),We=(()=>{class pt{}return pt.\u0275fac=function(Oe){return new(Oe||pt)},pt.\u0275dir=f.lG2({type:pt,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),pt})();function Yt(pt,Ue,Oe="mat"){pt.changes.pipe((0,he.O)(pt)).subscribe(({length:Dt})=>{ze(Ue,`${Oe}-2-line`,!1),ze(Ue,`${Oe}-3-line`,!1),ze(Ue,`${Oe}-multi-line`,!1),2===Dt||3===Dt?ze(Ue,`${Oe}-${Dt}-line`,!0):Dt>3&&ze(Ue,`${Oe}-multi-line`,!0)})}function ze(pt,Ue,Oe){pt.nativeElement.classList.toggle(Ue,Oe)}let et=(()=>{class pt{}return pt.\u0275fac=function(Oe){return new(Oe||pt)},pt.\u0275mod=f.oAB({type:pt}),pt.\u0275inj=f.cJS({imports:[It,It]}),pt})();class xt{constructor(Ue,Oe,Dt,Xt=!1){this._renderer=Ue,this.element=Oe,this.config=Dt,this._animationForciblyDisabledThroughCss=Xt,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Wt={enterDuration:225,exitDuration:150},pn=(0,W.i$)({passive:!0}),xn=["mousedown","touchstart"],Tn=["mouseup","mouseleave","touchend","touchcancel"];class $n{constructor(Ue,Oe,Dt,Xt){this._target=Ue,this._ngZone=Oe,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,Xt.isBrowser&&(this._containerElement=(0,Ee.fI)(Dt))}fadeInRipple(Ue,Oe,Dt={}){const Xt=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),Pn={...Wt,...Dt.animation};Dt.centered&&(Ue=Xt.left+Xt.width/2,Oe=Xt.top+Xt.height/2);const mt=Dt.radius||function Un(pt,Ue,Oe){const Dt=Math.max(Math.abs(pt-Oe.left),Math.abs(pt-Oe.right)),Xt=Math.max(Math.abs(Ue-Oe.top),Math.abs(Ue-Oe.bottom));return Math.sqrt(Dt*Dt+Xt*Xt)}(Ue,Oe,Xt),Ke=Ue-Xt.left,Me=Oe-Xt.top,dt=Pn.enterDuration,yt=document.createElement("div");yt.classList.add("mat-ripple-element"),yt.style.left=Ke-mt+"px",yt.style.top=Me-mt+"px",yt.style.height=2*mt+"px",yt.style.width=2*mt+"px",null!=Dt.color&&(yt.style.backgroundColor=Dt.color),yt.style.transitionDuration=`${dt}ms`,this._containerElement.appendChild(yt);const an=window.getComputedStyle(yt),xe=an.transitionDuration,ie="none"===an.transitionProperty||"0s"===xe||"0s, 0s"===xe,q=new xt(this,yt,Dt,ie);yt.style.transform="scale3d(1, 1, 1)",q.state=0,Dt.persistent||(this._mostRecentTransientRipple=q);let K=null;return!ie&&(dt||Pn.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Je=()=>this._finishRippleTransition(q),Lt=()=>this._destroyRipple(q);yt.addEventListener("transitionend",Je),yt.addEventListener("transitioncancel",Lt),K={onTransitionEnd:Je,onTransitionCancel:Lt}}),this._activeRipples.set(q,K),(ie||!dt)&&this._finishRippleTransition(q),q}fadeOutRipple(Ue){if(2===Ue.state||3===Ue.state)return;const Oe=Ue.element,Dt={...Wt,...Ue.config.animation};Oe.style.transitionDuration=`${Dt.exitDuration}ms`,Oe.style.opacity="0",Ue.state=2,(Ue._animationForciblyDisabledThroughCss||!Dt.exitDuration)&&this._finishRippleTransition(Ue)}fadeOutAll(){this._getActiveRipples().forEach(Ue=>Ue.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(Ue=>{Ue.config.persistent||Ue.fadeOut()})}setupTriggerEvents(Ue){const Oe=(0,Ee.fI)(Ue);!Oe||Oe===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=Oe,this._registerEvents(xn))}handleEvent(Ue){"mousedown"===Ue.type?this._onMousedown(Ue):"touchstart"===Ue.type?this._onTouchStart(Ue):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Tn),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(Ue){0===Ue.state?this._startFadeOutTransition(Ue):2===Ue.state&&this._destroyRipple(Ue)}_startFadeOutTransition(Ue){const Oe=Ue===this._mostRecentTransientRipple,{persistent:Dt}=Ue.config;Ue.state=1,!Dt&&(!Oe||!this._isPointerDown)&&Ue.fadeOut()}_destroyRipple(Ue){const Oe=this._activeRipples.get(Ue)??null;this._activeRipples.delete(Ue),this._activeRipples.size||(this._containerRect=null),Ue===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),Ue.state=3,null!==Oe&&(Ue.element.removeEventListener("transitionend",Oe.onTransitionEnd),Ue.element.removeEventListener("transitioncancel",Oe.onTransitionCancel)),Ue.element.remove()}_onMousedown(Ue){const Oe=(0,d.X6)(Ue),Dt=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!Oe&&!Dt&&(this._isPointerDown=!0,this.fadeInRipple(Ue.clientX,Ue.clientY,this._target.rippleConfig))}_onTouchStart(Ue){if(!this._target.rippleDisabled&&!(0,d.yG)(Ue)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const Oe=Ue.changedTouches;for(let Dt=0;Dt<Oe.length;Dt++)this.fadeInRipple(Oe[Dt].clientX,Oe[Dt].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(Ue=>{!Ue.config.persistent&&(1===Ue.state||Ue.config.terminateOnPointerUp&&0===Ue.state)&&Ue.fadeOut()}))}_registerEvents(Ue){this._ngZone.runOutsideAngular(()=>{Ue.forEach(Oe=>{this._triggerElement.addEventListener(Oe,this,pn)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(xn.forEach(Ue=>{this._triggerElement.removeEventListener(Ue,this,pn)}),this._pointerUpEventsRegistered&&Tn.forEach(Ue=>{this._triggerElement.removeEventListener(Ue,this,pn)}))}}const pi=new f.OlP("mat-ripple-global-options");let it=(()=>{class pt{constructor(Oe,Dt,Xt,Pn,mt){this._elementRef=Oe,this._animationMode=mt,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=Pn||{},this._rippleRenderer=new $n(this,Dt,Oe,Xt)}get disabled(){return this._disabled}set disabled(Oe){Oe&&this.fadeOutAllNonPersistent(),this._disabled=Oe,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(Oe){this._trigger=Oe,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(Oe,Dt=0,Xt){return"number"==typeof Oe?this._rippleRenderer.fadeInRipple(Oe,Dt,{...this.rippleConfig,...Xt}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...Oe})}}return pt.\u0275fac=function(Oe){return new(Oe||pt)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(W.t4),f.Y36(pi,8),f.Y36(f.QbO,8))},pt.\u0275dir=f.lG2({type:pt,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(Oe,Dt){2&Oe&&f.ekj("mat-ripple-unbounded",Dt.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),pt})(),J=(()=>{class pt{}return pt.\u0275fac=function(Oe){return new(Oe||pt)},pt.\u0275mod=f.oAB({type:pt}),pt.\u0275inj=f.cJS({imports:[It,It]}),pt})(),te=(()=>{class pt{constructor(Oe){this._animationMode=Oe,this.state="unchecked",this.disabled=!1}}return pt.\u0275fac=function(Oe){return new(Oe||pt)(f.Y36(f.QbO,8))},pt.\u0275cmp=f.Xpm({type:pt,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(Oe,Dt){2&Oe&&f.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Dt.state)("mat-pseudo-checkbox-checked","checked"===Dt.state)("mat-pseudo-checkbox-disabled",Dt.disabled)("_mat-animation-noopable","NoopAnimations"===Dt._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(Oe,Dt){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),pt})(),ve=(()=>{class pt{}return pt.\u0275fac=function(Oe){return new(Oe||pt)},pt.\u0275mod=f.oAB({type:pt}),pt.\u0275inj=f.cJS({imports:[It]}),pt})()},5412:(He,ge,D)=>{D.d(ge,{uw:()=>pn,H8:()=>pi,ZT:()=>Tn,xY:()=>Un,Is:()=>J,so:()=>Rt,uh:()=>$n});var f=D(2687),d=D(8184),k=D(3353),re=D(4080),ee=D(6895),W=D(4650),Ee=D(9521),he=D(7579),de=D(9770),z=D(9646),ce=D(445),U=D(8675);function Re(te,ve){}class De{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let nt=(()=>{class te extends re.en{constructor(ne,Ie,ot,Ne,pe,le,ye,me){super(),this._elementRef=ne,this._focusTrapFactory=Ie,this._config=Ne,this._interactivityChecker=pe,this._ngZone=le,this._overlayRef=ye,this._focusMonitor=me,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=ae=>{this._portalOutlet.hasAttached();const tt=this._portalOutlet.attachDomPortal(ae);return this._contentAttached(),tt},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=ot}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(ne){this._portalOutlet.hasAttached();const Ie=this._portalOutlet.attachComponentPortal(ne);return this._contentAttached(),Ie}attachTemplatePortal(ne){this._portalOutlet.hasAttached();const Ie=this._portalOutlet.attachTemplatePortal(ne);return this._contentAttached(),Ie}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(ne,Ie){this._interactivityChecker.isFocusable(ne)||(ne.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const ot=()=>{ne.removeEventListener("blur",ot),ne.removeEventListener("mousedown",ot),ne.removeAttribute("tabindex")};ne.addEventListener("blur",ot),ne.addEventListener("mousedown",ot)})),ne.focus(Ie)}_focusByCssSelector(ne,Ie){let ot=this._elementRef.nativeElement.querySelector(ne);ot&&this._forceFocus(ot,Ie)}_trapFocus(){const ne=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||ne.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ie=>{Ie||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const ne=this._config.restoreFocus;let Ie=null;if("string"==typeof ne?Ie=this._document.querySelector(ne):"boolean"==typeof ne?Ie=ne?this._elementFocusedBeforeDialogWasOpened:null:ne&&(Ie=ne),this._config.restoreFocus&&Ie&&"function"==typeof Ie.focus){const ot=(0,k.ht)(),Ne=this._elementRef.nativeElement;(!ot||ot===this._document.body||ot===Ne||Ne.contains(ot))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ie,this._closeInteractionType),this._closeInteractionType=null):Ie.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const ne=this._elementRef.nativeElement,Ie=(0,k.ht)();return ne===Ie||ne.contains(Ie)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,k.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return te.\u0275fac=function(ne){return new(ne||te)(W.Y36(W.SBq),W.Y36(f.qV),W.Y36(ee.K0,8),W.Y36(De),W.Y36(f.ic),W.Y36(W.R0b),W.Y36(d.Iu),W.Y36(f.tE))},te.\u0275cmp=W.Xpm({type:te,selectors:[["cdk-dialog-container"]],viewQuery:function(ne,Ie){if(1&ne&&W.Gf(re.Pl,7),2&ne){let ot;W.iGM(ot=W.CRH())&&(Ie._portalOutlet=ot.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(ne,Ie){2&ne&&W.uIk("id",Ie._config.id||null)("role",Ie._config.role)("aria-modal",Ie._config.ariaModal)("aria-labelledby",Ie._config.ariaLabel?null:Ie._ariaLabelledBy)("aria-label",Ie._config.ariaLabel)("aria-describedby",Ie._config.ariaDescribedBy||null)},features:[W.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ne,Ie){1&ne&&W.YNc(0,Re,0,0,"ng-template",0)},dependencies:[re.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),te})();class Ze{constructor(ve,ne){this.overlayRef=ve,this.config=ne,this.closed=new he.x,this.disableClose=ne.disableClose,this.backdropClick=ve.backdropClick(),this.keydownEvents=ve.keydownEvents(),this.outsidePointerEvents=ve.outsidePointerEvents(),this.id=ne.id,this.keydownEvents.subscribe(Ie=>{Ie.keyCode===Ee.hY&&!this.disableClose&&!(0,Ee.Vb)(Ie)&&(Ie.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(ve,ne){if(this.containerInstance){const Ie=this.closed;this.containerInstance._closeInteractionType=ne?.focusOrigin||"program",this.overlayRef.dispose(),Ie.next(ve),Ie.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(ve="",ne=""){return this.overlayRef.updateSize({width:ve,height:ne}),this}addPanelClass(ve){return this.overlayRef.addPanelClass(ve),this}removePanelClass(ve){return this.overlayRef.removePanelClass(ve),this}}const Fe=new W.OlP("DialogScrollStrategy"),It=new W.OlP("DialogData"),Et=new W.OlP("DefaultDialogConfig"),fe={provide:Fe,deps:[d.aV],useFactory:function Be(te){return()=>te.scrollStrategies.block()}};let Pe=0,Ge=(()=>{class te{constructor(ne,Ie,ot,Ne,pe,le){this._overlay=ne,this._injector=Ie,this._defaultOptions=ot,this._parentDialog=Ne,this._overlayContainer=pe,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he.x,this._afterOpenedAtThisLevel=new he.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,de.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,U.O)(void 0))),this._scrollStrategy=le}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(ne,Ie){(Ie={...this._defaultOptions||new De,...Ie}).id=Ie.id||"cdk-dialog-"+Pe++,Ie.id&&this.getDialogById(Ie.id);const Ne=this._getOverlayConfig(Ie),pe=this._overlay.create(Ne),le=new Ze(pe,Ie),ye=this._attachContainer(pe,le,Ie);return le.containerInstance=ye,this._attachDialogContent(ne,le,ye,Ie),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(le),le.closed.subscribe(()=>this._removeOpenDialog(le,!0)),this.afterOpened.next(le),le}closeAll(){qe(this.openDialogs,ne=>ne.close())}getDialogById(ne){return this.openDialogs.find(Ie=>Ie.id===ne)}ngOnDestroy(){qe(this._openDialogsAtThisLevel,ne=>{!1===ne.config.closeOnDestroy&&this._removeOpenDialog(ne,!1)}),qe(this._openDialogsAtThisLevel,ne=>ne.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(ne){const Ie=new d.X_({positionStrategy:ne.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:ne.scrollStrategy||this._scrollStrategy(),panelClass:ne.panelClass,hasBackdrop:ne.hasBackdrop,direction:ne.direction,minWidth:ne.minWidth,minHeight:ne.minHeight,maxWidth:ne.maxWidth,maxHeight:ne.maxHeight,width:ne.width,height:ne.height,disposeOnNavigation:ne.closeOnNavigation});return ne.backdropClass&&(Ie.backdropClass=ne.backdropClass),Ie}_attachContainer(ne,Ie,ot){const Ne=ot.injector||ot.viewContainerRef?.injector,pe=[{provide:De,useValue:ot},{provide:Ze,useValue:Ie},{provide:d.Iu,useValue:ne}];let le;ot.container?"function"==typeof ot.container?le=ot.container:(le=ot.container.type,pe.push(...ot.container.providers(ot))):le=nt;const ye=new re.C5(le,ot.viewContainerRef,W.zs3.create({parent:Ne||this._injector,providers:pe}),ot.componentFactoryResolver);return ne.attach(ye).instance}_attachDialogContent(ne,Ie,ot,Ne){if(ne instanceof W.Rgc){const pe=this._createInjector(Ne,Ie,ot,void 0);let le={$implicit:Ne.data,dialogRef:Ie};Ne.templateContext&&(le={...le,..."function"==typeof Ne.templateContext?Ne.templateContext():Ne.templateContext}),ot.attachTemplatePortal(new re.UE(ne,null,le,pe))}else{const pe=this._createInjector(Ne,Ie,ot,this._injector),le=ot.attachComponentPortal(new re.C5(ne,Ne.viewContainerRef,pe,Ne.componentFactoryResolver));Ie.componentInstance=le.instance}}_createInjector(ne,Ie,ot,Ne){const pe=ne.injector||ne.viewContainerRef?.injector,le=[{provide:It,useValue:ne.data},{provide:Ze,useValue:Ie}];return ne.providers&&("function"==typeof ne.providers?le.push(...ne.providers(Ie,ne,ot)):le.push(...ne.providers)),ne.direction&&(!pe||!pe.get(ce.Is,null,W.XFs.Optional))&&le.push({provide:ce.Is,useValue:{value:ne.direction,change:(0,z.of)()}}),W.zs3.create({parent:pe||Ne,providers:le})}_removeOpenDialog(ne,Ie){const ot=this.openDialogs.indexOf(ne);ot>-1&&(this.openDialogs.splice(ot,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Ne,pe)=>{Ne?pe.setAttribute("aria-hidden",Ne):pe.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ie&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const ne=this._overlayContainer.getContainerElement();if(ne.parentElement){const Ie=ne.parentElement.children;for(let ot=Ie.length-1;ot>-1;ot--){const Ne=Ie[ot];Ne!==ne&&"SCRIPT"!==Ne.nodeName&&"STYLE"!==Ne.nodeName&&!Ne.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Ne,Ne.getAttribute("aria-hidden")),Ne.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return te.\u0275fac=function(ne){return new(ne||te)(W.LFG(d.aV),W.LFG(W.zs3),W.LFG(Et,8),W.LFG(te,12),W.LFG(d.Xj),W.LFG(Fe))},te.\u0275prov=W.Yz7({token:te,factory:te.\u0275fac}),te})();function qe(te,ve){let ne=te.length;for(;ne--;)ve(te[ne])}let Ve=(()=>{class te{}return te.\u0275fac=function(ne){return new(ne||te)},te.\u0275mod=W.oAB({type:te}),te.\u0275inj=W.cJS({providers:[Ge,fe],imports:[d.U8,re.eL,f.rt,re.eL]}),te})();var wt=D(3238),Zt=D(6451),Ht=D(9300),on=D(5698),Gt=D(7340);function fi(te,ve){}const Kn={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},yi={dialogContainer:(0,Gt.X$)("dialogContainer",[(0,Gt.SB)("void, exit",(0,Gt.oB)({opacity:0,transform:"scale(0.7)"})),(0,Gt.SB)("enter",(0,Gt.oB)({transform:"none"})),(0,Gt.eR)("* => enter",(0,Gt.ru)([(0,Gt.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,Gt.oB)({transform:"none",opacity:1})),(0,Gt.IO)("@*",(0,Gt.pV)(),{optional:!0})]),Kn),(0,Gt.eR)("* => void, * => exit",(0,Gt.ru)([(0,Gt.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,Gt.oB)({opacity:0})),(0,Gt.IO)("@*",(0,Gt.pV)(),{optional:!0})]),Kn)])};class di{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Kn.params.enterAnimationDuration,this.exitAnimationDuration=Kn.params.exitAnimationDuration}}let ht=(()=>{class te extends nt{constructor(ne,Ie,ot,Ne,pe,le,ye,me){super(ne,Ie,ot,Ne,pe,le,ye,me),this._animationStateChanged=new W.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(ne){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ne})}}return te.\u0275fac=function(ne){return new(ne||te)(W.Y36(W.SBq),W.Y36(f.qV),W.Y36(ee.K0,8),W.Y36(di),W.Y36(f.ic),W.Y36(W.R0b),W.Y36(d.Iu),W.Y36(f.tE))},te.\u0275cmp=W.Xpm({type:te,selectors:[["ng-component"]],features:[W.qOj],decls:0,vars:0,template:function(ne,Ie){},encapsulation:2}),te})(),ut=(()=>{class te extends ht{constructor(ne,Ie,ot,Ne,pe,le,ye,me,ae){super(ne,Ie,ot,Ne,pe,le,ye,ae),this._changeDetectorRef=me,this._state="enter"}_onAnimationDone({toState:ne,totalTime:Ie}){"enter"===ne?this._openAnimationDone(Ie):"exit"===ne&&this._animationStateChanged.next({state:"closed",totalTime:Ie})}_onAnimationStart({toState:ne,totalTime:Ie}){"enter"===ne?this._animationStateChanged.next({state:"opening",totalTime:Ie}):("exit"===ne||"void"===ne)&&this._animationStateChanged.next({state:"closing",totalTime:Ie})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Kn.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Kn.params.exitAnimationDuration}}}}return te.\u0275fac=function(ne){return new(ne||te)(W.Y36(W.SBq),W.Y36(f.qV),W.Y36(ee.K0,8),W.Y36(di),W.Y36(f.ic),W.Y36(W.R0b),W.Y36(d.Iu),W.Y36(W.sBO),W.Y36(f.tE))},te.\u0275cmp=W.Xpm({type:te,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(ne,Ie){1&ne&&W.WFA("@dialogContainer.start",function(Ne){return Ie._onAnimationStart(Ne)})("@dialogContainer.done",function(Ne){return Ie._onAnimationDone(Ne)}),2&ne&&(W.Ikx("id",Ie._config.id),W.uIk("aria-modal",Ie._config.ariaModal)("role",Ie._config.role)("aria-labelledby",Ie._config.ariaLabel?null:Ie._ariaLabelledBy)("aria-label",Ie._config.ariaLabel)("aria-describedby",Ie._config.ariaDescribedBy||null),W.d8E("@dialogContainer",Ie._getAnimationState()))},features:[W.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(ne,Ie){1&ne&&W.YNc(0,fi,0,0,"ng-template",0)},dependencies:[re.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[yi.dialogContainer]}}),te})();class Rt{constructor(ve,ne,Ie){this._ref=ve,this._containerInstance=Ie,this._afterOpened=new he.x,this._beforeClosed=new he.x,this._state=0,this.disableClose=ne.disableClose,this.id=ve.id,Ie._animationStateChanged.pipe((0,Ht.h)(ot=>"opened"===ot.state),(0,on.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ie._animationStateChanged.pipe((0,Ht.h)(ot=>"closed"===ot.state),(0,on.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ve.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Zt.T)(this.backdropClick(),this.keydownEvents().pipe((0,Ht.h)(ot=>ot.keyCode===Ee.hY&&!this.disableClose&&!(0,Ee.Vb)(ot)))).subscribe(ot=>{this.disableClose||(ot.preventDefault(),gt(this,"keydown"===ot.type?"keyboard":"mouse"))})}close(ve){this._result=ve,this._containerInstance._animationStateChanged.pipe((0,Ht.h)(ne=>"closing"===ne.state),(0,on.q)(1)).subscribe(ne=>{this._beforeClosed.next(ve),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),ne.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(ve){let ne=this._ref.config.positionStrategy;return ve&&(ve.left||ve.right)?ve.left?ne.left(ve.left):ne.right(ve.right):ne.centerHorizontally(),ve&&(ve.top||ve.bottom)?ve.top?ne.top(ve.top):ne.bottom(ve.bottom):ne.centerVertically(),this._ref.updatePosition(),this}updateSize(ve="",ne=""){return this._ref.updateSize(ve,ne),this}addPanelClass(ve){return this._ref.addPanelClass(ve),this}removePanelClass(ve){return this._ref.removePanelClass(ve),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function gt(te,ve,ne){return te._closeInteractionType=ve,te.close(ne)}const Ut=new W.OlP("MatDialogData"),We=new W.OlP("mat-dialog-default-options"),Yt=new W.OlP("mat-dialog-scroll-strategy"),xt={provide:Yt,deps:[d.aV],useFactory:function et(te){return()=>te.scrollStrategies.block()}};let Wt=0,nn=(()=>{class te{constructor(ne,Ie,ot,Ne,pe,le,ye,me,ae,tt){this._overlay=ne,this._defaultOptions=ot,this._parentDialog=Ne,this._dialogRefConstructor=ye,this._dialogContainerType=me,this._dialogDataToken=ae,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new he.x,this._afterOpenedAtThisLevel=new he.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,de.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,U.O)(void 0))),this._scrollStrategy=le,this._dialog=Ie.get(Ge)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const ne=this._parentDialog;return ne?ne._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(ne,Ie){let ot;(Ie={...this._defaultOptions||new di,...Ie}).id=Ie.id||`${this._idPrefix}${Wt++}`,Ie.scrollStrategy=Ie.scrollStrategy||this._scrollStrategy();const Ne=this._dialog.open(ne,{...Ie,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:di,useValue:Ie},{provide:De,useValue:Ie}]},templateContext:()=>({dialogRef:ot}),providers:(pe,le,ye)=>(ot=new this._dialogRefConstructor(pe,Ie,ye),ot.updatePosition(Ie?.position),[{provide:this._dialogContainerType,useValue:ye},{provide:this._dialogDataToken,useValue:le.data},{provide:this._dialogRefConstructor,useValue:ot}])});return ot.componentInstance=Ne.componentInstance,this.openDialogs.push(ot),this.afterOpened.next(ot),ot.afterClosed().subscribe(()=>{const pe=this.openDialogs.indexOf(ot);pe>-1&&(this.openDialogs.splice(pe,1),this.openDialogs.length||this._getAfterAllClosed().next())}),ot}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(ne){return this.openDialogs.find(Ie=>Ie.id===ne)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(ne){let Ie=ne.length;for(;Ie--;)ne[Ie].close()}}return te.\u0275fac=function(ne){W.$Z()},te.\u0275prov=W.Yz7({token:te,factory:te.\u0275fac}),te})(),pn=(()=>{class te extends nn{constructor(ne,Ie,ot,Ne,pe,le,ye,me){super(ne,Ie,Ne,le,ye,pe,Rt,ut,Ut,me)}}return te.\u0275fac=function(ne){return new(ne||te)(W.LFG(d.aV),W.LFG(W.zs3),W.LFG(ee.Ye,8),W.LFG(We,8),W.LFG(Yt),W.LFG(te,12),W.LFG(d.Xj),W.LFG(W.QbO,8))},te.\u0275prov=W.Yz7({token:te,factory:te.\u0275fac}),te})(),xn=0,Tn=(()=>{class te{constructor(ne,Ie,ot){this.dialogRef=ne,this._elementRef=Ie,this._dialog=ot,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=it(this._elementRef,this._dialog.openDialogs))}ngOnChanges(ne){const Ie=ne._matDialogClose||ne._matDialogCloseResult;Ie&&(this.dialogResult=Ie.currentValue)}_onButtonClick(ne){gt(this.dialogRef,0===ne.screenX&&0===ne.screenY?"keyboard":"mouse",this.dialogResult)}}return te.\u0275fac=function(ne){return new(ne||te)(W.Y36(Rt,8),W.Y36(W.SBq),W.Y36(pn))},te.\u0275dir=W.lG2({type:te,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(ne,Ie){1&ne&&W.NdJ("click",function(Ne){return Ie._onButtonClick(Ne)}),2&ne&&W.uIk("aria-label",Ie.ariaLabel||null)("type",Ie.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[W.TTD]}),te})(),$n=(()=>{class te{constructor(ne,Ie,ot){this._dialogRef=ne,this._elementRef=Ie,this._dialog=ot,this.id="mat-dialog-title-"+xn++}ngOnInit(){this._dialogRef||(this._dialogRef=it(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const ne=this._dialogRef._containerInstance;ne&&!ne._ariaLabelledBy&&(ne._ariaLabelledBy=this.id)})}}return te.\u0275fac=function(ne){return new(ne||te)(W.Y36(Rt,8),W.Y36(W.SBq),W.Y36(pn))},te.\u0275dir=W.lG2({type:te,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(ne,Ie){2&ne&&W.Ikx("id",Ie.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),te})(),Un=(()=>{class te{}return te.\u0275fac=function(ne){return new(ne||te)},te.\u0275dir=W.lG2({type:te,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),te})(),pi=(()=>{class te{constructor(){this.align="start"}}return te.\u0275fac=function(ne){return new(ne||te)},te.\u0275dir=W.lG2({type:te,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(ne,Ie){2&ne&&W.ekj("mat-dialog-actions-align-center","center"===Ie.align)("mat-dialog-actions-align-end","end"===Ie.align)},inputs:{align:"align"}}),te})();function it(te,ve){let ne=te.nativeElement.parentElement;for(;ne&&!ne.classList.contains("mat-dialog-container");)ne=ne.parentElement;return ne?ve.find(Ie=>Ie.id===ne.id):null}let J=(()=>{class te{}return te.\u0275fac=function(ne){return new(ne||te)},te.\u0275mod=W.oAB({type:te}),te.\u0275inj=W.cJS({providers:[pn,xt],imports:[Ve,d.U8,re.eL,wt.BQ,wt.BQ]}),te})()},7392:(He,ge,D)=>{D.d(ge,{Hw:()=>gt,Ps:()=>Ut,jv:()=>Ve});var f=D(4650),d=D(3238),k=D(1281),re=D(6895),ee=D(9646),W=D(2843),Ee=D(4128),he=D(727),de=D(8505),z=D(4004),ce=D(262),U=D(8746),Re=D(3099),De=D(5698),Te=D(529),nt=D(1481);const Ze=["*"];let Fe;function Et(We){return function It(){if(void 0===Fe&&(Fe=null,typeof window<"u")){const We=window;void 0!==We.trustedTypes&&(Fe=We.trustedTypes.createPolicy("angular#components",{createHTML:Yt=>Yt}))}return Fe}()?.createHTML(We)||We}function Be(We){return Error(`Unable to find icon with the name "${We}"`)}function Pe(We){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${We}".`)}function Ge(We){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${We}".`)}class qe{constructor(Yt,ze,et){this.url=Yt,this.svgText=ze,this.options=et}}let Ve=(()=>{class We{constructor(ze,et,xt,Wt){this._httpClient=ze,this._sanitizer=et,this._errorHandler=Wt,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=xt}addSvgIcon(ze,et,xt){return this.addSvgIconInNamespace("",ze,et,xt)}addSvgIconLiteral(ze,et,xt){return this.addSvgIconLiteralInNamespace("",ze,et,xt)}addSvgIconInNamespace(ze,et,xt,Wt){return this._addSvgIconConfig(ze,et,new qe(xt,null,Wt))}addSvgIconResolver(ze){return this._resolvers.push(ze),this}addSvgIconLiteralInNamespace(ze,et,xt,Wt){const nn=this._sanitizer.sanitize(f.q3G.HTML,xt);if(!nn)throw Ge(xt);const pn=Et(nn);return this._addSvgIconConfig(ze,et,new qe("",pn,Wt))}addSvgIconSet(ze,et){return this.addSvgIconSetInNamespace("",ze,et)}addSvgIconSetLiteral(ze,et){return this.addSvgIconSetLiteralInNamespace("",ze,et)}addSvgIconSetInNamespace(ze,et,xt){return this._addSvgIconSetConfig(ze,new qe(et,null,xt))}addSvgIconSetLiteralInNamespace(ze,et,xt){const Wt=this._sanitizer.sanitize(f.q3G.HTML,et);if(!Wt)throw Ge(et);const nn=Et(Wt);return this._addSvgIconSetConfig(ze,new qe("",nn,xt))}registerFontClassAlias(ze,et=ze){return this._fontCssClassesByAlias.set(ze,et),this}classNameForFontAlias(ze){return this._fontCssClassesByAlias.get(ze)||ze}setDefaultFontSetClass(...ze){return this._defaultFontSetClass=ze,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(ze){const et=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,ze);if(!et)throw Pe(ze);const xt=this._cachedIconsByUrl.get(et);return xt?(0,ee.of)(Ht(xt)):this._loadSvgIconFromConfig(new qe(ze,null)).pipe((0,de.b)(Wt=>this._cachedIconsByUrl.set(et,Wt)),(0,z.U)(Wt=>Ht(Wt)))}getNamedSvgIcon(ze,et=""){const xt=on(et,ze);let Wt=this._svgIconConfigs.get(xt);if(Wt)return this._getSvgFromConfig(Wt);if(Wt=this._getIconConfigFromResolvers(et,ze),Wt)return this._svgIconConfigs.set(xt,Wt),this._getSvgFromConfig(Wt);const nn=this._iconSetConfigs.get(et);return nn?this._getSvgFromIconSetConfigs(ze,nn):(0,W._)(Be(xt))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(ze){return ze.svgText?(0,ee.of)(Ht(this._svgElementFromConfig(ze))):this._loadSvgIconFromConfig(ze).pipe((0,z.U)(et=>Ht(et)))}_getSvgFromIconSetConfigs(ze,et){const xt=this._extractIconWithNameFromAnySet(ze,et);if(xt)return(0,ee.of)(xt);const Wt=et.filter(nn=>!nn.svgText).map(nn=>this._loadSvgIconSetFromConfig(nn).pipe((0,ce.K)(pn=>{const Tn=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,nn.url)} failed: ${pn.message}`;return this._errorHandler.handleError(new Error(Tn)),(0,ee.of)(null)})));return(0,Ee.D)(Wt).pipe((0,z.U)(()=>{const nn=this._extractIconWithNameFromAnySet(ze,et);if(!nn)throw Be(ze);return nn}))}_extractIconWithNameFromAnySet(ze,et){for(let xt=et.length-1;xt>=0;xt--){const Wt=et[xt];if(Wt.svgText&&Wt.svgText.toString().indexOf(ze)>-1){const nn=this._svgElementFromConfig(Wt),pn=this._extractSvgIconFromSet(nn,ze,Wt.options);if(pn)return pn}}return null}_loadSvgIconFromConfig(ze){return this._fetchIcon(ze).pipe((0,de.b)(et=>ze.svgText=et),(0,z.U)(()=>this._svgElementFromConfig(ze)))}_loadSvgIconSetFromConfig(ze){return ze.svgText?(0,ee.of)(null):this._fetchIcon(ze).pipe((0,de.b)(et=>ze.svgText=et))}_extractSvgIconFromSet(ze,et,xt){const Wt=ze.querySelector(`[id="${et}"]`);if(!Wt)return null;const nn=Wt.cloneNode(!0);if(nn.removeAttribute("id"),"svg"===nn.nodeName.toLowerCase())return this._setSvgAttributes(nn,xt);if("symbol"===nn.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(nn),xt);const pn=this._svgElementFromString(Et("<svg></svg>"));return pn.appendChild(nn),this._setSvgAttributes(pn,xt)}_svgElementFromString(ze){const et=this._document.createElement("DIV");et.innerHTML=ze;const xt=et.querySelector("svg");if(!xt)throw Error("<svg> tag not found");return xt}_toSvgElement(ze){const et=this._svgElementFromString(Et("<svg></svg>")),xt=ze.attributes;for(let Wt=0;Wt<xt.length;Wt++){const{name:nn,value:pn}=xt[Wt];"id"!==nn&&et.setAttribute(nn,pn)}for(let Wt=0;Wt<ze.childNodes.length;Wt++)ze.childNodes[Wt].nodeType===this._document.ELEMENT_NODE&&et.appendChild(ze.childNodes[Wt].cloneNode(!0));return et}_setSvgAttributes(ze,et){return ze.setAttribute("fit",""),ze.setAttribute("height","100%"),ze.setAttribute("width","100%"),ze.setAttribute("preserveAspectRatio","xMidYMid meet"),ze.setAttribute("focusable","false"),et&&et.viewBox&&ze.setAttribute("viewBox",et.viewBox),ze}_fetchIcon(ze){const{url:et,options:xt}=ze,Wt=xt?.withCredentials??!1;if(!this._httpClient)throw function fe(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==et)throw Error(`Cannot fetch icon from URL "${et}".`);const nn=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,et);if(!nn)throw Pe(et);const pn=this._inProgressUrlFetches.get(nn);if(pn)return pn;const xn=this._httpClient.get(nn,{responseType:"text",withCredentials:Wt}).pipe((0,z.U)(Tn=>Et(Tn)),(0,U.x)(()=>this._inProgressUrlFetches.delete(nn)),(0,Re.B)());return this._inProgressUrlFetches.set(nn,xn),xn}_addSvgIconConfig(ze,et,xt){return this._svgIconConfigs.set(on(ze,et),xt),this}_addSvgIconSetConfig(ze,et){const xt=this._iconSetConfigs.get(ze);return xt?xt.push(et):this._iconSetConfigs.set(ze,[et]),this}_svgElementFromConfig(ze){if(!ze.svgElement){const et=this._svgElementFromString(ze.svgText);this._setSvgAttributes(et,ze.options),ze.svgElement=et}return ze.svgElement}_getIconConfigFromResolvers(ze,et){for(let xt=0;xt<this._resolvers.length;xt++){const Wt=this._resolvers[xt](et,ze);if(Wt)return Gt(Wt)?new qe(Wt.url,null,Wt.options):new qe(Wt,null)}}}return We.\u0275fac=function(ze){return new(ze||We)(f.LFG(Te.eN,8),f.LFG(nt.H7),f.LFG(re.K0,8),f.LFG(f.qLn))},We.\u0275prov=f.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Ht(We){return We.cloneNode(!0)}function on(We,Yt){return We+":"+Yt}function Gt(We){return!(!We.url||!We.options)}const fi=(0,d.pj)(class{constructor(We){this._elementRef=We}}),Kn=new f.OlP("MAT_ICON_DEFAULT_OPTIONS"),yi=new f.OlP("mat-icon-location",{providedIn:"root",factory:function di(){const We=(0,f.f3M)(re.K0),Yt=We?We.location:null;return{getPathname:()=>Yt?Yt.pathname+Yt.search:""}}}),ht=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ut=ht.map(We=>`[${We}]`).join(", "),Rt=/^url\(['"]?#(.*?)['"]?\)$/;let gt=(()=>{class We extends fi{constructor(ze,et,xt,Wt,nn,pn){super(ze),this._iconRegistry=et,this._location=Wt,this._errorHandler=nn,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=he.w0.EMPTY,pn&&(pn.color&&(this.color=this.defaultColor=pn.color),pn.fontSet&&(this.fontSet=pn.fontSet)),xt||ze.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(ze){this._inline=(0,k.Ig)(ze)}get svgIcon(){return this._svgIcon}set svgIcon(ze){ze!==this._svgIcon&&(ze?this._updateSvgIcon(ze):this._svgIcon&&this._clearSvgElement(),this._svgIcon=ze)}get fontSet(){return this._fontSet}set fontSet(ze){const et=this._cleanupFontValue(ze);et!==this._fontSet&&(this._fontSet=et,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(ze){const et=this._cleanupFontValue(ze);et!==this._fontIcon&&(this._fontIcon=et,this._updateFontIconClasses())}_splitIconName(ze){if(!ze)return["",""];const et=ze.split(":");switch(et.length){case 1:return["",et[0]];case 2:return et;default:throw Error(`Invalid icon name: "${ze}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const ze=this._elementsWithExternalReferences;if(ze&&ze.size){const et=this._location.getPathname();et!==this._previousPath&&(this._previousPath=et,this._prependPathToReferences(et))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(ze){this._clearSvgElement();const et=this._location.getPathname();this._previousPath=et,this._cacheChildrenWithExternalReferences(ze),this._prependPathToReferences(et),this._elementRef.nativeElement.appendChild(ze)}_clearSvgElement(){const ze=this._elementRef.nativeElement;let et=ze.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();et--;){const xt=ze.childNodes[et];(1!==xt.nodeType||"svg"===xt.nodeName.toLowerCase())&&xt.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const ze=this._elementRef.nativeElement,et=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(xt=>xt.length>0);this._previousFontSetClass.forEach(xt=>ze.classList.remove(xt)),et.forEach(xt=>ze.classList.add(xt)),this._previousFontSetClass=et,this.fontIcon!==this._previousFontIconClass&&!et.includes("mat-ligature-font")&&(this._previousFontIconClass&&ze.classList.remove(this._previousFontIconClass),this.fontIcon&&ze.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(ze){return"string"==typeof ze?ze.trim().split(" ")[0]:ze}_prependPathToReferences(ze){const et=this._elementsWithExternalReferences;et&&et.forEach((xt,Wt)=>{xt.forEach(nn=>{Wt.setAttribute(nn.name,`url('${ze}#${nn.value}')`)})})}_cacheChildrenWithExternalReferences(ze){const et=ze.querySelectorAll(ut),xt=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let Wt=0;Wt<et.length;Wt++)ht.forEach(nn=>{const pn=et[Wt],xn=pn.getAttribute(nn),Tn=xn?xn.match(Rt):null;if(Tn){let $n=xt.get(pn);$n||($n=[],xt.set(pn,$n)),$n.push({name:nn,value:Tn[1]})}})}_updateSvgIcon(ze){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),ze){const[et,xt]=this._splitIconName(ze);et&&(this._svgNamespace=et),xt&&(this._svgName=xt),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(xt,et).pipe((0,De.q)(1)).subscribe(Wt=>this._setSvgElement(Wt),Wt=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${et}:${xt}! ${Wt.message}`))})}}}return We.\u0275fac=function(ze){return new(ze||We)(f.Y36(f.SBq),f.Y36(Ve),f.$8M("aria-hidden"),f.Y36(yi),f.Y36(f.qLn),f.Y36(Kn,8))},We.\u0275cmp=f.Xpm({type:We,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(ze,et){2&ze&&(f.uIk("data-mat-icon-type",et._usingFontIcon()?"font":"svg")("data-mat-icon-name",et._svgName||et.fontIcon)("data-mat-icon-namespace",et._svgNamespace||et.fontSet)("fontIcon",et._usingFontIcon()?et.fontIcon:null),f.ekj("mat-icon-inline",et.inline)("mat-icon-no-color","primary"!==et.color&&"accent"!==et.color&&"warn"!==et.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:Ze,decls:1,vars:0,template:function(ze,et){1&ze&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),We})(),Ut=(()=>{class We{}return We.\u0275fac=function(ze){return new(ze||We)},We.\u0275mod=f.oAB({type:We}),We.\u0275inj=f.cJS({imports:[d.BQ,d.BQ]}),We})()},3683:(He,ge,D)=>{D.d(ge,{Ye:()=>de,g0:()=>ce});var f=D(4650),d=D(3238),k=D(3353),re=D(6895);const ee=["*",[["mat-toolbar-row"]]],W=["*","mat-toolbar-row"],Ee=(0,d.pj)(class{constructor(U){this._elementRef=U}});let he=(()=>{class U{}return U.\u0275fac=function(De){return new(De||U)},U.\u0275dir=f.lG2({type:U,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),U})(),de=(()=>{class U extends Ee{constructor(De,Te,nt){super(De),this._platform=Te,this._document=nt}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return U.\u0275fac=function(De){return new(De||U)(f.Y36(f.SBq),f.Y36(k.t4),f.Y36(re.K0))},U.\u0275cmp=f.Xpm({type:U,selectors:[["mat-toolbar"]],contentQueries:function(De,Te,nt){if(1&De&&f.Suo(nt,he,5),2&De){let Ze;f.iGM(Ze=f.CRH())&&(Te._toolbarRows=Ze)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(De,Te){2&De&&f.ekj("mat-toolbar-multiple-rows",Te._toolbarRows.length>0)("mat-toolbar-single-row",0===Te._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:W,decls:2,vars:0,template:function(De,Te){1&De&&(f.F$t(ee),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),U})(),ce=(()=>{class U{}return U.\u0275fac=function(De){return new(De||U)},U.\u0275mod=f.oAB({type:U}),U.\u0275inj=f.cJS({imports:[d.BQ,d.BQ]}),U})()},1481:(He,ge,D)=>{D.d(ge,{Dx:()=>Ne,H7:()=>Je,b2:()=>te,q6:()=>Un,se:()=>Gt});var f=D(6895),d=D(4650);class k extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends k{static makeCurrent(){(0,f.HT)(new re)}onAndCancel(Ce,ue,Ye){return Ce.addEventListener(ue,Ye,!1),()=>{Ce.removeEventListener(ue,Ye,!1)}}dispatchEvent(Ce,ue){Ce.dispatchEvent(ue)}remove(Ce){Ce.parentNode&&Ce.parentNode.removeChild(Ce)}createElement(Ce,ue){return(ue=ue||this.getDefaultDocument()).createElement(Ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ce){return Ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ce){return Ce instanceof DocumentFragment}getGlobalEventTarget(Ce,ue){return"window"===ue?window:"document"===ue?Ce:"body"===ue?Ce.body:null}getBaseHref(Ce){const ue=function W(){return ee=ee||document.querySelector("base"),ee?ee.getAttribute("href"):null}();return null==ue?null:function he(_e){Ee=Ee||document.createElement("a"),Ee.setAttribute("href",_e);const Ce=Ee.pathname;return"/"===Ce.charAt(0)?Ce:`/${Ce}`}(ue)}resetBaseElement(){ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ce){return(0,f.Mx)(document.cookie,Ce)}}let Ee,ee=null;const de=new d.OlP("TRANSITION_ID"),ce=[{provide:d.ip1,useFactory:function z(_e,Ce,ue){return()=>{ue.get(d.CZH).donePromise.then(()=>{const Ye=(0,f.q)(),bt=Ce.querySelectorAll(`style[ng-transition="${_e}"]`);for(let cn=0;cn<bt.length;cn++)Ye.remove(bt[cn])})}},deps:[de,f.K0,d.zs3],multi:!0}];let Re=(()=>{class _e{build(){return new XMLHttpRequest}}return _e.\u0275fac=function(ue){return new(ue||_e)},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const De=new d.OlP("EventManagerPlugins");let Te=(()=>{class _e{constructor(ue,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,ue.forEach(bt=>bt.manager=this),this._plugins=ue.slice().reverse()}addEventListener(ue,Ye,bt){return this._findPluginFor(Ye).addEventListener(ue,Ye,bt)}addGlobalEventListener(ue,Ye,bt){return this._findPluginFor(Ye).addGlobalEventListener(ue,Ye,bt)}getZone(){return this._zone}_findPluginFor(ue){const Ye=this._eventNameToPlugin.get(ue);if(Ye)return Ye;const bt=this._plugins;for(let cn=0;cn<bt.length;cn++){const Nn=bt[cn];if(Nn.supports(ue))return this._eventNameToPlugin.set(ue,Nn),Nn}throw new Error(`No event manager plugin found for event ${ue}`)}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(De),d.LFG(d.R0b))},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class nt{constructor(Ce){this._doc=Ce}addGlobalEventListener(Ce,ue,Ye){const bt=(0,f.q)().getGlobalEventTarget(this._doc,Ce);if(!bt)throw new Error(`Unsupported event target ${bt} for event ${ue}`);return this.addEventListener(bt,ue,Ye)}}let Ze=(()=>{class _e{constructor(){this._stylesSet=new Set}addStyles(ue){const Ye=new Set;ue.forEach(bt=>{this._stylesSet.has(bt)||(this._stylesSet.add(bt),Ye.add(bt))}),this.onStylesAdded(Ye)}onStylesAdded(ue){}getAllStyles(){return Array.from(this._stylesSet)}}return _e.\u0275fac=function(ue){return new(ue||_e)},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})(),Fe=(()=>{class _e extends Ze{constructor(ue){super(),this._doc=ue,this._hostNodes=new Map,this._hostNodes.set(ue.head,[])}_addStylesToHost(ue,Ye,bt){ue.forEach(cn=>{const Nn=this._doc.createElement("style");Nn.textContent=cn,bt.push(Ye.appendChild(Nn))})}addHost(ue){const Ye=[];this._addStylesToHost(this._stylesSet,ue,Ye),this._hostNodes.set(ue,Ye)}removeHost(ue){const Ye=this._hostNodes.get(ue);Ye&&Ye.forEach(It),this._hostNodes.delete(ue)}onStylesAdded(ue){this._hostNodes.forEach((Ye,bt)=>{this._addStylesToHost(ue,bt,Ye)})}ngOnDestroy(){this._hostNodes.forEach(ue=>ue.forEach(It))}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(f.K0))},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})();function It(_e){(0,f.q)().remove(_e)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function Zt(_e,Ce,ue){for(let Ye=0;Ye<Ce.length;Ye++){let bt=Ce[Ye];Array.isArray(bt)?Zt(_e,bt,ue):(bt=bt.replace(Be,_e),ue.push(bt))}return ue}function Ht(_e){return Ce=>{if("__ngUnwrap__"===Ce)return _e;!1===_e(Ce)&&(Ce.preventDefault(),Ce.returnValue=!1)}}let Gt=(()=>{class _e{constructor(ue,Ye,bt){this.eventManager=ue,this.sharedStylesHost=Ye,this.appId=bt,this.rendererByCompId=new Map,this.defaultRenderer=new fi(ue)}createRenderer(ue,Ye){if(!ue||!Ye)return this.defaultRenderer;switch(Ye.encapsulation){case d.ifc.Emulated:{let bt=this.rendererByCompId.get(Ye.id);return bt||(bt=new ht(this.eventManager,this.sharedStylesHost,Ye,this.appId),this.rendererByCompId.set(Ye.id,bt)),bt.applyToHost(ue),bt}case 1:case d.ifc.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,ue,Ye);default:if(!this.rendererByCompId.has(Ye.id)){const bt=Zt(Ye.id,Ye.styles,[]);this.sharedStylesHost.addStyles(bt),this.rendererByCompId.set(Ye.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(Te),d.LFG(Fe),d.LFG(d.AFp))},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})();class fi{constructor(Ce){this.eventManager=Ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ce,ue){return ue?document.createElementNS(Et[ue]||ue,Ce):document.createElement(Ce)}createComment(Ce){return document.createComment(Ce)}createText(Ce){return document.createTextNode(Ce)}appendChild(Ce,ue){(di(Ce)?Ce.content:Ce).appendChild(ue)}insertBefore(Ce,ue,Ye){Ce&&(di(Ce)?Ce.content:Ce).insertBefore(ue,Ye)}removeChild(Ce,ue){Ce&&Ce.removeChild(ue)}selectRootElement(Ce,ue){let Ye="string"==typeof Ce?document.querySelector(Ce):Ce;if(!Ye)throw new Error(`The selector "${Ce}" did not match any elements`);return ue||(Ye.textContent=""),Ye}parentNode(Ce){return Ce.parentNode}nextSibling(Ce){return Ce.nextSibling}setAttribute(Ce,ue,Ye,bt){if(bt){ue=bt+":"+ue;const cn=Et[bt];cn?Ce.setAttributeNS(cn,ue,Ye):Ce.setAttribute(ue,Ye)}else Ce.setAttribute(ue,Ye)}removeAttribute(Ce,ue,Ye){if(Ye){const bt=Et[Ye];bt?Ce.removeAttributeNS(bt,ue):Ce.removeAttribute(`${Ye}:${ue}`)}else Ce.removeAttribute(ue)}addClass(Ce,ue){Ce.classList.add(ue)}removeClass(Ce,ue){Ce.classList.remove(ue)}setStyle(Ce,ue,Ye,bt){bt&(d.JOm.DashCase|d.JOm.Important)?Ce.style.setProperty(ue,Ye,bt&d.JOm.Important?"important":""):Ce.style[ue]=Ye}removeStyle(Ce,ue,Ye){Ye&d.JOm.DashCase?Ce.style.removeProperty(ue):Ce.style[ue]=""}setProperty(Ce,ue,Ye){Ce[ue]=Ye}setValue(Ce,ue){Ce.nodeValue=ue}listen(Ce,ue,Ye){return"string"==typeof Ce?this.eventManager.addGlobalEventListener(Ce,ue,Ht(Ye)):this.eventManager.addEventListener(Ce,ue,Ht(Ye))}}function di(_e){return"TEMPLATE"===_e.tagName&&void 0!==_e.content}class ht extends fi{constructor(Ce,ue,Ye,bt){super(Ce),this.component=Ye;const cn=Zt(bt+"-"+Ye.id,Ye.styles,[]);ue.addStyles(cn),this.contentAttr=function Ve(_e){return"_ngcontent-%COMP%".replace(Be,_e)}(bt+"-"+Ye.id),this.hostAttr=function wt(_e){return"_nghost-%COMP%".replace(Be,_e)}(bt+"-"+Ye.id)}applyToHost(Ce){super.setAttribute(Ce,this.hostAttr,"")}createElement(Ce,ue){const Ye=super.createElement(Ce,ue);return super.setAttribute(Ye,this.contentAttr,""),Ye}}class ut extends fi{constructor(Ce,ue,Ye,bt){super(Ce),this.sharedStylesHost=ue,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cn=Zt(bt.id,bt.styles,[]);for(let Nn=0;Nn<cn.length;Nn++){const ft=document.createElement("style");ft.textContent=cn[Nn],this.shadowRoot.appendChild(ft)}}nodeOrShadowRoot(Ce){return Ce===this.hostEl?this.shadowRoot:Ce}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Ce,ue){return super.appendChild(this.nodeOrShadowRoot(Ce),ue)}insertBefore(Ce,ue,Ye){return super.insertBefore(this.nodeOrShadowRoot(Ce),ue,Ye)}removeChild(Ce,ue){return super.removeChild(this.nodeOrShadowRoot(Ce),ue)}parentNode(Ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ce)))}}let Rt=(()=>{class _e extends nt{constructor(ue){super(ue)}supports(ue){return!0}addEventListener(ue,Ye,bt){return ue.addEventListener(Ye,bt,!1),()=>this.removeEventListener(ue,Ye,bt)}removeEventListener(ue,Ye,bt){return ue.removeEventListener(Ye,bt)}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(f.K0))},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const gt=["alt","control","meta","shift"],Ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},We={alt:_e=>_e.altKey,control:_e=>_e.ctrlKey,meta:_e=>_e.metaKey,shift:_e=>_e.shiftKey};let Yt=(()=>{class _e extends nt{constructor(ue){super(ue)}supports(ue){return null!=_e.parseEventName(ue)}addEventListener(ue,Ye,bt){const cn=_e.parseEventName(Ye),Nn=_e.eventCallback(cn.fullKey,bt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(ue,cn.domEventName,Nn))}static parseEventName(ue){const Ye=ue.toLowerCase().split("."),bt=Ye.shift();if(0===Ye.length||"keydown"!==bt&&"keyup"!==bt)return null;const cn=_e._normalizeKey(Ye.pop());let Nn="",ft=Ye.indexOf("code");if(ft>-1&&(Ye.splice(ft,1),Nn="code."),gt.forEach(zt=>{const Qt=Ye.indexOf(zt);Qt>-1&&(Ye.splice(Qt,1),Nn+=zt+".")}),Nn+=cn,0!=Ye.length||0===cn.length)return null;const lt={};return lt.domEventName=bt,lt.fullKey=Nn,lt}static matchEventFullKeyCode(ue,Ye){let bt=Ut[ue.key]||ue.key,cn="";return Ye.indexOf("code.")>-1&&(bt=ue.code,cn="code."),!(null==bt||!bt)&&(bt=bt.toLowerCase()," "===bt?bt="space":"."===bt&&(bt="dot"),gt.forEach(Nn=>{Nn!==bt&&(0,We[Nn])(ue)&&(cn+=Nn+".")}),cn+=bt,cn===Ye)}static eventCallback(ue,Ye,bt){return cn=>{_e.matchEventFullKeyCode(cn,ue)&&bt.runGuarded(()=>Ye(cn))}}static _normalizeKey(ue){return"esc"===ue?"escape":ue}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(f.K0))},_e.\u0275prov=d.Yz7({token:_e,factory:_e.\u0275fac}),_e})();const Un=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:f.bD},{provide:d.g9A,useValue:function pn(){re.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Tn(){return(0,d.RDi)(document),document},deps:[]}]),pi=new d.OlP(""),it=[{provide:d.rWj,useClass:class U{addToWindow(Ce){d.dqk.getAngularTestability=(Ye,bt=!0)=>{const cn=Ce.findTestabilityInTree(Ye,bt);if(null==cn)throw new Error("Could not find testability for element.");return cn},d.dqk.getAllAngularTestabilities=()=>Ce.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>Ce.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(Ye=>{const bt=d.dqk.getAllAngularTestabilities();let cn=bt.length,Nn=!1;const ft=function(lt){Nn=Nn||lt,cn--,0==cn&&Ye(Nn)};bt.forEach(function(lt){lt.whenStable(ft)})})}findTestabilityInTree(Ce,ue,Ye){return null==ue?null:Ce.getTestability(ue)??(Ye?(0,f.q)().isShadowRoot(ue)?this.findTestabilityInTree(Ce,ue.host,!0):this.findTestabilityInTree(Ce,ue.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],J=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function xn(){return new d.qLn},deps:[]},{provide:De,useClass:Rt,multi:!0,deps:[f.K0,d.R0b,d.Lbi]},{provide:De,useClass:Yt,multi:!0,deps:[f.K0]},{provide:Gt,useClass:Gt,deps:[Te,Fe,d.AFp]},{provide:d.FYo,useExisting:Gt},{provide:Ze,useExisting:Fe},{provide:Fe,useClass:Fe,deps:[f.K0]},{provide:Te,useClass:Te,deps:[De,d.R0b]},{provide:f.JF,useClass:Re,deps:[]},[]];let te=(()=>{class _e{constructor(ue){}static withServerTransition(ue){return{ngModule:_e,providers:[{provide:d.AFp,useValue:ue.appId},{provide:de,useExisting:d.AFp},ce]}}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(pi,12))},_e.\u0275mod=d.oAB({type:_e}),_e.\u0275inj=d.cJS({providers:[...J,...it],imports:[f.ez,d.hGG]}),_e})(),Ne=(()=>{class _e{constructor(ue){this._doc=ue}getTitle(){return this._doc.title}setTitle(ue){this._doc.title=ue||""}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(f.K0))},_e.\u0275prov=d.Yz7({token:_e,factory:function(ue){let Ye=null;return Ye=ue?new ue:function ot(){return new Ne((0,d.LFG)(f.K0))}(),Ye},providedIn:"root"}),_e})();typeof window<"u"&&window;let Je=(()=>{class _e{}return _e.\u0275fac=function(ue){return new(ue||_e)},_e.\u0275prov=d.Yz7({token:_e,factory:function(ue){let Ye=null;return Ye=ue?new(ue||_e):d.LFG(un),Ye},providedIn:"root"}),_e})(),un=(()=>{class _e extends Je{constructor(ue){super(),this._doc=ue}sanitize(ue,Ye){if(null==Ye)return null;switch(ue){case d.q3G.NONE:return Ye;case d.q3G.HTML:return(0,d.qzn)(Ye,"HTML")?(0,d.z3N)(Ye):(0,d.EiD)(this._doc,String(Ye)).toString();case d.q3G.STYLE:return(0,d.qzn)(Ye,"Style")?(0,d.z3N)(Ye):Ye;case d.q3G.SCRIPT:if((0,d.qzn)(Ye,"Script"))return(0,d.z3N)(Ye);throw new Error("unsafe value used in a script context");case d.q3G.URL:return(0,d.qzn)(Ye,"URL")?(0,d.z3N)(Ye):(0,d.mCW)(String(Ye));case d.q3G.RESOURCE_URL:if((0,d.qzn)(Ye,"ResourceURL"))return(0,d.z3N)(Ye);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ue} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ue){return(0,d.JVY)(ue)}bypassSecurityTrustStyle(ue){return(0,d.L6k)(ue)}bypassSecurityTrustScript(ue){return(0,d.eBb)(ue)}bypassSecurityTrustUrl(ue){return(0,d.LAX)(ue)}bypassSecurityTrustResourceUrl(ue){return(0,d.pB0)(ue)}}return _e.\u0275fac=function(ue){return new(ue||_e)(d.LFG(f.K0))},_e.\u0275prov=d.Yz7({token:_e,factory:function(ue){let Ye=null;return Ye=ue?new ue:function Lt(_e){return new un(_e.get(f.K0))}(d.LFG(d.zs3)),Ye},providedIn:"root"}),_e})()},7799:(He,ge,D)=>{D.d(ge,{F0:()=>gr,Bz:()=>br,lC:()=>Es});var f=D(4650),d=D(8996),k=D(9646),re=D(1135),ee=D(6805),W=D(9841),Ee=D(7272),he=D(9770),de=D(9635),z=D(2843),ce=D(9751),U=D(515),Re=D(727),De=D(4482),Te=D(5403);function nt(){return(0,De.e)((w,C)=>{let v=null;w._refCount++;const R=(0,Te.x)(C,void 0,void 0,void 0,()=>{if(!w||w._refCount<=0||0<--w._refCount)return void(v=null);const N=w._connection,Z=v;v=null,N&&(!Z||N===Z)&&N.unsubscribe(),C.unsubscribe()});w.subscribe(R),R.closed||(v=w.connect())})}class Ze extends ce.y{constructor(C,v){super(),this.source=C,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,De.A)(C)&&(this.lift=C.lift)}_subscribe(C){return this.getSubject().subscribe(C)}getSubject(){const C=this._subject;return(!C||C.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:C}=this;this._subject=this._connection=null,C?.unsubscribe()}connect(){let C=this._connection;if(!C){C=this._connection=new Re.w0;const v=this.getSubject();C.add(this.source.subscribe((0,Te.x)(v,void 0,()=>{this._teardown(),v.complete()},R=>{this._teardown(),v.error(R)},()=>this._teardown()))),C.closed&&(this._connection=null,C=Re.w0.EMPTY)}return C}refCount(){return nt()(this)}}var Fe=D(7579),It=D(6895),Et=D(4004),Be=D(3900),fe=D(5698),Pe=D(8675),Ge=D(9300),qe=D(5577),Ve=D(590),wt=D(4351),Zt=D(8505),Ht=D(262),on=D(5026);function Gt(w){return w<=0?()=>U.E:(0,De.e)((C,v)=>{let R=[];C.subscribe((0,Te.x)(v,N=>{R.push(N),w<R.length&&R.shift()},()=>{for(const N of R)v.next(N);v.complete()},void 0,()=>{R=null}))})}var fi=D(8068),Kn=D(6590),yi=D(4671);function di(w,C){const v=arguments.length>=2;return R=>R.pipe(w?(0,Ge.h)((N,Z)=>w(N,Z,R)):yi.y,Gt(1),v?(0,Kn.d)(C):(0,fi.T)(()=>new ee.K))}var ut=D(9718),Rt=D(8746),gt=D(8189),Ut=D(1481);const We="primary",Yt=Symbol("RouteTitle");class ze{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v[0]:v}return null}getAll(C){if(this.has(C)){const v=this.params[C];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function et(w){return new ze(w)}function xt(w,C,v){const R=v.path.split("/");if(R.length>w.length||"full"===v.pathMatch&&(C.hasChildren()||R.length<w.length))return null;const N={};for(let Z=0;Z<R.length;Z++){const Se=R[Z],Le=w[Z];if(Se.startsWith(":"))N[Se.substring(1)]=Le;else if(Se!==Le.path)return null}return{consumed:w.slice(0,R.length),posParams:N}}function nn(w,C){const v=w?Object.keys(w):void 0,R=C?Object.keys(C):void 0;if(!v||!R||v.length!=R.length)return!1;let N;for(let Z=0;Z<v.length;Z++)if(N=v[Z],!pn(w[N],C[N]))return!1;return!0}function pn(w,C){if(Array.isArray(w)&&Array.isArray(C)){if(w.length!==C.length)return!1;const v=[...w].sort(),R=[...C].sort();return v.every((N,Z)=>R[Z]===N)}return w===C}function xn(w){return Array.prototype.concat.apply([],w)}function Tn(w){return w.length>0?w[w.length-1]:null}function Un(w,C){for(const v in w)w.hasOwnProperty(v)&&C(w[v],v)}function pi(w){return(0,f.CqO)(w)?w:(0,f.QGY)(w)?(0,d.D)(Promise.resolve(w)):(0,k.of)(w)}const te={exact:function ot(w,C,v){if(!rt(w.segments,C.segments)||!ye(w.segments,C.segments,v)||w.numberOfChildren!==C.numberOfChildren)return!1;for(const R in C.children)if(!w.children[R]||!ot(w.children[R],C.children[R],v))return!1;return!0},subset:pe},ve={exact:function Ie(w,C){return nn(w,C)},subset:function Ne(w,C){return Object.keys(C).length<=Object.keys(w).length&&Object.keys(C).every(v=>pn(w[v],C[v]))},ignored:()=>!0};function ne(w,C,v){return te[v.paths](w.root,C.root,v.matrixParams)&&ve[v.queryParams](w.queryParams,C.queryParams)&&!("exact"===v.fragment&&w.fragment!==C.fragment)}function pe(w,C,v){return le(w,C,C.segments,v)}function le(w,C,v,R){if(w.segments.length>v.length){const N=w.segments.slice(0,v.length);return!(!rt(N,v)||C.hasChildren()||!ye(N,v,R))}if(w.segments.length===v.length){if(!rt(w.segments,v)||!ye(w.segments,v,R))return!1;for(const N in C.children)if(!w.children[N]||!pe(w.children[N],C.children[N],R))return!1;return!0}{const N=v.slice(0,w.segments.length),Z=v.slice(w.segments.length);return!!(rt(w.segments,N)&&ye(w.segments,N,R)&&w.children[We])&&le(w.children[We],C,Z,R)}}function ye(w,C,v){return C.every((R,N)=>ve[v](w[N].parameters,R.parameters))}class me{constructor(C,v,R){this.root=C,this.queryParams=v,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return Oe.serialize(this)}}class ae{constructor(C,v){this.segments=C,this.children=v,this.parent=null,Un(v,(R,N)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dt(this)}}class tt{constructor(C,v){this.path=C,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=et(this.parameters)),this._parameterMap}toString(){return an(this)}}function rt(w,C){return w.length===C.length&&w.every((v,R)=>v.path===C[R].path)}let pt=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=f.Yz7({token:w,factory:function(){return new Ue},providedIn:"root"}),w})();class Ue{parse(C){const v=new Cn(C);return new me(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(C){const v=`/${Xt(C.root,!0)}`,R=function xe(w){const C=Object.keys(w).map(v=>{const R=w[v];return Array.isArray(R)?R.map(N=>`${mt(v)}=${mt(N)}`).join("&"):`${mt(v)}=${mt(R)}`}).filter(v=>!!v);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${v}${R}${"string"==typeof C.fragment?`#${function Ke(w){return encodeURI(w)}(C.fragment)}`:""}`}}const Oe=new Ue;function Dt(w){return w.segments.map(C=>an(C)).join("/")}function Xt(w,C){if(!w.hasChildren())return Dt(w);if(C){const v=w.children[We]?Xt(w.children[We],!1):"",R=[];return Un(w.children,(N,Z)=>{Z!==We&&R.push(`${Z}:${Xt(N,!1)}`)}),R.length>0?`${v}(${R.join("//")})`:v}{const v=function sn(w,C){let v=[];return Un(w.children,(R,N)=>{N===We&&(v=v.concat(C(R,N)))}),Un(w.children,(R,N)=>{N!==We&&(v=v.concat(C(R,N)))}),v}(w,(R,N)=>N===We?[Xt(w.children[We],!1)]:[`${N}:${Xt(R,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[We]?`${Dt(w)}/${v[0]}`:`${Dt(w)}/(${v.join("//")})`}}function Pn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mt(w){return Pn(w).replace(/%3B/gi,";")}function Me(w){return Pn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dt(w){return decodeURIComponent(w)}function yt(w){return dt(w.replace(/\+/g,"%20"))}function an(w){return`${Me(w.path)}${function Ae(w){return Object.keys(w).map(C=>`;${Me(C)}=${Me(w[C])}`).join("")}(w.parameters)}`}const ie=/^[^\/()?;=#]+/;function q(w){const C=w.match(ie);return C?C[0]:""}const K=/^[^=?&#]+/,Lt=/^[^&#]+/;class Cn{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(C.length>0||Object.keys(v).length>0)&&(R[We]=new ae(C,v)),R}parseSegment(){const C=q(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(C),new tt(dt(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const v=q(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const N=q(this.remaining);N&&(R=N,this.capture(R))}C[dt(v)]=dt(R)}parseQueryParam(C){const v=function Je(w){const C=w.match(K);return C?C[0]:""}(this.remaining);if(!v)return;this.capture(v);let R="";if(this.consumeOptional("=")){const Se=function un(w){const C=w.match(Lt);return C?C[0]:""}(this.remaining);Se&&(R=Se,this.capture(R))}const N=yt(v),Z=yt(R);if(C.hasOwnProperty(N)){let Se=C[N];Array.isArray(Se)||(Se=[Se],C[N]=Se),Se.push(Z)}else C[N]=Z}parseParens(C){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=q(this.remaining),N=this.remaining[R.length];if("/"!==N&&")"!==N&&";"!==N)throw new f.vHH(4010,!1);let Z;R.indexOf(":")>-1?(Z=R.slice(0,R.indexOf(":")),this.capture(Z),this.capture(":")):C&&(Z=We);const Se=this.parseChildren();v[Z]=1===Object.keys(Se).length?Se[We]:new ae([],Se),this.consumeOptional("//")}return v}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new f.vHH(4011,!1)}}function _e(w){return w.segments.length>0?new ae([],{[We]:w}):w}function Ce(w){const C={};for(const R of Object.keys(w.children)){const Z=Ce(w.children[R]);(Z.segments.length>0||Z.hasChildren())&&(C[R]=Z)}return function ue(w){if(1===w.numberOfChildren&&w.children[We]){const C=w.children[We];return new ae(w.segments.concat(C.segments),C.children)}return w}(new ae(w.segments,C))}function Ye(w){return w instanceof me}function lt(w,C,v,R,N){if(0===v.length)return Mn(C.root,C.root,C.root,R,N);const Z=function Mi(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new oi(!0,0,w);let C=0,v=!1;const R=w.reduce((N,Z,Se)=>{if("object"==typeof Z&&null!=Z){if(Z.outlets){const Le={};return Un(Z.outlets,(Nt,hn)=>{Le[hn]="string"==typeof Nt?Nt.split("/"):Nt}),[...N,{outlets:Le}]}if(Z.segmentPath)return[...N,Z.segmentPath]}return"string"!=typeof Z?[...N,Z]:0===Se?(Z.split("/").forEach((Le,Nt)=>{0==Nt&&"."===Le||(0==Nt&&""===Le?v=!0:".."===Le?C++:""!=Le&&N.push(Le))}),N):[...N,Z]},[]);return new oi(v,C,R)}(v);return Z.toRoot()?Mn(C.root,C.root,new ae([],{}),R,N):function Se(Nt){const hn=function Sr(w,C,v,R){if(w.isAbsolute)return new Yn(C.root,!0,0);if(-1===R)return new Yn(v,v===C.root,0);return function ir(w,C,v){let R=w,N=C,Z=v;for(;Z>N;){if(Z-=N,R=R.parent,!R)throw new f.vHH(4005,!1);N=R.segments.length}return new Yn(R,!1,N-Z)}(v,R+(zt(w.commands[0])?0:1),w.numberOfDoubleDots)}(Z,C,w.snapshot?._urlSegment,Nt),ei=hn.processChildren?Xn(hn.segmentGroup,hn.index,Z.commands):ms(hn.segmentGroup,hn.index,Z.commands);return Mn(C.root,hn.segmentGroup,ei,R,N)}(w.snapshot?._lastPathIndex)}function zt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Qt(w){return"object"==typeof w&&null!=w&&w.outlets}function Mn(w,C,v,R,N){let Se,Z={};R&&Un(R,(Nt,hn)=>{Z[hn]=Array.isArray(Nt)?Nt.map(ei=>`${ei}`):`${Nt}`}),Se=w===C?v:Bn(w,C,v);const Le=_e(Ce(Se));return new me(Le,Z,N)}function Bn(w,C,v){const R={};return Un(w.children,(N,Z)=>{R[Z]=N===C?v:Bn(N,C,v)}),new ae(w.segments,R)}class oi{constructor(C,v,R){if(this.isAbsolute=C,this.numberOfDoubleDots=v,this.commands=R,C&&R.length>0&&zt(R[0]))throw new f.vHH(4003,!1);const N=R.find(Qt);if(N&&N!==Tn(R))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yn{constructor(C,v,R){this.segmentGroup=C,this.processChildren=v,this.index=R}}function ms(w,C,v){if(w||(w=new ae([],{})),0===w.segments.length&&w.hasChildren())return Xn(w,C,v);const R=function Ms(w,C,v){let R=0,N=C;const Z={match:!1,pathIndex:0,commandIndex:0};for(;N<w.segments.length;){if(R>=v.length)return Z;const Se=w.segments[N],Le=v[R];if(Qt(Le))break;const Nt=`${Le}`,hn=R<v.length-1?v[R+1]:null;if(N>0&&void 0===Nt)break;if(Nt&&hn&&"object"==typeof hn&&void 0===hn.outlets){if(!_s(Nt,hn,Se))return Z;R+=2}else{if(!_s(Nt,{},Se))return Z;R++}N++}return{match:!0,pathIndex:N,commandIndex:R}}(w,C,v),N=v.slice(R.commandIndex);if(R.match&&R.pathIndex<w.segments.length){const Z=new ae(w.segments.slice(0,R.pathIndex),{});return Z.children[We]=new ae(w.segments.slice(R.pathIndex),w.children),Xn(Z,0,N)}return R.match&&0===N.length?new ae(w.segments,{}):R.match&&!w.hasChildren()?Tr(w,C,v):R.match?Xn(w,0,N):Tr(w,C,v)}function Xn(w,C,v){if(0===v.length)return new ae(w.segments,{});{const R=function gs(w){return Qt(w[0])?w[0].outlets:{[We]:w}}(v),N={};return Un(R,(Z,Se)=>{"string"==typeof Z&&(Z=[Z]),null!==Z&&(N[Se]=ms(w.children[Se],C,Z))}),Un(w.children,(Z,Se)=>{void 0===R[Se]&&(N[Se]=Z)}),new ae(w.segments,N)}}function Tr(w,C,v){const R=w.segments.slice(0,C);let N=0;for(;N<v.length;){const Z=v[N];if(Qt(Z)){const Nt=Mr(Z.outlets);return new ae(R,Nt)}if(0===N&&zt(v[0])){R.push(new tt(w.segments[C].path,Oi(v[0]))),N++;continue}const Se=Qt(Z)?Z.outlets[We]:`${Z}`,Le=N<v.length-1?v[N+1]:null;Se&&Le&&zt(Le)?(R.push(new tt(Se,Oi(Le))),N+=2):(R.push(new tt(Se,{})),N++)}return new ae(R,{})}function Mr(w){const C={};return Un(w,(v,R)=>{"string"==typeof v&&(v=[v]),null!==v&&(C[R]=Tr(new ae([],{}),0,v))}),C}function Oi(w){const C={};return Un(w,(v,R)=>C[R]=`${v}`),C}function _s(w,C,v){return w==v.path&&nn(C,v.parameters)}class tr{constructor(C,v){this.id=C,this.url=v}}class ys extends tr{constructor(C,v,R="imperative",N=null){super(C,v),this.type=0,this.navigationTrigger=R,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ai extends tr{constructor(C,v,R){super(C,v),this.urlAfterRedirects=R,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vi extends tr{constructor(C,v,R,N){super(C,v),this.reason=R,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gi extends tr{constructor(C,v,R,N){super(C,v),this.error=R,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Dr extends tr{constructor(C,v,R,N){super(C,v),this.urlAfterRedirects=R,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class is extends tr{constructor(C,v,R,N){super(C,v),this.urlAfterRedirects=R,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rs extends tr{constructor(C,v,R,N,Z){super(C,v),this.urlAfterRedirects=R,this.state=N,this.shouldActivate=Z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fo extends tr{constructor(C,v,R,N){super(C,v),this.urlAfterRedirects=R,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr extends tr{constructor(C,v,R,N){super(C,v),this.urlAfterRedirects=R,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke{constructor(C){this.route=C,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tt{constructor(C){this.route=C,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _t{constructor(C){this.snapshot=C,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(C){this.snapshot=C,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(C){this.snapshot=C,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jt{constructor(C){this.snapshot=C,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jn{constructor(C,v,R){this.routerEvent=C,this.position=v,this.anchor=R,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yi{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const v=this.pathFromRoot(C);return v.length>1?v[v.length-2]:null}children(C){const v=cr(C,this._root);return v?v.children.map(R=>R.value):[]}firstChild(C){const v=cr(C,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(C){const v=Ii(C,this._root);return v.length<2?[]:v[v.length-2].children.map(N=>N.value).filter(N=>N!==C)}pathFromRoot(C){return Ii(C,this._root).map(v=>v.value)}}function cr(w,C){if(w===C.value)return C;for(const v of C.children){const R=cr(w,v);if(R)return R}return null}function Ii(w,C){if(w===C.value)return[C];for(const v of C.children){const R=Ii(w,v);if(R.length)return R.unshift(C),R}return[]}class Hi{constructor(C,v){this.value=C,this.children=v}toString(){return`TreeNode(${this.value})`}}function Rs(w){const C={};return w&&w.children.forEach(v=>C[v.value.outlet]=v),C}class $s extends Yi{constructor(C,v){super(C),this.snapshot=v,ss(this,C)}toString(){return this.snapshot.toString()}}function zs(w,C){const v=function Qo(w,C){const Se=new Os([],{},{},"",{},We,C,null,w.root,-1,{});return new Ro("",new Hi(Se,[]))}(w,C),R=new re.X([new tt("",{})]),N=new re.X({}),Z=new re.X({}),Se=new re.X({}),Le=new re.X(""),Nt=new po(R,N,Se,Le,Z,We,C,v.root);return Nt.snapshot=v.root,new $s(new Hi(Nt,[]),v)}class po{constructor(C,v,R,N,Z,Se,Le,Nt){this.url=C,this.params=v,this.queryParams=R,this.fragment=N,this.data=Z,this.outlet=Se,this.component=Le,this.title=this.data?.pipe((0,Et.U)(hn=>hn[Yt]))??(0,k.of)(void 0),this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(C=>et(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(C=>et(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ws(w,C="emptyOnly"){const v=w.pathFromRoot;let R=0;if("always"!==C)for(R=v.length-1;R>=1;){const N=v[R],Z=v[R-1];if(N.routeConfig&&""===N.routeConfig.path)R--;else{if(Z.component)break;R--}}return function vl(w){return w.reduce((C,v)=>({params:{...C.params,...v.params},data:{...C.data,...v.data},resolve:{...v.data,...C.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(R))}class Os{constructor(C,v,R,N,Z,Se,Le,Nt,hn,ei,In,ki){this.url=C,this.params=v,this.queryParams=R,this.fragment=N,this.data=Z,this.outlet=Se,this.component=Le,this.title=this.data?.[Yt],this.routeConfig=Nt,this._urlSegment=hn,this._lastPathIndex=ei,this._correctedLastPathIndex=ki??ei,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=et(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=et(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ro extends Yi{constructor(C,v){super(v),this.url=C,ss(this,v)}toString(){return io(this._root)}}function ss(w,C){C.value._routerState=w,C.children.forEach(v=>ss(w,v))}function io(w){const C=w.children.length>0?` { ${w.children.map(io).join(", ")} } `:"";return`${w.value}${C}`}function vs(w){if(w.snapshot){const C=w.snapshot,v=w._futureSnapshot;w.snapshot=v,nn(C.queryParams,v.queryParams)||w.queryParams.next(v.queryParams),C.fragment!==v.fragment&&w.fragment.next(v.fragment),nn(C.params,v.params)||w.params.next(v.params),function Wt(w,C){if(w.length!==C.length)return!1;for(let v=0;v<w.length;++v)if(!nn(w[v],C[v]))return!1;return!0}(C.url,v.url)||w.url.next(v.url),nn(C.data,v.data)||w.data.next(v.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function Br(w,C){const v=nn(w.params,C.params)&&function Mt(w,C){return rt(w,C)&&w.every((v,R)=>nn(v.parameters,C[R].parameters))}(w.url,C.url);return v&&!(!w.parent!=!C.parent)&&(!w.parent||Br(w.parent,C.parent))}function Ps(w,C,v){if(v&&w.shouldReuseRoute(C.value,v.value.snapshot)){const R=v.value;R._futureSnapshot=C.value;const N=function Oo(w,C,v){return C.children.map(R=>{for(const N of v.children)if(w.shouldReuseRoute(R.value,N.value.snapshot))return Ps(w,R,N);return Ps(w,R)})}(w,C,v);return new Hi(R,N)}{if(w.shouldAttach(C.value)){const Z=w.retrieve(C.value);if(null!==Z){const Se=Z.route;return Se.value._futureSnapshot=C.value,Se.children=C.children.map(Le=>Ps(w,Le)),Se}}const R=function Ks(w){return new po(new re.X(w.url),new re.X(w.params),new re.X(w.queryParams),new re.X(w.fragment),new re.X(w.data),w.outlet,w.component,w)}(C.value),N=C.children.map(Z=>Ps(w,Z));return new Hi(R,N)}}const Po="ngNavigationCancelingError";function ko(w,C){const{redirectTo:v,navigationBehaviorOptions:R}=Ye(C)?{redirectTo:C,navigationBehaviorOptions:void 0}:C,N=Wa(!1,0,C);return N.url=v,N.navigationBehaviorOptions=R,N}function Wa(w,C,v){const R=new Error("NavigationCancelingError: "+(w||""));return R[Po]=!0,R.cancellationCode=C,v&&(R.url=v),R}function Jo(w){return Ka(w)&&Ye(w.url)}function Ka(w){return w&&w[Po]}class $i{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vr,this.attachRef=null}}let Vr=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(v,R){const N=this.getOrCreateContext(v);N.outlet=R,this.contexts.set(v,N)}onChildOutletDestroyed(v){const R=this.getContext(v);R&&(R.outlet=null,R.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let R=this.getContext(v);return R||(R=new $i,this.contexts.set(v,R)),R}getContext(v){return this.contexts.get(v)||null}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Fo=!1;let Es=(()=>{class w{constructor(v,R,N,Z,Se){this.parentContexts=v,this.location=R,this.changeDetector=Z,this.environmentInjector=Se,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=N||We,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Fo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Fo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Fo);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,R){this.activated=v,this._activatedRoute=R,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,R){if(this.isActivated)throw new f.vHH(4013,Fo);this._activatedRoute=v;const N=this.location,Se=v._futureSnapshot.component,Le=this.parentContexts.getOrCreateContext(this.name).children,Nt=new Lo(v,Le,N.injector);if(R&&function El(w){return!!w.resolveComponentFactory}(R)){const hn=R.resolveComponentFactory(Se);this.activated=N.createComponent(hn,N.length,Nt)}else this.activated=N.createComponent(Se,{index:N.length,injector:Nt,environmentInjector:R??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(v){return new(v||w)(f.Y36(Vr),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},w.\u0275dir=f.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),w})();class Lo{constructor(C,v,R){this.route=C,this.childContexts=v,this.parent=R}get(C,v){return C===po?this.route:C===Vr?this.childContexts:this.parent.get(C,v)}}let Si=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275cmp=f.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(v,R){1&v&&f._UZ(0,"router-outlet")},dependencies:[Es],encapsulation:2}),w})();function qs(w,C){return w.providers&&!w._injector&&(w._injector=(0,f.MMx)(w.providers,C,`Route: ${w.path}`)),w._injector??C}function Ys(w){const C=w.children&&w.children.map(Ys),v=C?{...w,children:C}:{...w};return!v.component&&!v.loadComponent&&(C||v.loadChildren)&&v.outlet&&v.outlet!==We&&(v.component=Si),v}function hr(w){return w.outlet||We}function Zi(w,C){const v=w.filter(R=>hr(R)===C);return v.push(...w.filter(R=>hr(R)!==C)),v}function Qi(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let C=w.parent;C;C=C.parent){const v=C.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class zn{constructor(C,v,R,N){this.routeReuseStrategy=C,this.futureState=v,this.currState=R,this.forwardEvent=N}activate(C){const v=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,R,C),vs(this.futureState.root),this.activateChildRoutes(v,R,C)}deactivateChildRoutes(C,v,R){const N=Rs(v);C.children.forEach(Z=>{const Se=Z.value.outlet;this.deactivateRoutes(Z,N[Se],R),delete N[Se]}),Un(N,(Z,Se)=>{this.deactivateRouteAndItsChildren(Z,R)})}deactivateRoutes(C,v,R){const N=C.value,Z=v?v.value:null;if(N===Z)if(N.component){const Se=R.getContext(N.outlet);Se&&this.deactivateChildRoutes(C,v,Se.children)}else this.deactivateChildRoutes(C,v,R);else Z&&this.deactivateRouteAndItsChildren(v,R)}deactivateRouteAndItsChildren(C,v){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,v):this.deactivateRouteAndOutlet(C,v)}detachAndStoreRouteSubtree(C,v){const R=v.getContext(C.value.outlet),N=R&&C.value.component?R.children:v,Z=Rs(C);for(const Se of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[Se],N);if(R&&R.outlet){const Se=R.outlet.detach(),Le=R.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:Se,route:C,contexts:Le})}}deactivateRouteAndOutlet(C,v){const R=v.getContext(C.value.outlet),N=R&&C.value.component?R.children:v,Z=Rs(C);for(const Se of Object.keys(Z))this.deactivateRouteAndItsChildren(Z[Se],N);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(C,v,R){const N=Rs(v);C.children.forEach(Z=>{this.activateRoutes(Z,N[Z.value.outlet],R),this.forwardEvent(new Jt(Z.value.snapshot))}),C.children.length&&this.forwardEvent(new Bt(C.value.snapshot))}activateRoutes(C,v,R){const N=C.value,Z=v?v.value:null;if(vs(N),N===Z)if(N.component){const Se=R.getOrCreateContext(N.outlet);this.activateChildRoutes(C,v,Se.children)}else this.activateChildRoutes(C,v,R);else if(N.component){const Se=R.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Le=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),Se.children.onOutletReAttached(Le.contexts),Se.attachRef=Le.componentRef,Se.route=Le.route.value,Se.outlet&&Se.outlet.attach(Le.componentRef,Le.route.value),vs(Le.route.value),this.activateChildRoutes(C,null,Se.children)}else{const Le=Qi(N.snapshot),Nt=Le?.get(f._Vd)??null;Se.attachRef=null,Se.route=N,Se.resolver=Nt,Se.injector=Le,Se.outlet&&Se.outlet.activateWith(N,Se.injector),this.activateChildRoutes(C,null,Se.children)}}else this.activateChildRoutes(C,null,R)}}class ea{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Bo{constructor(C,v){this.component=C,this.route=v}}function ma(w,C,v){const R=w._root;return Or(R,C?C._root:null,v,[R.value])}function jr(w,C){const v=Symbol(),R=C.get(w,v);return R===v?"function"!=typeof w||(0,f.Z0I)(w)?C.get(w):w:R}function Or(w,C,v,R,N={canDeactivateChecks:[],canActivateChecks:[]}){const Z=Rs(C);return w.children.forEach(Se=>{(function Gr(w,C,v,R,N={canDeactivateChecks:[],canActivateChecks:[]}){const Z=w.value,Se=C?C.value:null,Le=v?v.getContext(w.value.outlet):null;if(Se&&Z.routeConfig===Se.routeConfig){const Nt=function Ya(w,C,v){if("function"==typeof v)return v(w,C);switch(v){case"pathParamsChange":return!rt(w.url,C.url);case"pathParamsOrQueryParamsChange":return!rt(w.url,C.url)||!nn(w.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Br(w,C)||!nn(w.queryParams,C.queryParams);default:return!Br(w,C)}}(Se,Z,Z.routeConfig.runGuardsAndResolvers);Nt?N.canActivateChecks.push(new ea(R)):(Z.data=Se.data,Z._resolvedData=Se._resolvedData),Or(w,C,Z.component?Le?Le.children:null:v,R,N),Nt&&Le&&Le.outlet&&Le.outlet.isActivated&&N.canDeactivateChecks.push(new Bo(Le.outlet.component,Se))}else Se&&Kt(C,Le,N),N.canActivateChecks.push(new ea(R)),Or(w,null,Z.component?Le?Le.children:null:v,R,N)})(Se,Z[Se.value.outlet],v,R.concat([Se.value]),N),delete Z[Se.value.outlet]}),Un(Z,(Se,Le)=>Kt(Se,v.getContext(Le),N)),N}function Kt(w,C,v){const R=Rs(w),N=w.value;Un(R,(Z,Se)=>{Kt(Z,N.component?C?C.children.getContext(Se):null:C,v)}),v.canDeactivateChecks.push(new Bo(N.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,N))}function Qn(w){return"function"==typeof w}function kn(w){return w instanceof ee.K||"EmptyError"===w?.name}const ai=Symbol("INITIAL_VALUE");function ks(){return(0,Be.w)(w=>(0,W.a)(w.map(C=>C.pipe((0,fe.q)(1),(0,Pe.O)(ai)))).pipe((0,Et.U)(C=>{for(const v of C)if(!0!==v){if(v===ai)return ai;if(!1===v||v instanceof me)return v}return!0}),(0,Ge.h)(C=>C!==ai),(0,fe.q)(1)))}function Ea(w){return(0,de.z)((0,Zt.b)(C=>{if(Ye(C))throw ko(0,C)}),(0,Et.U)(C=>!0===C))}const wa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _o(w,C,v,R,N){const Z=Pr(w,C,v);return Z.matched?function ba(w,C,v,R){const N=C.canMatch;if(!N||0===N.length)return(0,k.of)(!0);const Z=N.map(Se=>{const Le=jr(Se,w);return pi(function F(w){return w&&Qn(w.canMatch)}(Le)?Le.canMatch(C,v):w.runInContext(()=>Le(C,v)))});return(0,k.of)(Z).pipe(ks(),Ea())}(R=qs(C,R),C,v).pipe((0,Et.U)(Se=>!0===Se?Z:{...wa})):(0,k.of)(Z)}function Pr(w,C,v){if(""===C.path)return"full"===C.pathMatch&&(w.hasChildren()||v.length>0)?{...wa}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const N=(C.matcher||xt)(v,w,C);if(!N)return{...wa};const Z={};Un(N.posParams,(Le,Nt)=>{Z[Nt]=Le.path});const Se=N.consumed.length>0?{...Z,...N.consumed[N.consumed.length-1].parameters}:Z;return{matched:!0,consumedSegments:N.consumed,remainingSegments:v.slice(N.consumed.length),parameters:Se,positionalParamSegments:N.posParams??{}}}function jo(w,C,v,R,N="corrected"){if(v.length>0&&function ar(w,C,v){return v.some(R=>vo(w,C,R)&&hr(R)!==We)}(w,v,R)){const Se=new ae(C,function Go(w,C,v,R){const N={};N[We]=R,R._sourceSegment=w,R._segmentIndexShift=C.length;for(const Z of v)if(""===Z.path&&hr(Z)!==We){const Se=new ae([],{});Se._sourceSegment=w,Se._segmentIndexShift=C.length,N[hr(Z)]=Se}return N}(w,C,R,new ae(v,w.children)));return Se._sourceSegment=w,Se._segmentIndexShift=C.length,{segmentGroup:Se,slicedSegments:[]}}if(0===v.length&&function yo(w,C,v){return v.some(R=>vo(w,C,R))}(w,v,R)){const Se=new ae(w.segments,function bl(w,C,v,R,N,Z){const Se={};for(const Le of R)if(vo(w,v,Le)&&!N[hr(Le)]){const Nt=new ae([],{});Nt._sourceSegment=w,Nt._segmentIndexShift="legacy"===Z?w.segments.length:C.length,Se[hr(Le)]=Nt}return{...N,...Se}}(w,C,v,R,w.children,N));return Se._sourceSegment=w,Se._segmentIndexShift=C.length,{segmentGroup:Se,slicedSegments:v}}const Z=new ae(w.segments,w.children);return Z._sourceSegment=w,Z._segmentIndexShift=C.length,{segmentGroup:Z,slicedSegments:v}}function vo(w,C,v){return(!(w.hasChildren()||C.length>0)||"full"!==v.pathMatch)&&""===v.path}function Da(w,C,v,R){return!!(hr(w)===R||R!==We&&vo(C,v,w))&&("**"===w.path||Pr(C,w,v).matched)}function bs(w,C,v){return 0===C.length&&!w.children[v]}const Eo=!1;class Ca{constructor(C){this.segmentGroup=C||null}}class xi{constructor(C){this.urlTree=C}}function Fs(w){return(0,z._)(new Ca(w))}function Fi(w){return(0,z._)(new xi(w))}class Ia{constructor(C,v,R,N,Z){this.injector=C,this.configLoader=v,this.urlSerializer=R,this.urlTree=N,this.config=Z,this.allowRedirects=!0}apply(){const C=jo(this.urlTree.root,[],[],this.config).segmentGroup,v=new ae(C.segments,C.children);return this.expandSegmentGroup(this.injector,this.config,v,We).pipe((0,Et.U)(Z=>this.createUrlTree(Ce(Z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Ht.K)(Z=>{if(Z instanceof xi)return this.allowRedirects=!1,this.match(Z.urlTree);throw Z instanceof Ca?this.noMatchError(Z):Z}))}match(C){return this.expandSegmentGroup(this.injector,this.config,C.root,We).pipe((0,Et.U)(N=>this.createUrlTree(Ce(N),C.queryParams,C.fragment))).pipe((0,Ht.K)(N=>{throw N instanceof Ca?this.noMatchError(N):N}))}noMatchError(C){return new f.vHH(4002,Eo)}createUrlTree(C,v,R){const N=_e(C);return new me(N,v,R)}expandSegmentGroup(C,v,R,N){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(C,v,R).pipe((0,Et.U)(Z=>new ae([],Z))):this.expandSegment(C,R,v,R.segments,N,!0)}expandChildren(C,v,R){const N=[];for(const Z of Object.keys(R.children))"primary"===Z?N.unshift(Z):N.push(Z);return(0,d.D)(N).pipe((0,wt.b)(Z=>{const Se=R.children[Z],Le=Zi(v,Z);return this.expandSegmentGroup(C,Le,Se,Z).pipe((0,Et.U)(Nt=>({segment:Nt,outlet:Z})))}),(0,on.R)((Z,Se)=>(Z[Se.outlet]=Se.segment,Z),{}),di())}expandSegment(C,v,R,N,Z,Se){return(0,d.D)(R).pipe((0,wt.b)(Le=>this.expandSegmentAgainstRoute(C,v,R,Le,N,Z,Se).pipe((0,Ht.K)(hn=>{if(hn instanceof Ca)return(0,k.of)(null);throw hn}))),(0,Ve.P)(Le=>!!Le),(0,Ht.K)((Le,Nt)=>{if(kn(Le))return bs(v,N,Z)?(0,k.of)(new ae([],{})):Fs(v);throw Le}))}expandSegmentAgainstRoute(C,v,R,N,Z,Se,Le){return Da(N,v,Z,Se)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(C,v,N,Z,Se):Le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,v,R,N,Z,Se):Fs(v):Fs(v)}expandSegmentAgainstRouteUsingRedirect(C,v,R,N,Z,Se){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,R,N,Se):this.expandRegularSegmentAgainstRouteUsingRedirect(C,v,R,N,Z,Se)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,v,R,N){const Z=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Fi(Z):this.lineralizeSegments(R,Z).pipe((0,qe.z)(Se=>{const Le=new ae(Se,{});return this.expandSegment(C,Le,v,Se,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,v,R,N,Z,Se){const{matched:Le,consumedSegments:Nt,remainingSegments:hn,positionalParamSegments:ei}=Pr(v,N,Z);if(!Le)return Fs(v);const In=this.applyRedirectCommands(Nt,N.redirectTo,ei);return N.redirectTo.startsWith("/")?Fi(In):this.lineralizeSegments(N,In).pipe((0,qe.z)(ki=>this.expandSegment(C,v,R,ki.concat(hn),Se,!1)))}matchSegmentAgainstRoute(C,v,R,N,Z){return"**"===R.path?(C=qs(R,C),R.loadChildren?(R._loadedRoutes?(0,k.of)({routes:R._loadedRoutes,injector:R._loadedInjector}):this.configLoader.loadChildren(C,R)).pipe((0,Et.U)(Le=>(R._loadedRoutes=Le.routes,R._loadedInjector=Le.injector,new ae(N,{})))):(0,k.of)(new ae(N,{}))):_o(v,R,N,C).pipe((0,Be.w)(({matched:Se,consumedSegments:Le,remainingSegments:Nt})=>Se?this.getChildConfig(C=R._injector??C,R,N).pipe((0,qe.z)(ei=>{const In=ei.injector??C,ki=ei.routes,{segmentGroup:Fr,slicedSegments:Us}=jo(v,Le,Nt,ki),Xs=new ae(Fr.segments,Fr.children);if(0===Us.length&&Xs.hasChildren())return this.expandChildren(In,ki,Xs).pipe((0,Et.U)(ra=>new ae(Le,ra)));if(0===ki.length&&0===Us.length)return(0,k.of)(new ae(Le,{}));const Ji=hr(R)===Z;return this.expandSegment(In,Xs,ki,Us,Ji?We:Z,!0).pipe((0,Et.U)(sl=>new ae(Le.concat(sl.segments),sl.children)))})):Fs(v)))}getChildConfig(C,v,R){return v.children?(0,k.of)({routes:v.children,injector:C}):v.loadChildren?void 0!==v._loadedRoutes?(0,k.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Qa(w,C,v,R){const N=C.canLoad;if(void 0===N||0===N.length)return(0,k.of)(!0);const Z=N.map(Se=>{const Le=jr(Se,w);return pi(function _a(w){return w&&Qn(w.canLoad)}(Le)?Le.canLoad(C,v):w.runInContext(()=>Le(C,v)))});return(0,k.of)(Z).pipe(ks(),Ea())}(C,v,R).pipe((0,qe.z)(N=>N?this.configLoader.loadChildren(C,v).pipe((0,Zt.b)(Z=>{v._loadedRoutes=Z.routes,v._loadedInjector=Z.injector})):function Xa(w){return(0,z._)(Wa(Eo,3))}())):(0,k.of)({routes:[],injector:C})}lineralizeSegments(C,v){let R=[],N=v.root;for(;;){if(R=R.concat(N.segments),0===N.numberOfChildren)return(0,k.of)(R);if(N.numberOfChildren>1||!N.children[We])return(0,z._)(new f.vHH(4e3,Eo));N=N.children[We]}}applyRedirectCommands(C,v,R){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),C,R)}applyRedirectCreateUrlTree(C,v,R,N){const Z=this.createSegmentGroup(C,v.root,R,N);return new me(Z,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(C,v){const R={};return Un(C,(N,Z)=>{if("string"==typeof N&&N.startsWith(":")){const Le=N.substring(1);R[Z]=v[Le]}else R[Z]=N}),R}createSegmentGroup(C,v,R,N){const Z=this.createSegments(C,v.segments,R,N);let Se={};return Un(v.children,(Le,Nt)=>{Se[Nt]=this.createSegmentGroup(C,Le,R,N)}),new ae(Z,Se)}createSegments(C,v,R,N){return v.map(Z=>Z.path.startsWith(":")?this.findPosParam(C,Z,N):this.findOrReturn(Z,R))}findPosParam(C,v,R){const N=R[v.path.substring(1)];if(!N)throw new f.vHH(4001,Eo);return N}findOrReturn(C,v){let R=0;for(const N of v){if(N.path===C.path)return v.splice(R),N;R++}return C}}class Sa{}class el{constructor(C,v,R,N,Z,Se,Le,Nt){this.injector=C,this.rootComponentType=v,this.config=R,this.urlTree=N,this.url=Z,this.paramsInheritanceStrategy=Se,this.relativeLinkResolution=Le,this.urlSerializer=Nt}recognize(){const C=jo(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,C,We).pipe((0,Et.U)(v=>{if(null===v)return null;const R=new Os([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},We,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new Hi(R,v),Z=new Ro(this.url,N);return this.inheritParamsAndData(Z._root),Z}))}inheritParamsAndData(C){const v=C.value,R=Ws(v,this.paramsInheritanceStrategy);v.params=Object.freeze(R.params),v.data=Object.freeze(R.data),C.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(C,v,R,N){return 0===R.segments.length&&R.hasChildren()?this.processChildren(C,v,R):this.processSegment(C,v,R,R.segments,N)}processChildren(C,v,R){return(0,d.D)(Object.keys(R.children)).pipe((0,wt.b)(N=>{const Z=R.children[N],Se=Zi(v,N);return this.processSegmentGroup(C,Se,Z,N)}),(0,on.R)((N,Z)=>N&&Z?(N.push(...Z),N):null),function ht(w,C=!1){return(0,De.e)((v,R)=>{let N=0;v.subscribe((0,Te.x)(R,Z=>{const Se=w(Z,N++);(Se||C)&&R.next(Z),!Se&&R.complete()}))})}(N=>null!==N),(0,Kn.d)(null),di(),(0,Et.U)(N=>{if(null===N)return null;const Z=so(N);return function tl(w){w.sort((C,v)=>C.value.outlet===We?-1:v.value.outlet===We?1:C.value.outlet.localeCompare(v.value.outlet))}(Z),Z}))}processSegment(C,v,R,N,Z){return(0,d.D)(v).pipe((0,wt.b)(Se=>this.processSegmentAgainstRoute(Se._injector??C,Se,R,N,Z)),(0,Ve.P)(Se=>!!Se),(0,Ht.K)(Se=>{if(kn(Se))return bs(R,N,Z)?(0,k.of)([]):(0,k.of)(null);throw Se}))}processSegmentAgainstRoute(C,v,R,N,Z){if(v.redirectTo||!Da(v,R,N,Z))return(0,k.of)(null);let Se;if("**"===v.path){const Le=N.length>0?Tn(N).parameters:{},Nt=bo(R)+N.length,hn=new Os(N,Le,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ma(v),hr(v),v.component??v._loadedComponent??null,v,Ns(R),Nt,T(v),Nt);Se=(0,k.of)({snapshot:hn,consumedSegments:[],remainingSegments:[]})}else Se=_o(R,v,N,C).pipe((0,Et.U)(({matched:Le,consumedSegments:Nt,remainingSegments:hn,parameters:ei})=>{if(!Le)return null;const In=bo(R)+Nt.length;return{snapshot:new Os(Nt,ei,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ma(v),hr(v),v.component??v._loadedComponent??null,v,Ns(R),In,T(v),In),consumedSegments:Nt,remainingSegments:hn}}));return Se.pipe((0,Be.w)(Le=>{if(null===Le)return(0,k.of)(null);const{snapshot:Nt,consumedSegments:hn,remainingSegments:ei}=Le;C=v._injector??C;const In=v._loadedInjector??C,ki=function wl(w){return w.children?w.children:w.loadChildren?w._loadedRoutes:[]}(v),{segmentGroup:Fr,slicedSegments:Us}=jo(R,hn,ei,ki.filter(Ji=>void 0===Ji.redirectTo),this.relativeLinkResolution);if(0===Us.length&&Fr.hasChildren())return this.processChildren(In,ki,Fr).pipe((0,Et.U)(Ji=>null===Ji?null:[new Hi(Nt,Ji)]));if(0===ki.length&&0===Us.length)return(0,k.of)([new Hi(Nt,[])]);const Xs=hr(v)===Z;return this.processSegment(In,ki,Fr,Us,Xs?We:Z).pipe((0,Et.U)(Ji=>null===Ji?null:[new Hi(Nt,Ji)]))}))}}function Ls(w){const C=w.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function so(w){const C=[],v=new Set;for(const R of w){if(!Ls(R)){C.push(R);continue}const N=C.find(Z=>R.value.routeConfig===Z.value.routeConfig);void 0!==N?(N.children.push(...R.children),v.add(N)):C.push(R)}for(const R of v){const N=so(R.children);C.push(new Hi(R.value,N))}return C.filter(R=>!v.has(R))}function Ns(w){let C=w;for(;C._sourceSegment;)C=C._sourceSegment;return C}function bo(w){let C=w,v=C._segmentIndexShift??0;for(;C._sourceSegment;)C=C._sourceSegment,v+=C._segmentIndexShift??0;return v-1}function Ma(w){return w.data||{}}function T(w){return w.resolve||{}}function Rn(w){return"string"==typeof w.title||null===w.title}function vi(w){return(0,Be.w)(C=>{const v=w(C);return v?(0,d.D)(v).pipe((0,Et.U)(()=>C)):(0,k.of)(C)})}let Ei=(()=>{class w{buildTitle(v){let R,N=v.root;for(;void 0!==N;)R=this.getResolvedTitleForRoute(N)??R,N=N.children.find(Z=>Z.outlet===We);return R}getResolvedTitleForRoute(v){return v.data[Yt]}}return w.\u0275fac=function(v){return new(v||w)},w.\u0275prov=f.Yz7({token:w,factory:function(){return(0,f.f3M)(Ti)},providedIn:"root"}),w})(),Ti=(()=>{class w extends Ei{constructor(v){super(),this.title=v}updateTitle(v){const R=this.buildTitle(v);void 0!==R&&this.title.setTitle(R)}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(Ut.Dx))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class zi{}class fr extends class gi{shouldDetach(C){return!1}store(C,v){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,v){return C.routeConfig===v.routeConfig}}{}const kr=new f.OlP("",{providedIn:"root",factory:()=>({})}),pr=new f.OlP("ROUTES");let wo=(()=>{class w{constructor(v,R){this.injector=v,this.compiler=R,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,k.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const R=pi(v.loadComponent()).pipe((0,Zt.b)(Z=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=Z}),(0,Rt.x)(()=>{this.componentLoaders.delete(v)})),N=new Ze(R,()=>new Fe.x).pipe(nt());return this.componentLoaders.set(v,N),N}loadChildren(v,R){if(this.childrenLoaders.get(R))return this.childrenLoaders.get(R);if(R._loadedRoutes)return(0,k.of)({routes:R._loadedRoutes,injector:R._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(R);const Z=this.loadModuleFactoryOrRoutes(R.loadChildren).pipe((0,Et.U)(Le=>{this.onLoadEndListener&&this.onLoadEndListener(R);let Nt,hn,ei=!1;Array.isArray(Le)?hn=Le:(Nt=Le.create(v).injector,hn=xn(Nt.get(pr,[],f.XFs.Self|f.XFs.Optional)));return{routes:hn.map(Ys),injector:Nt}}),(0,Rt.x)(()=>{this.childrenLoaders.delete(R)})),Se=new Ze(Z,()=>new Fe.x).pipe(nt());return this.childrenLoaders.set(R,Se),Se}loadModuleFactoryOrRoutes(v){return pi(v()).pipe((0,qe.z)(R=>R instanceof f.YKP||Array.isArray(R)?(0,k.of)(R):(0,d.D)(this.compiler.compileModuleAsync(R))))}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(f.zs3),f.LFG(f.Sil))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();class $o{}class ta{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,v){return C}}function Cl(w){throw w}function na(w,C,v){return C.parse("/")}const Au={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ra(){const w=(0,f.f3M)(pt),C=(0,f.f3M)(Vr),v=(0,f.f3M)(It.Ye),R=(0,f.f3M)(f.zs3),N=(0,f.f3M)(f.Sil),Z=(0,f.f3M)(pr,{optional:!0})??[],Se=(0,f.f3M)(kr,{optional:!0})??{},Le=(0,f.f3M)(Ti),Nt=(0,f.f3M)(Ei,{optional:!0}),hn=(0,f.f3M)($o,{optional:!0}),ei=(0,f.f3M)(zi,{optional:!0}),In=new gr(null,w,C,v,R,N,xn(Z));return hn&&(In.urlHandlingStrategy=hn),ei&&(In.routeReuseStrategy=ei),In.titleStrategy=Nt??Le,function xu(w,C){w.errorHandler&&(C.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(C.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(C.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(C.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(C.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(C.canceledNavigationResolution=w.canceledNavigationResolution)}(Se,In),In}let gr=(()=>{class w{constructor(v,R,N,Z,Se,Le,Nt){this.rootComponentType=v,this.urlSerializer=R,this.rootContexts=N,this.location=Z,this.config=Nt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Fe.x,this.errorHandler=Cl,this.malformedUriErrorHandler=na,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,k.of)(void 0),this.urlHandlingStrategy=new ta,this.routeReuseStrategy=new fr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Se.get(wo),this.configLoader.onLoadEndListener=ki=>this.triggerEvent(new Tt(ki)),this.configLoader.onLoadStartListener=ki=>this.triggerEvent(new ke(ki)),this.ngModule=Se.get(f.h0i),this.console=Se.get(f.c2e);const In=Se.get(f.R0b);this.isNgZoneEnabled=In instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Nt),this.currentUrlTree=function J(){return new me(new ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zs(this.currentUrlTree,this.rootComponentType),this.transitions=new re.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const R=this.events;return v.pipe((0,Ge.h)(N=>0!==N.id),(0,Et.U)(N=>({...N,extractedUrl:this.urlHandlingStrategy.extract(N.rawUrl)})),(0,Be.w)(N=>{let Z=!1,Se=!1;return(0,k.of)(N).pipe((0,Zt.b)(Le=>{this.currentNavigation={id:Le.id,initialUrl:Le.rawUrl,extractedUrl:Le.extractedUrl,trigger:Le.source,extras:Le.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Be.w)(Le=>{const Nt=this.browserUrlTree.toString(),hn=!this.navigated||Le.extractedUrl.toString()!==Nt||Nt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||hn)&&this.urlHandlingStrategy.shouldProcessUrl(Le.rawUrl))return ia(Le.source)&&(this.browserUrlTree=Le.extractedUrl),(0,k.of)(Le).pipe((0,Be.w)(In=>{const ki=this.transitions.getValue();return R.next(new ys(In.id,this.serializeUrl(In.extractedUrl),In.source,In.restoredState)),ki!==this.transitions.getValue()?U.E:Promise.resolve(In)}),function xa(w,C,v,R){return(0,Be.w)(N=>function Aa(w,C,v,R,N){return new Ia(w,C,v,R,N).apply()}(w,C,v,N.extractedUrl,R).pipe((0,Et.U)(Z=>({...N,urlAfterRedirects:Z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zt.b)(In=>{this.currentNavigation={...this.currentNavigation,finalUrl:In.urlAfterRedirects},N.urlAfterRedirects=In.urlAfterRedirects}),function G(w,C,v,R,N,Z){return(0,qe.z)(Se=>function Ja(w,C,v,R,N,Z,Se="emptyOnly",Le="legacy"){return new el(w,C,v,R,N,Se,Le,Z).recognize().pipe((0,Be.w)(Nt=>null===Nt?function Ho(w){return new ce.y(C=>C.error(w))}(new Sa):(0,k.of)(Nt)))}(w,C,v,Se.urlAfterRedirects,R.serialize(Se.urlAfterRedirects),R,N,Z).pipe((0,Et.U)(Le=>({...Se,targetSnapshot:Le}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zt.b)(In=>{if(N.targetSnapshot=In.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!In.extras.skipLocationChange){const Fr=this.urlHandlingStrategy.merge(In.urlAfterRedirects,In.rawUrl);this.setBrowserUrl(Fr,In)}this.browserUrlTree=In.urlAfterRedirects}const ki=new Dr(In.id,this.serializeUrl(In.extractedUrl),this.serializeUrl(In.urlAfterRedirects),In.targetSnapshot);R.next(ki)}));if(hn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ki,extractedUrl:Fr,source:Us,restoredState:Xs,extras:Ji}=Le,ti=new ys(ki,this.serializeUrl(Fr),Us,Xs);R.next(ti);const sl=zs(Fr,this.rootComponentType).snapshot;return N={...Le,targetSnapshot:sl,urlAfterRedirects:Fr,extras:{...Ji,skipLocationChange:!1,replaceUrl:!1}},(0,k.of)(N)}return this.rawUrlTree=Le.rawUrl,Le.resolve(null),U.E}),(0,Zt.b)(Le=>{const Nt=new is(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot);this.triggerEvent(Nt)}),(0,Et.U)(Le=>N={...Le,guards:ma(Le.targetSnapshot,Le.currentSnapshot,this.rootContexts)}),function Vo(w,C){return(0,qe.z)(v=>{const{targetSnapshot:R,currentSnapshot:N,guards:{canActivateChecks:Z,canDeactivateChecks:Se}}=v;return 0===Se.length&&0===Z.length?(0,k.of)({...v,guardsResult:!0}):function Xi(w,C,v,R){return(0,d.D)(w).pipe((0,qe.z)(N=>function va(w,C,v,R,N){const Z=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!Z||0===Z.length)return(0,k.of)(!0);const Se=Z.map(Le=>{const Nt=Qi(C)??N,hn=jr(Le,Nt);return pi(function L(w){return w&&Qn(w.canDeactivate)}(hn)?hn.canDeactivate(w,C,v,R):Nt.runInContext(()=>hn(w,C,v,R))).pipe((0,Ve.P)())});return(0,k.of)(Se).pipe(ks())}(N.component,N.route,v,C,R)),(0,Ve.P)(N=>!0!==N,!0))}(Se,R,N,w).pipe((0,qe.z)(Le=>Le&&function Za(w){return"boolean"==typeof w}(Le)?function Cr(w,C,v,R){return(0,d.D)(C).pipe((0,wt.b)(N=>(0,Ee.z)(function Uo(w,C){return null!==w&&C&&C(new _t(w)),(0,k.of)(!0)}(N.route.parent,R),function Yr(w,C){return null!==w&&C&&C(new yn(w)),(0,k.of)(!0)}(N.route,R),function ya(w,C,v){const R=C[C.length-1],Z=C.slice(0,C.length-1).reverse().map(Se=>function qa(w){const C=w.routeConfig?w.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:w,guards:C}:null}(Se)).filter(Se=>null!==Se).map(Se=>(0,he.P)(()=>{const Le=Se.guards.map(Nt=>{const hn=Qi(Se.node)??v,ei=jr(Nt,hn);return pi(function V(w){return w&&Qn(w.canActivateChild)}(ei)?ei.canActivateChild(R,w):hn.runInContext(()=>ei(R,w))).pipe((0,Ve.P)())});return(0,k.of)(Le).pipe(ks())}));return(0,k.of)(Z).pipe(ks())}(w,N.path,v),function Ci(w,C,v){const R=C.routeConfig?C.routeConfig.canActivate:null;if(!R||0===R.length)return(0,k.of)(!0);const N=R.map(Z=>(0,he.P)(()=>{const Se=Qi(C)??v,Le=jr(Z,Se);return pi(function sr(w){return w&&Qn(w.canActivate)}(Le)?Le.canActivate(C,w):Se.runInContext(()=>Le(C,w))).pipe((0,Ve.P)())}));return(0,k.of)(N).pipe(ks())}(w,N.route,v))),(0,Ve.P)(N=>!0!==N,!0))}(R,Z,w,C):(0,k.of)(Le)),(0,Et.U)(Le=>({...v,guardsResult:Le})))})}(this.ngModule.injector,Le=>this.triggerEvent(Le)),(0,Zt.b)(Le=>{if(N.guardsResult=Le.guardsResult,Ye(Le.guardsResult))throw ko(0,Le.guardsResult);const Nt=new rs(Le.id,this.serializeUrl(Le.extractedUrl),this.serializeUrl(Le.urlAfterRedirects),Le.targetSnapshot,!!Le.guardsResult);this.triggerEvent(Nt)}),(0,Ge.h)(Le=>!!Le.guardsResult||(this.restoreHistory(Le),this.cancelNavigationTransition(Le,"",3),!1)),vi(Le=>{if(Le.guards.canActivateChecks.length)return(0,k.of)(Le).pipe((0,Zt.b)(Nt=>{const hn=new fo(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);this.triggerEvent(hn)}),(0,Be.w)(Nt=>{let hn=!1;return(0,k.of)(Nt).pipe(function P(w,C){return(0,qe.z)(v=>{const{targetSnapshot:R,guards:{canActivateChecks:N}}=v;if(!N.length)return(0,k.of)(v);let Z=0;return(0,d.D)(N).pipe((0,wt.b)(Se=>function Y(w,C,v,R){const N=w.routeConfig,Z=w._resolve;return void 0!==N?.title&&!Rn(N)&&(Z[Yt]=N.title),function je(w,C,v,R){const N=function Ot(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===N.length)return(0,k.of)({});const Z={};return(0,d.D)(N).pipe((0,qe.z)(Se=>function $t(w,C,v,R){const N=Qi(C)??R,Z=jr(w,N);return pi(Z.resolve?Z.resolve(C,v):N.runInContext(()=>Z(C,v)))}(w[Se],C,v,R).pipe((0,Ve.P)(),(0,Zt.b)(Le=>{Z[Se]=Le}))),Gt(1),(0,ut.h)(Z),(0,Ht.K)(Se=>kn(Se)?U.E:(0,z._)(Se)))}(Z,w,C,R).pipe((0,Et.U)(Se=>(w._resolvedData=Se,w.data=Ws(w,v).resolve,N&&Rn(N)&&(w.data[Yt]=N.title),null)))}(Se.route,R,w,C)),(0,Zt.b)(()=>Z++),Gt(1),(0,qe.z)(Se=>Z===N.length?(0,k.of)(v):U.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zt.b)({next:()=>hn=!0,complete:()=>{hn||(this.restoreHistory(Nt),this.cancelNavigationTransition(Nt,"",2))}}))}),(0,Zt.b)(Nt=>{const hn=new Rr(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);this.triggerEvent(hn)}))}),vi(Le=>{const Nt=hn=>{const ei=[];hn.routeConfig?.loadComponent&&!hn.routeConfig._loadedComponent&&ei.push(this.configLoader.loadComponent(hn.routeConfig).pipe((0,Zt.b)(In=>{hn.component=In}),(0,Et.U)(()=>{})));for(const In of hn.children)ei.push(...Nt(In));return ei};return(0,W.a)(Nt(Le.targetSnapshot.root)).pipe((0,Kn.d)(),(0,fe.q)(1))}),vi(()=>this.afterPreactivation()),(0,Et.U)(Le=>{const Nt=function Xo(w,C,v){const R=Ps(w,C._root,v?v._root:void 0);return new $s(R,C)}(this.routeReuseStrategy,Le.targetSnapshot,Le.currentRouterState);return N={...Le,targetRouterState:Nt}}),(0,Zt.b)(Le=>{this.currentUrlTree=Le.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Le.urlAfterRedirects,Le.rawUrl),this.routerState=Le.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Le.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Le),this.browserUrlTree=Le.urlAfterRedirects)}),((w,C,v)=>(0,Et.U)(R=>(new zn(C,R.targetRouterState,R.currentRouterState,v).activate(w),R)))(this.rootContexts,this.routeReuseStrategy,Le=>this.triggerEvent(Le)),(0,Zt.b)({next(){Z=!0},complete(){Z=!0}}),(0,Rt.x)(()=>{Z||Se||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),(0,Ht.K)(Le=>{if(Se=!0,Ka(Le)){Jo(Le)||(this.navigated=!0,this.restoreHistory(N,!0));const Nt=new Vi(N.id,this.serializeUrl(N.extractedUrl),Le.message,Le.cancellationCode);if(R.next(Nt),Jo(Le)){const hn=this.urlHandlingStrategy.merge(Le.url,this.rawUrlTree),ei={skipLocationChange:N.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ia(N.source)};this.scheduleNavigation(hn,"imperative",null,ei,{resolve:N.resolve,reject:N.reject,promise:N.promise})}else N.resolve(!1)}else{this.restoreHistory(N,!0);const Nt=new Gi(N.id,this.serializeUrl(N.extractedUrl),Le,N.targetSnapshot??void 0);R.next(Nt);try{N.resolve(this.errorHandler(Le))}catch(hn){N.reject(hn)}}return U.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const R="popstate"===v.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{const N={replaceUrl:!0},Z=v.state?.navigationId?v.state:null;if(Z){const Le={...Z};delete Le.navigationId,delete Le.\u0275routerPageId,0!==Object.keys(Le).length&&(N.state=Le)}const Se=this.parseUrl(v.url);this.scheduleNavigation(Se,R,Z,N)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(Ys),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,R={}){const{relativeTo:N,queryParams:Z,fragment:Se,queryParamsHandling:Le,preserveFragment:Nt}=R,hn=N||this.routerState.root,ei=Nt?this.currentUrlTree.fragment:Se;let In=null;switch(Le){case"merge":In={...this.currentUrlTree.queryParams,...Z};break;case"preserve":In=this.currentUrlTree.queryParams;break;default:In=Z||null}return null!==In&&(In=this.removeEmptyProps(In)),lt(hn,this.currentUrlTree,v,In,ei??null)}navigateByUrl(v,R={skipLocationChange:!1}){const N=Ye(v)?v:this.parseUrl(v),Z=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(Z,"imperative",null,R)}navigate(v,R={skipLocationChange:!1}){return function Sc(w){for(let C=0;C<w.length;C++){if(null==w[C])throw new f.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,R),R)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let R;try{R=this.urlSerializer.parse(v)}catch(N){R=this.malformedUriErrorHandler(N,this.urlSerializer,v)}return R}isActive(v,R){let N;if(N=!0===R?{...Au}:!1===R?{...Iu}:R,Ye(v))return ne(this.currentUrlTree,v,N);const Z=this.parseUrl(v);return ne(this.currentUrlTree,Z,N)}removeEmptyProps(v){return Object.keys(v).reduce((R,N)=>{const Z=v[N];return null!=Z&&(R[N]=Z),R},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Ai(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,R,N,Z,Se){if(this.disposed)return Promise.resolve(!1);let Le,Nt,hn;Se?(Le=Se.resolve,Nt=Se.reject,hn=Se.promise):hn=new Promise((ki,Fr)=>{Le=ki,Nt=Fr});const ei=++this.navigationId;let In;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(N=this.location.getState()),In=N&&N.\u0275routerPageId?N.\u0275routerPageId:Z.replaceUrl||Z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):In=0,this.setTransition({id:ei,targetPageId:In,source:R,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:Z,resolve:Le,reject:Nt,promise:hn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),hn.catch(ki=>Promise.reject(ki))}setBrowserUrl(v,R){const N=this.urlSerializer.serialize(v),Z={...R.extras.state,...this.generateNgRouterState(R.id,R.targetPageId)};this.location.isCurrentPathEqualTo(N)||R.extras.replaceUrl?this.location.replaceState(N,"",Z):this.location.go(N,"",Z)}restoreHistory(v,R=!1){if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===N?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===N&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(N)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,R,N){const Z=new Vi(v.id,this.serializeUrl(v.extractedUrl),R,N);this.triggerEvent(Z),v.resolve(!1)}generateNgRouterState(v,R){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:R}:{navigationId:v}}}return w.\u0275fac=function(v){f.$Z()},w.\u0275prov=f.Yz7({token:w,factory:function(){return Ra()},providedIn:"root"}),w})();function ia(w){return"imperative"!==w}class Oa{}let nl=(()=>{class w{constructor(v,R,N,Z,Se){this.router=v,this.injector=N,this.preloadingStrategy=Z,this.loader=Se}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ge.h)(v=>v instanceof Ai),(0,wt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,R){const N=[];for(const Z of R){Z.providers&&!Z._injector&&(Z._injector=(0,f.MMx)(Z.providers,v,`Route: ${Z.path}`));const Se=Z._injector??v,Le=Z._loadedInjector??Se;Z.loadChildren&&!Z._loadedRoutes&&void 0===Z.canLoad||Z.loadComponent&&!Z._loadedComponent?N.push(this.preloadConfig(Se,Z)):(Z.children||Z._loadedRoutes)&&N.push(this.processRoutes(Le,Z.children??Z._loadedRoutes))}return(0,d.D)(N).pipe((0,gt.J)())}preloadConfig(v,R){return this.preloadingStrategy.preload(R,()=>{let N;N=R.loadChildren&&void 0===R.canLoad?this.loader.loadChildren(v,R):(0,k.of)(null);const Z=N.pipe((0,qe.z)(Se=>null===Se?(0,k.of)(void 0):(R._loadedRoutes=Se.routes,R._loadedInjector=Se.injector,this.processRoutes(Se.injector??v,Se.routes))));if(R.loadComponent&&!R._loadedComponent){const Se=this.loader.loadComponent(R);return(0,d.D)([Z,Se]).pipe((0,gt.J)())}return Z})}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(gr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Oa),f.LFG(wo))},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const Tu=new f.OlP("");let Il=(()=>{class w{constructor(v,R,N={}){this.router=v,this.viewportScroller=R,this.options=N,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},N.scrollPositionRestoration=N.scrollPositionRestoration||"disabled",N.anchorScrolling=N.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Ai&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Jn&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,R){this.router.triggerEvent(new Jn(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(v){f.$Z()},w.\u0275prov=f.Yz7({token:w,factory:w.\u0275fac}),w})();function Co(w,C){return{\u0275kind:w,\u0275providers:C}}function Er(w){return[{provide:pr,multi:!0,useValue:w}]}function Bs(){const w=(0,f.f3M)(f.zs3);return C=>{const v=w.get(f.z2F);if(C!==v.components[0])return;const R=w.get(gr),N=w.get(Jl);1===w.get(ec)&&R.initialNavigation(),w.get(Rc,null,f.XFs.Optional)?.setUpPreloading(),w.get(Tu,null,f.XFs.Optional)?.init(),R.resetRootComponentType(v.componentTypes[0]),N.closed||(N.next(),N.unsubscribe())}}const Jl=new f.OlP("",{factory:()=>new Fe.x}),ec=new f.OlP("",{providedIn:"root",factory:()=>1});const Rc=new f.OlP("");function Oc(w){return Co(0,[{provide:Rc,useExisting:nl},{provide:Oa,useExisting:w}])}const Sl=new f.OlP("ROUTER_FORROOT_GUARD"),Dh=[It.Ye,{provide:pt,useClass:Ue},{provide:gr,useFactory:Ra},Vr,{provide:po,useFactory:function Wi(w){return w.routerState.root},deps:[gr]},wo];function Ff(){return new f.PXZ("Router",gr)}let br=(()=>{class w{constructor(v){}static forRoot(v,R){return{ngModule:w,providers:[Dh,[],Er(v),{provide:Sl,useFactory:Pc,deps:[[gr,new f.FiY,new f.tp0]]},{provide:kr,useValue:R||{}},R?.useHash?{provide:It.S$,useClass:It.Do}:{provide:It.S$,useClass:It.b0},{provide:Tu,useFactory:()=>{const w=(0,f.f3M)(gr),C=(0,f.f3M)(It.EM),v=(0,f.f3M)(kr);return v.scrollOffset&&C.setOffset(v.scrollOffset),new Il(w,C,v)}},R?.preloadingStrategy?Oc(R.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Ff},R?.initialNavigation?ws(R):[],[{provide:Vs,useFactory:Bs},{provide:f.tb,multi:!0,useExisting:Vs}]]}}static forChild(v){return{ngModule:w,providers:[Er(v)]}}}return w.\u0275fac=function(v){return new(v||w)(f.LFG(Sl,8))},w.\u0275mod=f.oAB({type:w}),w.\u0275inj=f.cJS({imports:[Si]}),w})();function Pc(w){return"guarded"}function ws(w){return["disabled"===w.initialNavigation?Co(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const C=(0,f.f3M)(gr);return()=>{C.setUpLocationChangeListener()}}},{provide:ec,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Co(2,[{provide:ec,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:C=>{const v=C.get(It.V_,Promise.resolve());let R=!1;return()=>v.then(()=>new Promise(Z=>{const Se=C.get(gr),Le=C.get(Jl);(function N(Z){C.get(gr).events.pipe((0,Ge.h)(Le=>Le instanceof Ai||Le instanceof Vi||Le instanceof Gi),(0,Et.U)(Le=>Le instanceof Ai||Le instanceof Vi&&(0===Le.code||1===Le.code)&&null),(0,Ge.h)(Le=>null!==Le),(0,fe.q)(1)).subscribe(()=>{Z()})})(()=>{Z(!0),R=!0}),Se.afterPreactivation=()=>(Z(!0),R||Le.closed?(0,k.of)(void 0):Le),Se.initialNavigation()}))}}]).\u0275providers:[]]}const Vs=new f.OlP("")},3942:(He,ge,D)=>{D.d(ge,{Z:()=>Te});var f=D(2090),d=D(3475),k=D(6881),re=D(1877);class ee{constructor(Ze,Fe){this._delegate=Ze,this.firebase=Fe,(0,k._addComponent)(Ze,new d.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(Ze,Fe=k._DEFAULT_ENTRY_NAME){var It;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Ze);return!Et.isInitialized()&&"EXPLICIT"===(null===(It=Et.getComponent())||void 0===It?void 0:It.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Fe})}_removeServiceInstance(Ze,Fe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Fe)}_addComponent(Ze){(0,k._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,k._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function de(){const nt=function he(nt){const Ze={},Fe={__esModule:!0,initializeApp:function Be(qe,Ve={}){const wt=k.initializeApp(qe,Ve);if((0,f.r3)(Ze,wt.name))return Ze[wt.name];const Zt=new nt(wt,Fe);return Ze[wt.name]=Zt,Zt},app:Et,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Pe(qe){const Ve=qe.name,wt=Ve.replace("-compat","");if(k._registerComponent(qe)&&"PUBLIC"===qe.type){const Zt=(Ht=Et())=>{if("function"!=typeof Ht[wt])throw Ee.create("invalid-app-argument",{appName:Ve});return Ht[wt]()};void 0!==qe.serviceProps&&(0,f.ZB)(Zt,qe.serviceProps),Fe[wt]=Zt,nt.prototype[wt]=function(...Ht){return this._getService.bind(this,Ve).apply(this,qe.multipleInstances?Ht:[])}}return"PUBLIC"===qe.type?Fe[wt]:null},removeApp:function It(qe){delete Ze[qe]},useAsService:function Ge(qe,Ve){return"serverAuth"===Ve?null:Ve},modularAPIs:k}};function Et(qe){if(!(0,f.r3)(Ze,qe=qe||k._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:qe});return Ze[qe]}return Fe.default=Fe,Object.defineProperty(Fe,"apps",{get:function fe(){return Object.keys(Ze).map(qe=>Ze[qe])}}),Et.App=nt,Fe}(ee);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ze(Fe){(0,f.ZB)(nt,Fe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),nt}(),ce=new re.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=z;!function De(nt){(0,k.registerVersion)("@firebase/app-compat","0.2.13",nt)}()},6881:(He,ge,D)=>{D.r(ge),D.d(ge,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>Ue,_DEFAULT_ENTRY_NAME:()=>Ie,_addComponent:()=>le,_addOrOverwriteComponent:()=>ye,_apps:()=>Ne,_clearComponents:()=>Mt,_components:()=>pe,_getProvider:()=>ae,_registerComponent:()=>me,_removeServiceInstance:()=>tt,deleteApp:()=>Pn,getApp:()=>Dt,getApps:()=>Xt,initializeApp:()=>Oe,onLog:()=>Me,registerVersion:()=>Ke,setLogLevel:()=>dt});var f=D(5861),d=D(3475),k=D(1877),re=D(2090);let W,Ee;const z=new WeakMap,ce=new WeakMap,U=new WeakMap,Re=new WeakMap,De=new WeakMap;let Ze={get(ft,lt,zt){if(ft instanceof IDBTransaction){if("done"===lt)return ce.get(ft);if("objectStoreNames"===lt)return ft.objectStoreNames||U.get(ft);if("store"===lt)return zt.objectStoreNames[1]?void 0:zt.objectStore(zt.objectStoreNames[0])}return Be(ft[lt])},set:(ft,lt,zt)=>(ft[lt]=zt,!0),has:(ft,lt)=>ft instanceof IDBTransaction&&("done"===lt||"store"===lt)||lt in ft};function Et(ft){return"function"==typeof ft?function It(ft){return ft!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ft)?function(...lt){return ft.apply(fe(this),lt),Be(z.get(this))}:function(...lt){return Be(ft.apply(fe(this),lt))}:function(lt,...zt){const Qt=ft.call(fe(this),lt,...zt);return U.set(Qt,lt.sort?lt.sort():[lt]),Be(Qt)}}(ft):(ft instanceof IDBTransaction&&function nt(ft){if(ce.has(ft))return;const lt=new Promise((zt,Qt)=>{const Mn=()=>{ft.removeEventListener("complete",Bn),ft.removeEventListener("error",oi),ft.removeEventListener("abort",oi)},Bn=()=>{zt(),Mn()},oi=()=>{Qt(ft.error||new DOMException("AbortError","AbortError")),Mn()};ft.addEventListener("complete",Bn),ft.addEventListener("error",oi),ft.addEventListener("abort",oi)});ce.set(ft,lt)}(ft),((ft,lt)=>lt.some(zt=>ft instanceof zt))(ft,function he(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ft,Ze):ft)}function Be(ft){if(ft instanceof IDBRequest)return function Te(ft){const lt=new Promise((zt,Qt)=>{const Mn=()=>{ft.removeEventListener("success",Bn),ft.removeEventListener("error",oi)},Bn=()=>{zt(Be(ft.result)),Mn()},oi=()=>{Qt(ft.error),Mn()};ft.addEventListener("success",Bn),ft.addEventListener("error",oi)});return lt.then(zt=>{zt instanceof IDBCursor&&z.set(zt,ft)}).catch(()=>{}),De.set(lt,ft),lt}(ft);if(Re.has(ft))return Re.get(ft);const lt=Et(ft);return lt!==ft&&(Re.set(ft,lt),De.set(lt,ft)),lt}const fe=ft=>De.get(ft),qe=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],wt=new Map;function Zt(ft,lt){if(!(ft instanceof IDBDatabase)||lt in ft||"string"!=typeof lt)return;if(wt.get(lt))return wt.get(lt);const zt=lt.replace(/FromIndex$/,""),Qt=lt!==zt,Mn=Ve.includes(zt);if(!(zt in(Qt?IDBIndex:IDBObjectStore).prototype)||!Mn&&!qe.includes(zt))return;const Bn=function(){var oi=(0,f.Z)(function*(Mi,...Yn){const er=this.transaction(Mi,Mn?"readwrite":"readonly");let Sr=er.store;return Qt&&(Sr=Sr.index(Yn.shift())),(yield Promise.all([Sr[zt](...Yn),Mn&&er.done]))[0]});return function(Yn){return oi.apply(this,arguments)}}();return wt.set(lt,Bn),Bn}!function Fe(ft){Ze=ft(Ze)}(ft=>({...ft,get:(lt,zt,Qt)=>Zt(lt,zt)||ft.get(lt,zt,Qt),has:(lt,zt)=>!!Zt(lt,zt)||ft.has(lt,zt)}));class Ht{constructor(lt){this.container=lt}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function on(ft){return"VERSION"===ft.getComponent()?.type}(zt)){const Qt=zt.getImmediate();return`${Qt.library}/${Qt.version}`}return null}).filter(zt=>zt).join(" ")}}const Gt="@firebase/app",Kn=new k.Yd("@firebase/app"),Ie="[DEFAULT]",ot={[Gt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ne=new Map,pe=new Map;function le(ft,lt){try{ft.container.addComponent(lt)}catch(zt){Kn.debug(`Component ${lt.name} failed to register with FirebaseApp ${ft.name}`,zt)}}function ye(ft,lt){ft.container.addOrOverwriteComponent(lt)}function me(ft){const lt=ft.name;if(pe.has(lt))return Kn.debug(`There were multiple attempts to register component ${lt}.`),!1;pe.set(lt,ft);for(const zt of Ne.values())le(zt,ft);return!0}function ae(ft,lt){const zt=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return zt&&zt.triggerHeartbeat(),ft.container.getProvider(lt)}function tt(ft,lt,zt=Ie){ae(ft,lt).clearInstance(zt)}function Mt(){pe.clear()}const sn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pt{constructor(lt,zt,Qt){this._isDeleted=!1,this._options=Object.assign({},lt),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=Qt,this.container.addComponent(new d.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(lt){this.checkDestroyed(),this._automaticDataCollectionEnabled=lt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(lt){this._isDeleted=lt}checkDestroyed(){if(this.isDeleted)throw sn.create("app-deleted",{appName:this._name})}}const Ue="9.23.0";function Oe(ft,lt={}){let zt=ft;"object"!=typeof lt&&(lt={name:lt});const Qt=Object.assign({name:Ie,automaticDataCollectionEnabled:!1},lt),Mn=Qt.name;if("string"!=typeof Mn||!Mn)throw sn.create("bad-app-name",{appName:String(Mn)});if(zt||(zt=(0,re.aH)()),!zt)throw sn.create("no-options");const Bn=Ne.get(Mn);if(Bn){if((0,re.vZ)(zt,Bn.options)&&(0,re.vZ)(Qt,Bn.config))return Bn;throw sn.create("duplicate-app",{appName:Mn})}const oi=new d.H0(Mn);for(const Yn of pe.values())oi.addComponent(Yn);const Mi=new pt(zt,Qt,oi);return Ne.set(Mn,Mi),Mi}function Dt(ft=Ie){const lt=Ne.get(ft);if(!lt&&ft===Ie&&(0,re.aH)())return Oe();if(!lt)throw sn.create("no-app",{appName:ft});return lt}function Xt(){return Array.from(Ne.values())}function Pn(ft){return mt.apply(this,arguments)}function mt(){return(mt=(0,f.Z)(function*(ft){const lt=ft.name;Ne.has(lt)&&(Ne.delete(lt),yield Promise.all(ft.container.getProviders().map(zt=>zt.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function Ke(ft,lt,zt){var Qt;let Mn=null!==(Qt=ot[ft])&&void 0!==Qt?Qt:ft;zt&&(Mn+=`-${zt}`);const Bn=Mn.match(/\s|\//),oi=lt.match(/\s|\//);if(Bn||oi){const Mi=[`Unable to register library "${Mn}" with version "${lt}":`];return Bn&&Mi.push(`library name "${Mn}" contains illegal characters (whitespace or "/")`),Bn&&oi&&Mi.push("and"),oi&&Mi.push(`version name "${lt}" contains illegal characters (whitespace or "/")`),void Kn.warn(Mi.join(" "))}me(new d.wA(`${Mn}-version`,()=>({library:Mn,version:lt}),"VERSION"))}function Me(ft,lt){if(null!==ft&&"function"!=typeof ft)throw sn.create("invalid-log-argument");(0,k.Am)(ft,lt)}function dt(ft){(0,k.Ub)(ft)}const Ae="firebase-heartbeat-store";let xe=null;function ie(){return xe||(xe=function Pe(ft,lt,{blocked:zt,upgrade:Qt,blocking:Mn,terminated:Bn}={}){const oi=indexedDB.open(ft,lt),Mi=Be(oi);return Qt&&oi.addEventListener("upgradeneeded",Yn=>{Qt(Be(oi.result),Yn.oldVersion,Yn.newVersion,Be(oi.transaction),Yn)}),zt&&oi.addEventListener("blocked",Yn=>zt(Yn.oldVersion,Yn.newVersion,Yn)),Mi.then(Yn=>{Bn&&Yn.addEventListener("close",()=>Bn()),Mn&&Yn.addEventListener("versionchange",er=>Mn(er.oldVersion,er.newVersion,er))}).catch(()=>{}),Mi}("firebase-heartbeat-database",1,{upgrade:(ft,lt)=>{0===lt&&ft.createObjectStore(Ae)}}).catch(ft=>{throw sn.create("idb-open",{originalErrorMessage:ft.message})})),xe}function K(){return(K=(0,f.Z)(function*(ft){try{return yield(yield ie()).transaction(Ae).objectStore(Ae).get(un(ft))}catch(lt){if(lt instanceof re.ZR)Kn.warn(lt.message);else{const zt=sn.create("idb-get",{originalErrorMessage:lt?.message});Kn.warn(zt.message)}}})).apply(this,arguments)}function Je(ft,lt){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,f.Z)(function*(ft,lt){try{const Qt=(yield ie()).transaction(Ae,"readwrite");yield Qt.objectStore(Ae).put(lt,un(ft)),yield Qt.done}catch(zt){if(zt instanceof re.ZR)Kn.warn(zt.message);else{const Qt=sn.create("idb-set",{originalErrorMessage:zt?.message});Kn.warn(Qt.message)}}})).apply(this,arguments)}function un(ft){return`${ft.name}!${ft.options.appId}`}class Ce{constructor(lt){this.container=lt,this._heartbeatsCache=null;const zt=this.container.getProvider("app").getImmediate();this._storage=new bt(zt),this._heartbeatsCachePromise=this._storage.read().then(Qt=>(this._heartbeatsCache=Qt,Qt))}triggerHeartbeat(){var lt=this;return(0,f.Z)(function*(){const Qt=lt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mn=ue();if(null===lt._heartbeatsCache&&(lt._heartbeatsCache=yield lt._heartbeatsCachePromise),lt._heartbeatsCache.lastSentHeartbeatDate!==Mn&&!lt._heartbeatsCache.heartbeats.some(Bn=>Bn.date===Mn))return lt._heartbeatsCache.heartbeats.push({date:Mn,agent:Qt}),lt._heartbeatsCache.heartbeats=lt._heartbeatsCache.heartbeats.filter(Bn=>{const oi=new Date(Bn.date).valueOf();return Date.now()-oi<=2592e6}),lt._storage.overwrite(lt._heartbeatsCache)})()}getHeartbeatsHeader(){var lt=this;return(0,f.Z)(function*(){if(null===lt._heartbeatsCache&&(yield lt._heartbeatsCachePromise),null===lt._heartbeatsCache||0===lt._heartbeatsCache.heartbeats.length)return"";const zt=ue(),{heartbeatsToSend:Qt,unsentEntries:Mn}=function Ye(ft,lt=1024){const zt=[];let Qt=ft.slice();for(const Mn of ft){const Bn=zt.find(oi=>oi.agent===Mn.agent);if(Bn){if(Bn.dates.push(Mn.date),cn(zt)>lt){Bn.dates.pop();break}}else if(zt.push({agent:Mn.agent,dates:[Mn.date]}),cn(zt)>lt){zt.pop();break}Qt=Qt.slice(1)}return{heartbeatsToSend:zt,unsentEntries:Qt}}(lt._heartbeatsCache.heartbeats),Bn=(0,re.L)(JSON.stringify({version:2,heartbeats:Qt}));return lt._heartbeatsCache.lastSentHeartbeatDate=zt,Mn.length>0?(lt._heartbeatsCache.heartbeats=Mn,yield lt._storage.overwrite(lt._heartbeatsCache)):(lt._heartbeatsCache.heartbeats=[],lt._storage.overwrite(lt._heartbeatsCache)),Bn})()}}function ue(){return(new Date).toISOString().substring(0,10)}class bt{constructor(lt){this.app=lt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var lt=this;return(0,f.Z)(function*(){return(yield lt._canUseIndexedDBPromise)&&(yield function q(ft){return K.apply(this,arguments)}(lt.app))||{heartbeats:[]}})()}overwrite(lt){var zt=this;return(0,f.Z)(function*(){var Qt;if(yield zt._canUseIndexedDBPromise){const Bn=yield zt.read();return Je(zt.app,{lastSentHeartbeatDate:null!==(Qt=lt.lastSentHeartbeatDate)&&void 0!==Qt?Qt:Bn.lastSentHeartbeatDate,heartbeats:lt.heartbeats})}})()}add(lt){var zt=this;return(0,f.Z)(function*(){var Qt;if(yield zt._canUseIndexedDBPromise){const Bn=yield zt.read();return Je(zt.app,{lastSentHeartbeatDate:null!==(Qt=lt.lastSentHeartbeatDate)&&void 0!==Qt?Qt:Bn.lastSentHeartbeatDate,heartbeats:[...Bn.heartbeats,...lt.heartbeats]})}})()}}function cn(ft){return(0,re.L)(JSON.stringify({version:2,heartbeats:ft})).length}!function Nn(ft){me(new d.wA("platform-logger",lt=>new Ht(lt),"PRIVATE")),me(new d.wA("heartbeat",lt=>new Ce(lt),"PRIVATE")),Ke(Gt,"0.9.13",ft),Ke(Gt,"0.9.13","esm2017"),Ke("fire-js","")}("")},3475:(He,ge,D)=>{D.d(ge,{H0:()=>he,wA:()=>k});var f=D(5861),d=D(2090);class k{constructor(z,ce,U){this.name=z,this.instanceFactory=ce,this.type=U,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const re="[DEFAULT]";class ee{constructor(z,ce){this.name=z,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const ce=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(ce)){const U=new d.BH;if(this.instancesDeferred.set(ce,U),this.isInitialized(ce)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:ce});Re&&U.resolve(Re)}catch{}}return this.instancesDeferred.get(ce).promise}getImmediate(z){var ce;const U=this.normalizeInstanceIdentifier(z?.identifier),Re=null!==(ce=z?.optional)&&void 0!==ce&&ce;if(!this.isInitialized(U)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:U})}catch(De){if(Re)return null;throw De}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function Ee(de){return"EAGER"===de.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[ce,U]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(ce);try{const De=this.getOrInitializeService({instanceIdentifier:Re});U.resolve(De)}catch{}}}}clearInstance(z=re){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,f.Z)(function*(){const ce=Array.from(z.instances.values());yield Promise.all([...ce.filter(U=>"INTERNAL"in U).map(U=>U.INTERNAL.delete()),...ce.filter(U=>"_delete"in U).map(U=>U._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=re){return this.instances.has(z)}getOptions(z=re){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:ce={}}=z,U=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(U))throw Error(`${this.name}(${U}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:U,options:ce});for(const[De,Te]of this.instancesDeferred.entries())U===this.normalizeInstanceIdentifier(De)&&Te.resolve(Re);return Re}onInit(z,ce){var U;const Re=this.normalizeInstanceIdentifier(ce),De=null!==(U=this.onInitCallbacks.get(Re))&&void 0!==U?U:new Set;De.add(z),this.onInitCallbacks.set(Re,De);const Te=this.instances.get(Re);return Te&&z(Te,Re),()=>{De.delete(z)}}invokeOnInitCallbacks(z,ce){const U=this.onInitCallbacks.get(ce);if(U)for(const Re of U)try{Re(z,ce)}catch{}}getOrInitializeService({instanceIdentifier:z,options:ce={}}){let U=this.instances.get(z);if(!U&&this.component&&(U=this.component.instanceFactory(this.container,{instanceIdentifier:(de=z,de===re?void 0:de),options:ce}),this.instances.set(z,U),this.instancesOptions.set(z,ce),this.invokeOnInitCallbacks(U,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,U)}catch{}var de;return U||null}normalizeInstanceIdentifier(z=re){return this.component?this.component.multipleInstances?z:re:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const ce=this.getProvider(z.name);if(ce.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);ce.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const ce=new ee(z,this);return this.providers.set(z,ce),ce}getProviders(){return Array.from(this.providers.values())}}},1877:(He,ge,D)=>{D.d(ge,{Am:()=>de,Ub:()=>he,Yd:()=>Ee,in:()=>d});const f=[];var d=(()=>{return(z=d||(d={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",d;var z})();const k={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},re=d.INFO,ee={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},W=(z,ce,...U)=>{if(ce<z.logLevel)return;const Re=(new Date).toISOString(),De=ee[ce];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[De](`[${Re}]  ${z.name}:`,...U)};class Ee{constructor(ce){this.name=ce,this._logLevel=re,this._logHandler=W,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in d))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?k[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...ce),this._logHandler(this,d.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...ce),this._logHandler(this,d.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,d.INFO,...ce),this._logHandler(this,d.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,d.WARN,...ce),this._logHandler(this,d.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...ce),this._logHandler(this,d.ERROR,...ce)}}function he(z){f.forEach(ce=>{ce.setLogLevel(z)})}function de(z,ce){for(const U of f){let Re=null;ce&&ce.level&&(Re=k[ce.level]),U.userLogHandler=null===z?null:(De,Te,...nt)=>{const Ze=nt.map(Fe=>{if(null==Fe)return null;if("string"==typeof Fe)return Fe;if("number"==typeof Fe||"boolean"==typeof Fe)return Fe.toString();if(Fe instanceof Error)return Fe.message;try{return JSON.stringify(Fe)}catch{return null}}).filter(Fe=>Fe).join(" ");Te>=(Re??De.logLevel)&&z({level:d[Te].toLowerCase(),message:Ze,args:nt,type:De.name})}}}},825:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4650),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(9653),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9751),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(ge,D){if(this.action=ge,this.timestamp=D,this.type=PERFORM_ACTION,typeof ge.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(ge){this.timestamp=ge,this.type=RESET}}class Rollback{constructor(ge){this.timestamp=ge,this.type=ROLLBACK}}class Commit{constructor(ge){this.timestamp=ge,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(ge){this.id=ge,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(ge,D,f=!0){this.start=ge,this.end=D,this.active=f,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(ge){this.index=ge,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(ge){this.actionId=ge,this.type=JUMP_TO_ACTION}}class ImportState{constructor(ge){this.nextLiftedState=ge,this.type=IMPORT_STATE}}class LockChanges{constructor(ge){this.status=ge,this.type=LOCK_CHANGES}}class PauseRecording{constructor(ge){this.status=ge,this.type=PAUSE_RECORDING}}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(He){const ge={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},D="function"==typeof He?He():He,k=Object.assign({},ge,{features:D.features||!!D.logOnly&&{pause:!0,export:!0,test:!0}||ge.features},D);if(k.maxAge&&k.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${k.maxAge}`);return k}function difference(He,ge){return He.filter(D=>ge.indexOf(D)<0)}function unliftState(He){const{computedStates:ge,currentStateIndex:D}=He;if(D>=ge.length){const{state:d}=ge[ge.length-1];return d}const{state:f}=ge[D];return f}function unliftAction(He){return He.actionsById[He.nextActionId-1]}function liftAction(He){return new PerformAction(He,+Date.now())}function sanitizeActions(He,ge){return Object.keys(ge).reduce((D,f)=>{const d=Number(f);return D[d]=sanitizeAction(He,ge[d],d),D},{})}function sanitizeAction(He,ge,D){return{...ge,action:He(ge.action,D)}}function sanitizeStates(He,ge){return ge.map((D,f)=>({state:sanitizeState(He,D.state,f),error:D.error}))}function sanitizeState(He,ge,D){return He(ge,D)}function shouldFilterActions(He){return He.predicate||He.actionsSafelist||He.actionsBlocklist}function filterLiftedState(He,ge,D,f){const d=[],k={},re=[];return He.stagedActionIds.forEach((ee,W)=>{const Ee=He.actionsById[ee];!Ee||W&&isActionFiltered(He.computedStates[W],Ee,ge,D,f)||(k[ee]=Ee,d.push(ee),re.push(He.computedStates[W]))}),{...He,stagedActionIds:d,actionsById:k,computedStates:re}}function isActionFiltered(He,ge,D,f,d){const k=D&&!D(He,ge.action),re=f&&!ge.action.type.match(f.map(W=>escapeRegExp(W)).join("|")),ee=d&&ge.action.type.match(d.map(W=>escapeRegExp(W)).join("|"));return k||re||ee}function escapeRegExp(He){return He.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let DevtoolsDispatcher=(()=>{class He extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return He.\u0275fac=function(){let ge;return function(f){return(ge||(ge=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(He)))(f||He)}}(),He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(He,ge,D){this.config=ge,this.dispatcher=D,this.devtoolsExtension=He,this.createActionStreams()}notify(He,ge){if(this.devtoolsExtension)if(He.type===PERFORM_ACTION){if(ge.isLocked||ge.isPaused)return;const D=unliftState(ge);if(shouldFilterActions(this.config)&&isActionFiltered(D,He,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const f=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,D,ge.currentStateIndex):D,d=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,He,ge.nextActionId):He;this.sendToReduxDevtools(()=>this.extensionConnection.send(d,f))}else{const D={...ge,stagedActionIds:ge.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,ge.actionsById):ge.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,ge.computedStates):ge.computedStates};this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,D,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(He=>{const ge=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=ge,ge.init(),ge.subscribe(D=>He.next(D)),ge.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const He=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),ge=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.START)),D=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.STOP)),f=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(ee=>ee.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(W=>W.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>ee),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(ee))),k=He.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(ee=>ee.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(ee=>this.unwrapAction(ee.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),re=f.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D));this.start$=ge.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(D)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>k)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>re))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(He){const ge={name:He.name,features:He.features,serialize:He.serialize,autoPause:He.autoPause??!1};return!1!==He.maxAge&&(ge.maxAge=He.maxAge),ge}sendToReduxDevtools(He){try{He()}catch(ge){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",ge)}}}return DevtoolsExtension.\u0275fac=function He(ge){return new(ge||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(He,ge,D,f,d){if(f)return{state:D,error:"Interrupted by an error up the chain"};let re,k=D;try{k=He(D,ge)}catch(ee){re=ee.toString(),d.handleError(ee)}return{state:k,error:re}}function recomputeStates(He,ge,D,f,d,k,re,ee,W){if(ge>=He.length&&He.length===k.length)return He;const Ee=He.slice(0,ge),he=k.length-(W?1:0);for(let de=ge;de<he;de++){const z=k[de],ce=d[z].action,U=Ee[de-1],Re=U?U.state:f,De=U?U.error:void 0,nt=re.indexOf(z)>-1?U:computeNextEntry(D,ce,Re,De,ee);Ee.push(nt)}return W&&Ee.push(He[He.length-1]),Ee}function liftInitialState(He,ge){return{monitorState:ge(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:He,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(He,ge,D,f,d={}){return k=>(re,ee)=>{let{monitorState:W,actionsById:Ee,nextActionId:he,stagedActionIds:de,skippedActionIds:z,committedState:ce,currentStateIndex:U,computedStates:Re,isLocked:De,isPaused:Te}=re||ge;function nt(It){let Et=It,Be=de.slice(1,Et+1);for(let fe=0;fe<Be.length;fe++){if(Re[fe+1].error){Et=fe,Be=de.slice(1,Et+1);break}delete Ee[Be[fe]]}z=z.filter(fe=>-1===Be.indexOf(fe)),de=[0,...de.slice(Et+1)],ce=Re[Et].state,Re=Re.slice(Et),U=U>Et?U-Et:0}function Ze(){Ee={0:liftAction(INIT_ACTION)},he=1,de=[0],z=[],ce=Re[U].state,U=0,Re=[]}re||(Ee=Object.create(Ee));let Fe=0;switch(ee.type){case LOCK_CHANGES:De=ee.status,Fe=1/0;break;case PAUSE_RECORDING:Te=ee.status,Te?(de=[...de,he],Ee[he]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),he++,Fe=de.length-1,Re=Re.concat(Re[Re.length-1]),U===de.length-2&&U++,Fe=1/0):Ze();break;case RESET:Ee={0:liftAction(INIT_ACTION)},he=1,de=[0],z=[],ce=He,U=0,Re=[];break;case COMMIT:Ze();break;case ROLLBACK:Ee={0:liftAction(INIT_ACTION)},he=1,de=[0],z=[],U=0,Re=[];break;case TOGGLE_ACTION:{const{id:It}=ee;z=-1===z.indexOf(It)?[It,...z]:z.filter(Be=>Be!==It),Fe=de.indexOf(It);break}case SET_ACTIONS_ACTIVE:{const{start:It,end:Et,active:Be}=ee,fe=[];for(let Pe=It;Pe<Et;Pe++)fe.push(Pe);z=Be?difference(z,fe):[...z,...fe],Fe=de.indexOf(It);break}case JUMP_TO_STATE:U=ee.index,Fe=1/0;break;case JUMP_TO_ACTION:{const It=de.indexOf(ee.actionId);-1!==It&&(U=It),Fe=1/0;break}case SWEEP:de=difference(de,z),z=[],U=Math.min(U,de.length-1);break;case PERFORM_ACTION:{if(De)return re||ge;if(Te||re&&isActionFiltered(re.computedStates[U],ee,d.predicate,d.actionsSafelist,d.actionsBlocklist)){const Et=Re[Re.length-1];Re=[...Re.slice(0,-1),computeNextEntry(k,ee.action,Et.state,Et.error,D)],Fe=1/0;break}d.maxAge&&de.length===d.maxAge&&nt(1),U===de.length-1&&U++;const It=he++;Ee[It]=ee,de=[...de,It],Fe=de.length-1;break}case IMPORT_STATE:({monitorState:W,actionsById:Ee,nextActionId:he,stagedActionIds:de,skippedActionIds:z,committedState:ce,currentStateIndex:U,computedStates:Re,isLocked:De,isPaused:Te}=ee.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:Fe=0,d.maxAge&&de.length>d.maxAge&&(Re=recomputeStates(Re,Fe,k,ce,Ee,de,z,D,Te),nt(de.length-d.maxAge),Fe=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Re.filter(Et=>Et.error).length>0)Fe=0,d.maxAge&&de.length>d.maxAge&&(Re=recomputeStates(Re,Fe,k,ce,Ee,de,z,D,Te),nt(de.length-d.maxAge),Fe=1/0);else{if(!Te&&!De){U===de.length-1&&U++;const Et=he++;Ee[Et]=new PerformAction(ee,+Date.now()),de=[...de,Et],Fe=de.length-1,Re=recomputeStates(Re,Fe,k,ce,Ee,de,z,D,Te)}Re=Re.map(Et=>({...Et,state:k(Et.state,RECOMPUTE_ACTION)})),U=de.length-1,d.maxAge&&de.length>d.maxAge&&nt(de.length-d.maxAge),Fe=1/0}break;default:Fe=1/0}return Re=recomputeStates(Re,Fe,k,ce,Ee,de,z,D,Te),W=f(W,ee),{monitorState:W,actionsById:Ee,nextActionId:he,stagedActionIds:de,skippedActionIds:z,committedState:ce,currentStateIndex:U,computedStates:Re,isLocked:De,isPaused:Te}}}let StoreDevtools=(()=>{class He{constructor(D,f,d,k,re,ee,W,Ee){const he=liftInitialState(W,Ee.monitor),de=liftReducerWith(W,he,ee,Ee.monitor,Ee),z=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(f.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),k.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),D,k.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),ce=d.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(de)),U=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Re=z.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(ce),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:Ze},[Fe,It])=>{let Et=It(Ze,Fe);return Fe.type!==PERFORM_ACTION&&shouldFilterActions(Ee)&&(Et=filterLiftedState(Et,Ee.predicate,Ee.actionsSafelist,Ee.actionsBlocklist)),k.notify(Fe,Et),{state:Et,action:Fe}},{state:he,action:null})).subscribe(({state:Ze,action:Fe})=>{U.next(Ze),Fe.type===PERFORM_ACTION&&re.next(Fe.action)}),De=k.start$.subscribe(()=>{this.refresh()}),Te=U.asObservable(),nt=Te.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=De,this.stateSubscription=Re,this.dispatcher=D,this.liftedState=Te,this.state=nt}dispatch(D){this.dispatcher.next(D)}next(D){this.dispatcher.next(D)}error(D){}complete(){}performAction(D){this.dispatch(new PerformAction(D,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(D){this.dispatch(new ToggleAction(D))}jumpToAction(D){this.dispatch(new JumpToAction(D))}jumpToState(D){this.dispatch(new JumpToState(D))}importState(D){this.dispatch(new ImportState(D))}lockChanges(D){this.dispatch(new LockChanges(D))}pauseRecording(D){this.dispatch(new PauseRecording(D))}}return He.\u0275fac=function(D){return new(D||He)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},He.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:He,factory:He.\u0275fac}),He})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(He,ge){return Boolean(He)||ge.monitor!==noMonitor}function createReduxDevtoolsExtension(){const He="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&typeof window[He]<"u"?window[He]:null}function provideStoreDevtools(He={}){return{\u0275providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:He},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}function createStateObservable(He){return He.state}let StoreDevtoolsModule=(()=>{class He{static instrument(D={}){return{ngModule:He,providers:[...provideStoreDevtools(D).\u0275providers]}}}return He.\u0275fac=function(D){return new(D||He)},He.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:He}),He.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),He})()},9653:(He,ge,D)=>{D.d(ge,{UO:()=>Ge,qg:()=>Pe,Y6:()=>Zt,mK:()=>J,n$:()=>it,Y$:()=>Ie,FR:()=>Ne,wb:()=>te});var f=D(4650),d=D(1135),k=D(9751),re=D(7579);D(233),D(5363),D(1365),D(5026),D(4004),D(1884);const Pe="@ngrx/store/init";let Ge=(()=>{class ke extends d.X{constructor(){super({type:Pe})}next(_t){if("function"==typeof _t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(typeof _t>"u")throw new TypeError("Actions must be objects");if(typeof _t.type>"u")throw new TypeError("Actions must have a type property");super.next(_t)}complete(){}ngOnDestroy(){super.complete()}}return ke.\u0275fac=function(_t){return new(_t||ke)},ke.\u0275prov=f.Yz7({token:ke,factory:ke.\u0275fac}),ke})();new f.OlP("@ngrx/store Internal Root Guard"),new f.OlP("@ngrx/store Internal Initial State");const Zt=new f.OlP("@ngrx/store Initial State");new f.OlP("@ngrx/store Reducer Factory"),new f.OlP("@ngrx/store Internal Reducer Factory Provider"),new f.OlP("@ngrx/store Initial Reducers"),new f.OlP("@ngrx/store Internal Initial Reducers"),new f.OlP("@ngrx/store Store Features"),new f.OlP("@ngrx/store Internal Store Reducers"),new f.OlP("@ngrx/store Internal Feature Reducers"),new f.OlP("@ngrx/store Internal Feature Configs"),new f.OlP("@ngrx/store Internal Store Features"),new f.OlP("@ngrx/store Internal Feature Reducers Token"),new f.OlP("@ngrx/store Feature Reducers"),new f.OlP("@ngrx/store User Provided Meta Reducers"),new f.OlP("@ngrx/store Meta Reducers"),new f.OlP("@ngrx/store Internal Resolved Meta Reducers"),new f.OlP("@ngrx/store User Runtime Checks Config"),new f.OlP("@ngrx/store Internal User Runtime Checks Config"),new f.OlP("@ngrx/store Internal Runtime Checks"),new f.OlP("@ngrx/store Check if Action types are unique"),new f.OlP("@ngrx/store Root Store Provider"),new f.OlP("@ngrx/store Feature State Provider");class it extends k.y{}class J extends Ge{}const te="@ngrx/store/update-reducers";let Ie=(()=>{class ke extends re.x{ngOnDestroy(){this.complete()}}return ke.\u0275fac=function(){let Tt;return function(Bt){return(Tt||(Tt=f.n5z(ke)))(Bt||ke)}}(),ke.\u0275prov=f.Yz7({token:ke,factory:ke.\u0275fac}),ke})();class Ne extends k.y{}},259:(He,ge,D)=>{D.d(ge,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=D(6881);(0,f.registerVersion)("firebase","9.23.0","app")},9260:(He,ge,D)=>{D.d(ge,{Z:()=>f.Z});var f=D(3942);f.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(He,ge,D)=>{D.r(ge);var f=D(5861),d=D(3942),k=D(1389),re=D(2090),Ee=(D(6881),D(1877),D(3475));function he(){return window}function ce(){return(ce=(0,f.Z)(function*(ie,q,K){var Je;const{BuildInfo:Lt}=he();(0,k.as)(q.sessionId,"AuthEvent did not contain a session ID");const un=yield Fe(q.sessionId),Cn={};return(0,k.at)()?Cn.ibi=Lt.packageName:(0,k.au)()?Cn.apn=Lt.packageName:(0,k.av)(ie,"operation-not-supported-in-this-environment"),Lt.displayName&&(Cn.appDisplayName=Lt.displayName),Cn.sessionId=un,(0,k.aw)(ie,K,q.type,void 0,null!==(Je=q.eventId)&&void 0!==Je?Je:void 0,Cn)})).apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(ie){const{BuildInfo:q}=he(),K={};(0,k.at)()?K.iosBundleId=q.packageName:(0,k.au)()?K.androidPackageName=q.packageName:(0,k.av)(ie,"operation-not-supported-in-this-environment"),yield(0,k.ax)(ie,K)})).apply(this,arguments)}function nt(){return(nt=(0,f.Z)(function*(ie,q,K){const{cordova:Je}=he();let Lt=()=>{};try{yield new Promise((un,Cn)=>{let _e=null;function Ce(){var bt;un();const cn=null===(bt=Je.plugins.browsertab)||void 0===bt?void 0:bt.close;"function"==typeof cn&&cn(),"function"==typeof K?.close&&K.close()}function ue(){_e||(_e=window.setTimeout(()=>{Cn((0,k.az)(ie,"redirect-cancelled-by-user"))},2e3))}function Ye(){"visible"===document?.visibilityState&&ue()}q.addPassiveListener(Ce),document.addEventListener("resume",ue,!1),(0,k.au)()&&document.addEventListener("visibilitychange",Ye,!1),Lt=()=>{q.removePassiveListener(Ce),document.removeEventListener("resume",ue,!1),document.removeEventListener("visibilitychange",Ye,!1),_e&&window.clearTimeout(_e)}})}finally{Lt()}})).apply(this,arguments)}function Fe(ie){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(ie){const q=Et(ie),K=yield crypto.subtle.digest("SHA-256",q);return Array.from(new Uint8Array(K)).map(Lt=>Lt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Et(ie){if((0,k.as)(/[0-9a-zA-Z]+/.test(ie),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ie);const q=new ArrayBuffer(ie.length),K=new Uint8Array(q);for(let Je=0;Je<ie.length;Je++)K[Je]=ie.charCodeAt(Je);return K}class fe extends k.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(q=>{this.resolveInialized=q})}addPassiveListener(q){this.passiveListeners.add(q)}removePassiveListener(q){this.passiveListeners.delete(q)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(q){return this.resolveInialized(),this.passiveListeners.forEach(K=>K(q)),super.onEvent(q)}initialized(){var q=this;return(0,f.Z)(function*(){yield q.initPromise})()}}function qe(ie){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(ie){const q=yield Ht()._get(on(ie));return q&&(yield Ht()._remove(on(ie))),q})).apply(this,arguments)}function Zt(){const ie=[],q="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let K=0;K<20;K++){const Je=Math.floor(Math.random()*q.length);ie.push(q.charAt(Je))}return ie.join("")}function Ht(){return(0,k.aC)(k.b)}function on(ie){return(0,k.aD)("authEvent",ie.config.apiKey,ie.name)}function Kn(ie){if(!ie?.includes("?"))return{};const[q,...K]=ie.split("?");return(0,re.zd)(K.join("?"))}function ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.az)("no-auth-event")}}function Yt(){var ie;return(null===(ie=self?.location)||void 0===ie?void 0:ie.protocol)||null}function et(ie=(0,re.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function xn(){try{const ie=self.localStorage,q=k.aL();if(ie)return ie.setItem(q,"1"),ie.removeItem(q),!function pn(ie=(0,re.z$)()){return function Wt(){return(0,re.w1)()&&11===document?.documentMode}()||function nn(ie=(0,re.z$)()){return/Edge\/\d+/.test(ie)}(ie)}()||(0,re.hl)()}catch{return Tn()&&(0,re.hl)()}return!1}function Tn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function $n(){return(function ze(){return"http:"===Yt()||"https:"===Yt()}()||(0,re.ru)()||et())&&!function xt(){return(0,re.b$)()||(0,re.UG)()}()&&xn()&&!Tn()}function Un(){return et()&&typeof document<"u"}function it(){return(it=(0,f.Z)(function*(){return!!Un()&&new Promise(ie=>{const q=setTimeout(()=>{ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(q),ie(!0)})})})).apply(this,arguments)}const te={LOCAL:"local",NONE:"none",SESSION:"session"},ve=k.aA,ne="persistence";function ot(ie){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*(ie){yield ie._initializationPromise;const q=le(),K=k.aD(ne,ie.config.apiKey,ie.name);q&&q.setItem(K,ie._getPersistence())})).apply(this,arguments)}function le(){var ie;try{return(null===(ie=function J(){return typeof window<"u"?window:null}())||void 0===ie?void 0:ie.sessionStorage)||null}catch{return null}}const ye=k.aA;class me{constructor(){this.browserResolver=k.aC(k.k),this.cordovaResolver=k.aC(class di{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(q){var K=this;return(0,f.Z)(function*(){const Je=q._key();let Lt=K.eventManagers.get(Je);return Lt||(Lt=new fe(q),K.eventManagers.set(Je,Lt),K.attachCallbackListeners(q,Lt)),Lt})()}_openPopup(q){(0,k.av)(q,"operation-not-supported-in-this-environment")}_openRedirect(q,K,Je,Lt){var un=this;return(0,f.Z)(function*(){!function Ze(ie){var q,K,Je,Lt,un,Cn,_e,Ce,ue,Ye;const bt=he();(0,k.aA)("function"==typeof(null===(q=bt?.universalLinks)||void 0===q?void 0:q.subscribe),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aA)(typeof(null===(K=bt?.BuildInfo)||void 0===K?void 0:K.packageName)<"u",ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aA)("function"==typeof(null===(un=null===(Lt=null===(Je=bt?.cordova)||void 0===Je?void 0:Je.plugins)||void 0===Lt?void 0:Lt.browsertab)||void 0===un?void 0:un.openUrl),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(Ce=null===(_e=null===(Cn=bt?.cordova)||void 0===Cn?void 0:Cn.plugins)||void 0===_e?void 0:_e.browsertab)||void 0===Ce?void 0:Ce.isAvailable),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aA)("function"==typeof(null===(Ye=null===(ue=bt?.cordova)||void 0===ue?void 0:ue.InAppBrowser)||void 0===Ye?void 0:Ye.open),ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(q);const Cn=yield un._initialize(q);yield Cn.initialized(),Cn.resetRedirect(),(0,k.aG)(),yield un._originValidation(q);const _e=function Pe(ie,q,K=null){return{type:q,eventId:K,urlResponse:null,sessionId:Zt(),postBody:null,tenantId:ie.tenantId,error:(0,k.az)(ie,"no-auth-event")}}(q,Je,Lt);yield function Ge(ie,q){return Ht()._set(on(ie),q)}(q,_e);const Ce=yield function z(ie,q,K){return ce.apply(this,arguments)}(q,_e,K),ue=yield function De(ie){const{cordova:q}=he();return new Promise(K=>{q.plugins.browsertab.isAvailable(Je=>{let Lt=null;Je?q.plugins.browsertab.openUrl(ie):Lt=q.InAppBrowser.open(ie,(0,k.ay)()?"_blank":"_system","location=yes"),K(Lt)})})}(Ce);return function Te(ie,q,K){return nt.apply(this,arguments)}(q,Cn,ue)})()}_isIframeWebStorageSupported(q,K){throw new Error("Method not implemented.")}_originValidation(q){const K=q._key();return this.originValidationPromises[K]||(this.originValidationPromises[K]=function U(ie){return Re.apply(this,arguments)}(q)),this.originValidationPromises[K]}attachCallbackListeners(q,K){const{universalLinks:Je,handleOpenURL:Lt,BuildInfo:un}=he(),Cn=setTimeout((0,f.Z)(function*(){yield qe(q),K.onEvent(ut())}),500),_e=function(){var Ye=(0,f.Z)(function*(bt){clearTimeout(Cn);const cn=yield qe(q);let Nn=null;cn&&bt?.url&&(Nn=function wt(ie,q){var K,Je;const Lt=function fi(ie){const q=Kn(ie),K=q.link?decodeURIComponent(q.link):void 0,Je=Kn(K).link,Lt=q.deep_link_id?decodeURIComponent(q.deep_link_id):void 0;return Kn(Lt).link||Lt||Je||K||ie}(q);if(Lt.includes("/__/auth/callback")){const un=Kn(Lt),Cn=un.firebaseError?function Gt(ie){try{return JSON.parse(ie)}catch{return null}}(decodeURIComponent(un.firebaseError)):null,_e=null===(Je=null===(K=Cn?.code)||void 0===K?void 0:K.split("auth/"))||void 0===Je?void 0:Je[1],Ce=_e?(0,k.az)(_e):null;return Ce?{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,error:Ce,urlResponse:null,sessionId:null,postBody:null}:{type:ie.type,eventId:ie.eventId,tenantId:ie.tenantId,sessionId:ie.sessionId,urlResponse:Lt,postBody:null}}return null}(cn,bt.url)),K.onEvent(Nn||ut())});return function(cn){return Ye.apply(this,arguments)}}();typeof Je<"u"&&"function"==typeof Je.subscribe&&Je.subscribe(null,_e);const Ce=Lt,ue=`${un.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Ye=(0,f.Z)(function*(bt){if(bt.toLowerCase().startsWith(ue)&&_e({url:bt}),"function"==typeof Ce)try{Ce(bt)}catch(cn){console.error(cn)}});return function(bt){return Ye.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aE,this._overrideRedirectResult=k.aF}_initialize(q){var K=this;return(0,f.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._initialize(q)})()}_openPopup(q,K,Je,Lt){var un=this;return(0,f.Z)(function*(){return yield un.selectUnderlyingResolver(),un.assertedUnderlyingResolver._openPopup(q,K,Je,Lt)})()}_openRedirect(q,K,Je,Lt){var un=this;return(0,f.Z)(function*(){return yield un.selectUnderlyingResolver(),un.assertedUnderlyingResolver._openRedirect(q,K,Je,Lt)})()}_isIframeWebStorageSupported(q,K){this.assertedUnderlyingResolver._isIframeWebStorageSupported(q,K)}_originValidation(q){return this.assertedUnderlyingResolver._originValidation(q)}get _shouldInitProactively(){return Un()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var q=this;return(0,f.Z)(function*(){if(q.underlyingResolver)return;const K=yield function pi(){return it.apply(this,arguments)}();q.underlyingResolver=K?q.cordovaResolver:q.browserResolver})()}}function ae(ie){return ie.unwrap()}function Mt(ie){return sn(ie)}function sn(ie){const{_tokenResponse:q}=ie instanceof re.ZR?ie.customData:ie;if(!q)return null;if(!(ie instanceof re.ZR)&&"temporaryProof"in q&&"phoneNumber"in q)return k.P.credentialFromResult(ie);const K=q.providerId;if(!K||K===k.p.PASSWORD)return null;let Je;switch(K){case k.p.GOOGLE:Je=k.V;break;case k.p.FACEBOOK:Je=k.U;break;case k.p.GITHUB:Je=k.W;break;case k.p.TWITTER:Je=k.Z;break;default:const{oauthIdToken:Lt,oauthAccessToken:un,oauthTokenSecret:Cn,pendingToken:_e,nonce:Ce}=q;return un||Cn||Lt||_e?_e?K.startsWith("saml.")?k.aO._create(K,_e):k.L._fromParams({providerId:K,signInMethod:K,pendingToken:_e,idToken:Lt,accessToken:un}):new k.X(K).credential({idToken:Lt,accessToken:un,rawNonce:Ce}):null}return ie instanceof re.ZR?Je.credentialFromError(ie):Je.credentialFromResult(ie)}function pt(ie,q){return q.catch(K=>{throw K instanceof re.ZR&&function rt(ie,q){var K;const Je=null===(K=q.customData)||void 0===K?void 0:K._tokenResponse;if("auth/multi-factor-auth-required"===q?.code)q.resolver=new Dt(ie,k.aq(ie,q));else if(Je){const Lt=sn(q),un=q;Lt&&(un.credential=Lt,un.tenantId=Je.tenantId||void 0,un.email=Je.email||void 0,un.phoneNumber=Je.phoneNumber||void 0)}}(ie,K),K}).then(K=>{const Lt=K.user;return{operationType:K.operationType,credential:Mt(K),additionalUserInfo:k.ao(K),user:Xt.getOrCreate(Lt)}})}function Ue(ie,q){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,f.Z)(function*(ie,q){const K=yield q;return{verificationId:K.verificationId,confirm:Je=>pt(ie,K.confirm(Je))}})).apply(this,arguments)}class Dt{constructor(q,K){this.resolver=K,this.auth=function tt(ie){return ie.wrapped()}(q)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(q){return pt(ae(this.auth),this.resolver.resolveSignIn(q))}}class Xt{constructor(q){this._delegate=q,this.multiFactor=k.ar(q)}static getOrCreate(q){return Xt.USER_MAP.has(q)||Xt.USER_MAP.set(q,new Xt(q)),Xt.USER_MAP.get(q)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(q){return this._delegate.getIdTokenResult(q)}getIdToken(q){return this._delegate.getIdToken(q)}linkAndRetrieveDataWithCredential(q){return this.linkWithCredential(q)}linkWithCredential(q){var K=this;return(0,f.Z)(function*(){return pt(K.auth,k.a0(K._delegate,q))})()}linkWithPhoneNumber(q,K){var Je=this;return(0,f.Z)(function*(){return Ue(Je.auth,k.l(Je._delegate,q,K))})()}linkWithPopup(q){var K=this;return(0,f.Z)(function*(){return pt(K.auth,k.d(K._delegate,q,me))})()}linkWithRedirect(q){var K=this;return(0,f.Z)(function*(){return yield ot(k.aH(K.auth)),k.g(K._delegate,q,me)})()}reauthenticateAndRetrieveDataWithCredential(q){return this.reauthenticateWithCredential(q)}reauthenticateWithCredential(q){var K=this;return(0,f.Z)(function*(){return pt(K.auth,k.a1(K._delegate,q))})()}reauthenticateWithPhoneNumber(q,K){return Ue(this.auth,k.r(this._delegate,q,K))}reauthenticateWithPopup(q){return pt(this.auth,k.e(this._delegate,q,me))}reauthenticateWithRedirect(q){var K=this;return(0,f.Z)(function*(){return yield ot(k.aH(K.auth)),k.h(K._delegate,q,me)})()}sendEmailVerification(q){return k.ae(this._delegate,q)}unlink(q){var K=this;return(0,f.Z)(function*(){return yield k.an(K._delegate,q),K})()}updateEmail(q){return k.aj(this._delegate,q)}updatePassword(q){return k.ak(this._delegate,q)}updatePhoneNumber(q){return k.u(this._delegate,q)}updateProfile(q){return k.ai(this._delegate,q)}verifyBeforeUpdateEmail(q,K){return k.af(this._delegate,q,K)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xt.USER_MAP=new WeakMap;const Pn=k.aA;let mt=(()=>{class ie{constructor(K,Je){if(this.app=K,Je.isInitialized())return this._delegate=Je.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Lt}=K.options;Pn(Lt,"invalid-api-key",{appName:K.name}),Pn(Lt,"invalid-api-key",{appName:K.name});const un=typeof window<"u"?me:void 0;this._delegate=Je.initialize({options:{persistence:Me(Lt,K.name),popupRedirectResolver:un}}),this._delegate._updateErrorMap(k.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(K){this._delegate.languageCode=K}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(K){this._delegate.tenantId=K}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(K,Je){k.I(this._delegate,K,Je)}applyActionCode(K){return k.a5(this._delegate,K)}checkActionCode(K){return k.a6(this._delegate,K)}confirmPasswordReset(K,Je){return k.a4(this._delegate,K,Je)}createUserWithEmailAndPassword(K,Je){var Lt=this;return(0,f.Z)(function*(){return pt(Lt._delegate,k.a8(Lt._delegate,K,Je))})()}fetchProvidersForEmail(K){return this.fetchSignInMethodsForEmail(K)}fetchSignInMethodsForEmail(K){return k.ad(this._delegate,K)}isSignInWithEmailLink(K){return k.ab(this._delegate,K)}getRedirectResult(){var K=this;return(0,f.Z)(function*(){Pn($n(),K._delegate,"operation-not-supported-in-this-environment");const Je=yield k.j(K._delegate,me);return Je?pt(K._delegate,Promise.resolve(Je)):{credential:null,user:null}})()}addFrameworkForLogging(K){!function Rt(ie,q){(0,k.aH)(ie)._logFramework(q)}(this._delegate,K)}onAuthStateChanged(K,Je,Lt){const{next:un,error:Cn,complete:_e}=Ke(K,Je,Lt);return this._delegate.onAuthStateChanged(un,Cn,_e)}onIdTokenChanged(K,Je,Lt){const{next:un,error:Cn,complete:_e}=Ke(K,Je,Lt);return this._delegate.onIdTokenChanged(un,Cn,_e)}sendSignInLinkToEmail(K,Je){return k.aa(this._delegate,K,Je)}sendPasswordResetEmail(K,Je){return k.a3(this._delegate,K,Je||void 0)}setPersistence(K){var Je=this;return(0,f.Z)(function*(){let Lt;switch(function Ie(ie,q){ve(Object.values(te).includes(q),ie,"invalid-persistence-type"),(0,re.b$)()?ve(q!==te.SESSION,ie,"unsupported-persistence-type"):(0,re.UG)()?ve(q===te.NONE,ie,"unsupported-persistence-type"):Tn()?ve(q===te.NONE||q===te.LOCAL&&(0,re.hl)(),ie,"unsupported-persistence-type"):ve(q===te.NONE||xn(),ie,"unsupported-persistence-type")}(Je._delegate,K),K){case te.SESSION:Lt=k.a;break;case te.LOCAL:Lt=(yield k.aC(k.i)._isAvailable())?k.i:k.b;break;case te.NONE:Lt=k.N;break;default:return k.av("argument-error",{appName:Je._delegate.name})}return Je._delegate.setPersistence(Lt)})()}signInAndRetrieveDataWithCredential(K){return this.signInWithCredential(K)}signInAnonymously(){return pt(this._delegate,k._(this._delegate))}signInWithCredential(K){return pt(this._delegate,k.$(this._delegate,K))}signInWithCustomToken(K){return pt(this._delegate,k.a2(this._delegate,K))}signInWithEmailAndPassword(K,Je){return pt(this._delegate,k.a9(this._delegate,K,Je))}signInWithEmailLink(K,Je){return pt(this._delegate,k.ac(this._delegate,K,Je))}signInWithPhoneNumber(K,Je){return Ue(this._delegate,k.s(this._delegate,K,Je))}signInWithPopup(K){var Je=this;return(0,f.Z)(function*(){return Pn($n(),Je._delegate,"operation-not-supported-in-this-environment"),pt(Je._delegate,k.c(Je._delegate,K,me))})()}signInWithRedirect(K){var Je=this;return(0,f.Z)(function*(){return Pn($n(),Je._delegate,"operation-not-supported-in-this-environment"),yield ot(Je._delegate),k.f(Je._delegate,K,me)})()}updateCurrentUser(K){return this._delegate.updateCurrentUser(K)}verifyPasswordResetCode(K){return k.a7(this._delegate,K)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ie.Persistence=te,ie})();function Ke(ie,q,K){let Je=ie;"function"!=typeof ie&&({next:Je,error:q,complete:K}=ie);const Lt=Je;return{next:Cn=>Lt(Cn&&Xt.getOrCreate(Cn)),error:q,complete:K}}function Me(ie,q){const K=function pe(ie,q){const K=le();if(!K)return[];const Je=k.aD(ne,ie,q);switch(K.getItem(Je)){case te.NONE:return[k.N];case te.LOCAL:return[k.i,k.a];case te.SESSION:return[k.a];default:return[]}}(ie,q);if(typeof self<"u"&&!K.includes(k.i)&&K.push(k.i),typeof window<"u")for(const Je of[k.b,k.a])K.includes(Je)||K.push(Je);return K.includes(k.N)||K.push(k.N),K}class dt{constructor(){this.providerId="phone",this._delegate=new k.P(ae(d.Z.auth()))}static credential(q,K){return k.P.credential(q,K)}verifyPhoneNumber(q,K){return this._delegate.verifyPhoneNumber(q,K)}unwrap(){return this._delegate}}dt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,dt.PROVIDER_ID=k.P.PROVIDER_ID;const yt=k.aA;class an{constructor(q,K,Je=d.Z.app()){var Lt;yt(null===(Lt=Je.options)||void 0===Lt?void 0:Lt.apiKey,"invalid-api-key",{appName:Je.name}),this._delegate=new k.R(q,K,Je.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function xe(ie){ie.INTERNAL.registerComponent(new Ee.wA("auth-compat",q=>{const K=q.getProvider("app-compat").getImmediate(),Je=q.getProvider("auth");return new mt(K,Je)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.Q,FacebookAuthProvider:k.U,GithubAuthProvider:k.W,GoogleAuthProvider:k.V,OAuthProvider:k.X,SAMLAuthProvider:k.Y,PhoneAuthProvider:dt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:an,TwitterAuthProvider:k.Z,Auth:mt,AuthCredential:k.J,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ie.registerVersion("@firebase/auth-compat","0.4.2")}(d.Z)},5861:(He,ge,D)=>{function f(k,re,ee,W,Ee,he,de){try{var z=k[he](de),ce=z.value}catch(U){return void ee(U)}z.done?re(ce):Promise.resolve(ce).then(W,Ee)}function d(k){return function(){var re=this,ee=arguments;return new Promise(function(W,Ee){var he=k.apply(re,ee);function de(ce){f(he,W,Ee,de,z,"next",ce)}function z(ce){f(he,W,Ee,de,z,"throw",ce)}de(void 0)})}}D.d(ge,{Z:()=>d})},7582:(He,ge,D)=>{function re(ht,ut){var Rt={};for(var gt in ht)Object.prototype.hasOwnProperty.call(ht,gt)&&ut.indexOf(gt)<0&&(Rt[gt]=ht[gt]);if(null!=ht&&"function"==typeof Object.getOwnPropertySymbols){var Ut=0;for(gt=Object.getOwnPropertySymbols(ht);Ut<gt.length;Ut++)ut.indexOf(gt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(ht,gt[Ut])&&(Rt[gt[Ut]]=ht[gt[Ut]])}return Rt}function U(ht,ut,Rt,gt){return new(Rt||(Rt=Promise))(function(We,Yt){function ze(Wt){try{xt(gt.next(Wt))}catch(nn){Yt(nn)}}function et(Wt){try{xt(gt.throw(Wt))}catch(nn){Yt(nn)}}function xt(Wt){Wt.done?We(Wt.value):function Ut(We){return We instanceof Rt?We:new Rt(function(Yt){Yt(We)})}(Wt.value).then(ze,et)}xt((gt=gt.apply(ht,ut||[])).next())})}function Be(ht){return this instanceof Be?(this.v=ht,this):new Be(ht)}function fe(ht,ut,Rt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ut,gt=Rt.apply(ht,ut||[]),We=[];return Ut={},Yt("next"),Yt("throw"),Yt("return"),Ut[Symbol.asyncIterator]=function(){return this},Ut;function Yt(pn){gt[pn]&&(Ut[pn]=function(xn){return new Promise(function(Tn,$n){We.push([pn,xn,Tn,$n])>1||ze(pn,xn)})})}function ze(pn,xn){try{!function et(pn){pn.value instanceof Be?Promise.resolve(pn.value.v).then(xt,Wt):nn(We[0][2],pn)}(gt[pn](xn))}catch(Tn){nn(We[0][3],Tn)}}function xt(pn){ze("next",pn)}function Wt(pn){ze("throw",pn)}function nn(pn,xn){pn(xn),We.shift(),We.length&&ze(We[0][0],We[0][1])}}function Ge(ht){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Rt,ut=ht[Symbol.asyncIterator];return ut?ut.call(ht):(ht=function nt(ht){var ut="function"==typeof Symbol&&Symbol.iterator,Rt=ut&&ht[ut],gt=0;if(Rt)return Rt.call(ht);if(ht&&"number"==typeof ht.length)return{next:function(){return ht&&gt>=ht.length&&(ht=void 0),{value:ht&&ht[gt++],done:!ht}}};throw new TypeError(ut?"Object is not iterable.":"Symbol.iterator is not defined.")}(ht),Rt={},gt("next"),gt("throw"),gt("return"),Rt[Symbol.asyncIterator]=function(){return this},Rt);function gt(We){Rt[We]=ht[We]&&function(Yt){return new Promise(function(ze,et){!function Ut(We,Yt,ze,et){Promise.resolve(et).then(function(xt){We({value:xt,done:ze})},Yt)}(ze,et,(Yt=ht[We](Yt)).done,Yt.value)})}}}D.d(ge,{FC:()=>fe,KL:()=>Ge,_T:()=>re,mG:()=>U,qq:()=>Be}),"function"==typeof SuppressedError&&SuppressedError}},He=>{He(He.s=7535)}]);